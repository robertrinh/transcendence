function Dm(e,t){for(var l=0;l<t.length;l++){const a=t[l];if(typeof a!="string"&&!Array.isArray(a)){for(const n in a)if(n!=="default"&&!(n in e)){const s=Object.getOwnPropertyDescriptor(a,n);s&&Object.defineProperty(e,n,s.get?s:{enumerable:!0,get:()=>a[n]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const r of s.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&a(r)}).observe(document,{childList:!0,subtree:!0});function l(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(n){if(n.ep)return;n.ep=!0;const s=l(n);fetch(n.href,s)}})();function ed(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var td={exports:{}},$s={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rm=Symbol.for("react.transitional.element"),Um=Symbol.for("react.fragment");function ld(e,t,l){var a=null;if(l!==void 0&&(a=""+l),t.key!==void 0&&(a=""+t.key),"key"in t){l={};for(var n in t)n!=="key"&&(l[n]=t[n])}else l=t;return t=l.ref,{$$typeof:Rm,type:e,key:a,ref:t!==void 0?t:null,props:l}}$s.Fragment=Um;$s.jsx=ld;$s.jsxs=ld;td.exports=$s;var i=td.exports,ad={exports:{}},q={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ic=Symbol.for("react.transitional.element"),Lm=Symbol.for("react.portal"),Bm=Symbol.for("react.fragment"),km=Symbol.for("react.strict_mode"),Hm=Symbol.for("react.profiler"),Ym=Symbol.for("react.consumer"),qm=Symbol.for("react.context"),Gm=Symbol.for("react.forward_ref"),Xm=Symbol.for("react.suspense"),Qm=Symbol.for("react.memo"),nd=Symbol.for("react.lazy"),Vm=Symbol.for("react.activity"),du=Symbol.iterator;function Zm(e){return e===null||typeof e!="object"?null:(e=du&&e[du]||e["@@iterator"],typeof e=="function"?e:null)}var sd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},id=Object.assign,rd={};function _a(e,t,l){this.props=e,this.context=t,this.refs=rd,this.updater=l||sd}_a.prototype.isReactComponent={};_a.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};_a.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function cd(){}cd.prototype=_a.prototype;function rc(e,t,l){this.props=e,this.context=t,this.refs=rd,this.updater=l||sd}var cc=rc.prototype=new cd;cc.constructor=rc;id(cc,_a.prototype);cc.isPureReactComponent=!0;var fu=Array.isArray;function ir(){}var fe={H:null,A:null,T:null,S:null},ud=Object.prototype.hasOwnProperty;function uc(e,t,l){var a=l.ref;return{$$typeof:ic,type:e,key:t,ref:a!==void 0?a:null,props:l}}function Jm(e,t){return uc(e.type,t,e.props)}function oc(e){return typeof e=="object"&&e!==null&&e.$$typeof===ic}function Km(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(l){return t[l]})}var mu=/\/+/g;function pi(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Km(""+e.key):t.toString(36)}function Fm(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(ir,ir):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function Wl(e,t,l,a,n){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var r=!1;if(e===null)r=!0;else switch(s){case"bigint":case"string":case"number":r=!0;break;case"object":switch(e.$$typeof){case ic:case Lm:r=!0;break;case nd:return r=e._init,Wl(r(e._payload),t,l,a,n)}}if(r)return n=n(e),r=a===""?"."+pi(e,0):a,fu(n)?(l="",r!=null&&(l=r.replace(mu,"$&/")+"/"),Wl(n,t,l,"",function(d){return d})):n!=null&&(oc(n)&&(n=Jm(n,l+(n.key==null||e&&e.key===n.key?"":(""+n.key).replace(mu,"$&/")+"/")+r)),t.push(n)),1;r=0;var c=a===""?".":a+":";if(fu(e))for(var u=0;u<e.length;u++)a=e[u],s=c+pi(a,u),r+=Wl(a,t,l,s,n);else if(u=Zm(e),typeof u=="function")for(e=u.call(e),u=0;!(a=e.next()).done;)a=a.value,s=c+pi(a,u++),r+=Wl(a,t,l,s,n);else if(s==="object"){if(typeof e.then=="function")return Wl(Fm(e),t,l,a,n);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return r}function Qn(e,t,l){if(e==null)return e;var a=[],n=0;return Wl(e,a,"","",function(s){return t.call(l,s,n++)}),a}function $m(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(l){(e._status===0||e._status===-1)&&(e._status=1,e._result=l)},function(l){(e._status===0||e._status===-1)&&(e._status=2,e._result=l)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var hu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Wm={map:Qn,forEach:function(e,t,l){Qn(e,function(){t.apply(this,arguments)},l)},count:function(e){var t=0;return Qn(e,function(){t++}),t},toArray:function(e){return Qn(e,function(t){return t})||[]},only:function(e){if(!oc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};q.Activity=Vm;q.Children=Wm;q.Component=_a;q.Fragment=Bm;q.Profiler=Hm;q.PureComponent=rc;q.StrictMode=km;q.Suspense=Xm;q.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=fe;q.__COMPILER_RUNTIME={__proto__:null,c:function(e){return fe.H.useMemoCache(e)}};q.cache=function(e){return function(){return e.apply(null,arguments)}};q.cacheSignal=function(){return null};q.cloneElement=function(e,t,l){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var a=id({},e.props),n=e.key;if(t!=null)for(s in t.key!==void 0&&(n=""+t.key),t)!ud.call(t,s)||s==="key"||s==="__self"||s==="__source"||s==="ref"&&t.ref===void 0||(a[s]=t[s]);var s=arguments.length-2;if(s===1)a.children=l;else if(1<s){for(var r=Array(s),c=0;c<s;c++)r[c]=arguments[c+2];a.children=r}return uc(e.type,n,a)};q.createContext=function(e){return e={$$typeof:qm,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:Ym,_context:e},e};q.createElement=function(e,t,l){var a,n={},s=null;if(t!=null)for(a in t.key!==void 0&&(s=""+t.key),t)ud.call(t,a)&&a!=="key"&&a!=="__self"&&a!=="__source"&&(n[a]=t[a]);var r=arguments.length-2;if(r===1)n.children=l;else if(1<r){for(var c=Array(r),u=0;u<r;u++)c[u]=arguments[u+2];n.children=c}if(e&&e.defaultProps)for(a in r=e.defaultProps,r)n[a]===void 0&&(n[a]=r[a]);return uc(e,s,n)};q.createRef=function(){return{current:null}};q.forwardRef=function(e){return{$$typeof:Gm,render:e}};q.isValidElement=oc;q.lazy=function(e){return{$$typeof:nd,_payload:{_status:-1,_result:e},_init:$m}};q.memo=function(e,t){return{$$typeof:Qm,type:e,compare:t===void 0?null:t}};q.startTransition=function(e){var t=fe.T,l={};fe.T=l;try{var a=e(),n=fe.S;n!==null&&n(l,a),typeof a=="object"&&a!==null&&typeof a.then=="function"&&a.then(ir,hu)}catch(s){hu(s)}finally{t!==null&&l.types!==null&&(t.types=l.types),fe.T=t}};q.unstable_useCacheRefresh=function(){return fe.H.useCacheRefresh()};q.use=function(e){return fe.H.use(e)};q.useActionState=function(e,t,l){return fe.H.useActionState(e,t,l)};q.useCallback=function(e,t){return fe.H.useCallback(e,t)};q.useContext=function(e){return fe.H.useContext(e)};q.useDebugValue=function(){};q.useDeferredValue=function(e,t){return fe.H.useDeferredValue(e,t)};q.useEffect=function(e,t){return fe.H.useEffect(e,t)};q.useEffectEvent=function(e){return fe.H.useEffectEvent(e)};q.useId=function(){return fe.H.useId()};q.useImperativeHandle=function(e,t,l){return fe.H.useImperativeHandle(e,t,l)};q.useInsertionEffect=function(e,t){return fe.H.useInsertionEffect(e,t)};q.useLayoutEffect=function(e,t){return fe.H.useLayoutEffect(e,t)};q.useMemo=function(e,t){return fe.H.useMemo(e,t)};q.useOptimistic=function(e,t){return fe.H.useOptimistic(e,t)};q.useReducer=function(e,t,l){return fe.H.useReducer(e,t,l)};q.useRef=function(e){return fe.H.useRef(e)};q.useState=function(e){return fe.H.useState(e)};q.useSyncExternalStore=function(e,t,l){return fe.H.useSyncExternalStore(e,t,l)};q.useTransition=function(){return fe.H.useTransition()};q.version="19.2.4";ad.exports=q;var b=ad.exports;const od=ed(b),Pm=Dm({__proto__:null,default:od},[b]);var dd={exports:{}},Ws={},fd={exports:{}},md={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(z,R){var U=z.length;z.push(R);e:for(;0<U;){var I=U-1>>>1,Y=z[I];if(0<n(Y,R))z[I]=R,z[U]=Y,U=I;else break e}}function l(z){return z.length===0?null:z[0]}function a(z){if(z.length===0)return null;var R=z[0],U=z.pop();if(U!==R){z[0]=U;e:for(var I=0,Y=z.length,ht=Y>>>1;I<ht;){var Ft=2*(I+1)-1,$t=z[Ft],xt=Ft+1,Wt=z[xt];if(0>n($t,U))xt<Y&&0>n(Wt,$t)?(z[I]=Wt,z[xt]=U,I=xt):(z[I]=$t,z[Ft]=U,I=Ft);else if(xt<Y&&0>n(Wt,U))z[I]=Wt,z[xt]=U,I=xt;else break e}}return R}function n(z,R){var U=z.sortIndex-R.sortIndex;return U!==0?U:z.id-R.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var r=Date,c=r.now();e.unstable_now=function(){return r.now()-c}}var u=[],d=[],y=1,h=null,m=3,g=!1,v=!1,p=!1,N=!1,f=typeof setTimeout=="function"?setTimeout:null,o=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;function j(z){for(var R=l(d);R!==null;){if(R.callback===null)a(d);else if(R.startTime<=z)a(d),R.sortIndex=R.expirationTime,t(u,R);else break;R=l(d)}}function E(z){if(p=!1,j(z),!v)if(l(u)!==null)v=!0,_||(_=!0,P());else{var R=l(d);R!==null&&$(E,R.startTime-z)}}var _=!1,S=-1,A=5,C=-1;function O(){return N?!0:!(e.unstable_now()-C<A)}function B(){if(N=!1,_){var z=e.unstable_now();C=z;var R=!0;try{e:{v=!1,p&&(p=!1,o(S),S=-1),g=!0;var U=m;try{t:{for(j(z),h=l(u);h!==null&&!(h.expirationTime>z&&O());){var I=h.callback;if(typeof I=="function"){h.callback=null,m=h.priorityLevel;var Y=I(h.expirationTime<=z);if(z=e.unstable_now(),typeof Y=="function"){h.callback=Y,j(z),R=!0;break t}h===l(u)&&a(u),j(z)}else a(u);h=l(u)}if(h!==null)R=!0;else{var ht=l(d);ht!==null&&$(E,ht.startTime-z),R=!1}}break e}finally{h=null,m=U,g=!1}R=void 0}}finally{R?P():_=!1}}}var P;if(typeof x=="function")P=function(){x(B)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,L=M.port2;M.port1.onmessage=B,P=function(){L.postMessage(null)}}else P=function(){f(B,0)};function $(z,R){S=f(function(){z(e.unstable_now())},R)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(z){z.callback=null},e.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<z?Math.floor(1e3/z):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_next=function(z){switch(m){case 1:case 2:case 3:var R=3;break;default:R=m}var U=m;m=R;try{return z()}finally{m=U}},e.unstable_requestPaint=function(){N=!0},e.unstable_runWithPriority=function(z,R){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var U=m;m=z;try{return R()}finally{m=U}},e.unstable_scheduleCallback=function(z,R,U){var I=e.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?I+U:I):U=I,z){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=U+Y,z={id:y++,callback:R,priorityLevel:z,startTime:U,expirationTime:Y,sortIndex:-1},U>I?(z.sortIndex=U,t(d,z),l(u)===null&&z===l(d)&&(p?(o(S),S=-1):p=!0,$(E,U-I))):(z.sortIndex=Y,t(u,z),v||g||(v=!0,_||(_=!0,P()))),z},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(z){var R=m;return function(){var U=m;m=R;try{return z.apply(this,arguments)}finally{m=U}}}})(md);fd.exports=md;var Im=fd.exports,hd={exports:{}},He={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eh=b;function xd(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)t+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Pt(){}var ke={d:{f:Pt,r:function(){throw Error(xd(522))},D:Pt,C:Pt,L:Pt,m:Pt,X:Pt,S:Pt,M:Pt},p:0,findDOMNode:null},th=Symbol.for("react.portal");function lh(e,t,l){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:th,key:a==null?null:""+a,children:e,containerInfo:t,implementation:l}}var Pa=eh.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Ps(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}He.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ke;He.createPortal=function(e,t){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(xd(299));return lh(e,t,null,l)};He.flushSync=function(e){var t=Pa.T,l=ke.p;try{if(Pa.T=null,ke.p=2,e)return e()}finally{Pa.T=t,ke.p=l,ke.d.f()}};He.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,ke.d.C(e,t))};He.prefetchDNS=function(e){typeof e=="string"&&ke.d.D(e)};He.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var l=t.as,a=Ps(l,t.crossOrigin),n=typeof t.integrity=="string"?t.integrity:void 0,s=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;l==="style"?ke.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:a,integrity:n,fetchPriority:s}):l==="script"&&ke.d.X(e,{crossOrigin:a,integrity:n,fetchPriority:s,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};He.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var l=Ps(t.as,t.crossOrigin);ke.d.M(e,{crossOrigin:l,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&ke.d.M(e)};He.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var l=t.as,a=Ps(l,t.crossOrigin);ke.d.L(e,l,{crossOrigin:a,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};He.preloadModule=function(e,t){if(typeof e=="string")if(t){var l=Ps(t.as,t.crossOrigin);ke.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:l,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else ke.d.m(e)};He.requestFormReset=function(e){ke.d.r(e)};He.unstable_batchedUpdates=function(e,t){return e(t)};He.useFormState=function(e,t,l){return Pa.H.useFormState(e,t,l)};He.useFormStatus=function(){return Pa.H.useHostTransitionStatus()};He.version="19.2.4";function gd(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(gd)}catch(e){console.error(e)}}gd(),hd.exports=He;var ah=hd.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Te=Im,yd=b,nh=ah;function w(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)t+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function bd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function zn(e){var t=e,l=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(l=t.return),e=t.return;while(e)}return t.tag===3?l:null}function pd(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function vd(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function xu(e){if(zn(e)!==e)throw Error(w(188))}function sh(e){var t=e.alternate;if(!t){if(t=zn(e),t===null)throw Error(w(188));return t!==e?null:e}for(var l=e,a=t;;){var n=l.return;if(n===null)break;var s=n.alternate;if(s===null){if(a=n.return,a!==null){l=a;continue}break}if(n.child===s.child){for(s=n.child;s;){if(s===l)return xu(n),e;if(s===a)return xu(n),t;s=s.sibling}throw Error(w(188))}if(l.return!==a.return)l=n,a=s;else{for(var r=!1,c=n.child;c;){if(c===l){r=!0,l=n,a=s;break}if(c===a){r=!0,a=n,l=s;break}c=c.sibling}if(!r){for(c=s.child;c;){if(c===l){r=!0,l=s,a=n;break}if(c===a){r=!0,a=s,l=n;break}c=c.sibling}if(!r)throw Error(w(189))}}if(l.alternate!==a)throw Error(w(190))}if(l.tag!==3)throw Error(w(188));return l.stateNode.current===l?e:t}function jd(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=jd(e),t!==null)return t;e=e.sibling}return null}var me=Object.assign,ih=Symbol.for("react.element"),Vn=Symbol.for("react.transitional.element"),Ja=Symbol.for("react.portal"),ea=Symbol.for("react.fragment"),Nd=Symbol.for("react.strict_mode"),rr=Symbol.for("react.profiler"),Sd=Symbol.for("react.consumer"),Lt=Symbol.for("react.context"),dc=Symbol.for("react.forward_ref"),cr=Symbol.for("react.suspense"),ur=Symbol.for("react.suspense_list"),fc=Symbol.for("react.memo"),It=Symbol.for("react.lazy"),or=Symbol.for("react.activity"),rh=Symbol.for("react.memo_cache_sentinel"),gu=Symbol.iterator;function Ya(e){return e===null||typeof e!="object"?null:(e=gu&&e[gu]||e["@@iterator"],typeof e=="function"?e:null)}var ch=Symbol.for("react.client.reference");function dr(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ch?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ea:return"Fragment";case rr:return"Profiler";case Nd:return"StrictMode";case cr:return"Suspense";case ur:return"SuspenseList";case or:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Ja:return"Portal";case Lt:return e.displayName||"Context";case Sd:return(e._context.displayName||"Context")+".Consumer";case dc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case fc:return t=e.displayName||null,t!==null?t:dr(e.type)||"Memo";case It:t=e._payload,e=e._init;try{return dr(e(t))}catch{}}return null}var Ka=Array.isArray,k=yd.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te=nh.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ml={pending:!1,data:null,method:null,action:null},fr=[],ta=-1;function Tt(e){return{current:e}}function Oe(e){0>ta||(e.current=fr[ta],fr[ta]=null,ta--)}function ue(e,t){ta++,fr[ta]=e.current,e.current=t}var Et=Tt(null),hn=Tt(null),fl=Tt(null),js=Tt(null);function Ns(e,t){switch(ue(fl,t),ue(hn,e),ue(Et,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?So(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=So(t),e=Q0(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Oe(Et),ue(Et,e)}function va(){Oe(Et),Oe(hn),Oe(fl)}function mr(e){e.memoizedState!==null&&ue(js,e);var t=Et.current,l=Q0(t,e.type);t!==l&&(ue(hn,e),ue(Et,l))}function Ss(e){hn.current===e&&(Oe(Et),Oe(hn)),js.current===e&&(Oe(js),En._currentValue=Ml)}var vi,yu;function Cl(e){if(vi===void 0)try{throw Error()}catch(l){var t=l.stack.trim().match(/\n( *(at )?)/);vi=t&&t[1]||"",yu=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+vi+e+yu}var ji=!1;function Ni(e,t){if(!e||ji)return"";ji=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var h=function(){throw Error()};if(Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(g){var m=g}Reflect.construct(e,[],h)}else{try{h.call()}catch(g){m=g}e.call(h.prototype)}}else{try{throw Error()}catch(g){m=g}(h=e())&&typeof h.catch=="function"&&h.catch(function(){})}}catch(g){if(g&&m&&typeof g.stack=="string")return[g.stack,m.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var n=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");n&&n.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=a.DetermineComponentFrameRoot(),r=s[0],c=s[1];if(r&&c){var u=r.split(`
`),d=c.split(`
`);for(n=a=0;a<u.length&&!u[a].includes("DetermineComponentFrameRoot");)a++;for(;n<d.length&&!d[n].includes("DetermineComponentFrameRoot");)n++;if(a===u.length||n===d.length)for(a=u.length-1,n=d.length-1;1<=a&&0<=n&&u[a]!==d[n];)n--;for(;1<=a&&0<=n;a--,n--)if(u[a]!==d[n]){if(a!==1||n!==1)do if(a--,n--,0>n||u[a]!==d[n]){var y=`
`+u[a].replace(" at new "," at ");return e.displayName&&y.includes("<anonymous>")&&(y=y.replace("<anonymous>",e.displayName)),y}while(1<=a&&0<=n);break}}}finally{ji=!1,Error.prepareStackTrace=l}return(l=e?e.displayName||e.name:"")?Cl(l):""}function uh(e,t){switch(e.tag){case 26:case 27:case 5:return Cl(e.type);case 16:return Cl("Lazy");case 13:return e.child!==t&&t!==null?Cl("Suspense Fallback"):Cl("Suspense");case 19:return Cl("SuspenseList");case 0:case 15:return Ni(e.type,!1);case 11:return Ni(e.type.render,!1);case 1:return Ni(e.type,!0);case 31:return Cl("Activity");default:return""}}function bu(e){try{var t="",l=null;do t+=uh(e,l),l=e,e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var hr=Object.prototype.hasOwnProperty,mc=Te.unstable_scheduleCallback,Si=Te.unstable_cancelCallback,oh=Te.unstable_shouldYield,dh=Te.unstable_requestPaint,Pe=Te.unstable_now,fh=Te.unstable_getCurrentPriorityLevel,wd=Te.unstable_ImmediatePriority,Ed=Te.unstable_UserBlockingPriority,ws=Te.unstable_NormalPriority,mh=Te.unstable_LowPriority,Td=Te.unstable_IdlePriority,hh=Te.log,xh=Te.unstable_setDisableYieldValue,_n=null,Ie=null;function sl(e){if(typeof hh=="function"&&xh(e),Ie&&typeof Ie.setStrictMode=="function")try{Ie.setStrictMode(_n,e)}catch{}}var et=Math.clz32?Math.clz32:bh,gh=Math.log,yh=Math.LN2;function bh(e){return e>>>=0,e===0?32:31-(gh(e)/yh|0)|0}var Zn=256,Jn=262144,Kn=4194304;function Ol(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Is(e,t,l){var a=e.pendingLanes;if(a===0)return 0;var n=0,s=e.suspendedLanes,r=e.pingedLanes;e=e.warmLanes;var c=a&134217727;return c!==0?(a=c&~s,a!==0?n=Ol(a):(r&=c,r!==0?n=Ol(r):l||(l=c&~e,l!==0&&(n=Ol(l))))):(c=a&~s,c!==0?n=Ol(c):r!==0?n=Ol(r):l||(l=a&~e,l!==0&&(n=Ol(l)))),n===0?0:t!==0&&t!==n&&!(t&s)&&(s=n&-n,l=t&-t,s>=l||s===32&&(l&4194048)!==0)?t:n}function Mn(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function ph(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ad(){var e=Kn;return Kn<<=1,!(Kn&62914560)&&(Kn=4194304),e}function wi(e){for(var t=[],l=0;31>l;l++)t.push(e);return t}function Dn(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function vh(e,t,l,a,n,s){var r=e.pendingLanes;e.pendingLanes=l,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=l,e.entangledLanes&=l,e.errorRecoveryDisabledLanes&=l,e.shellSuspendCounter=0;var c=e.entanglements,u=e.expirationTimes,d=e.hiddenUpdates;for(l=r&~l;0<l;){var y=31-et(l),h=1<<y;c[y]=0,u[y]=-1;var m=d[y];if(m!==null)for(d[y]=null,y=0;y<m.length;y++){var g=m[y];g!==null&&(g.lane&=-536870913)}l&=~h}a!==0&&Cd(e,a,0),s!==0&&n===0&&e.tag!==0&&(e.suspendedLanes|=s&~(r&~t))}function Cd(e,t,l){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-et(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|l&261930}function Od(e,t){var l=e.entangledLanes|=t;for(e=e.entanglements;l;){var a=31-et(l),n=1<<a;n&t|e[a]&t&&(e[a]|=t),l&=~n}}function zd(e,t){var l=t&-t;return l=l&42?1:hc(l),l&(e.suspendedLanes|t)?0:l}function hc(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function xc(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function _d(){var e=te.p;return e!==0?e:(e=window.event,e===void 0?32:tm(e.type))}function pu(e,t){var l=te.p;try{return te.p=e,t()}finally{te.p=l}}var El=Math.random().toString(36).slice(2),_e="__reactFiber$"+El,Ze="__reactProps$"+El,Ma="__reactContainer$"+El,xr="__reactEvents$"+El,jh="__reactListeners$"+El,Nh="__reactHandles$"+El,vu="__reactResources$"+El,Rn="__reactMarker$"+El;function gc(e){delete e[_e],delete e[Ze],delete e[xr],delete e[jh],delete e[Nh]}function la(e){var t=e[_e];if(t)return t;for(var l=e.parentNode;l;){if(t=l[Ma]||l[_e]){if(l=t.alternate,t.child!==null||l!==null&&l.child!==null)for(e=Co(e);e!==null;){if(l=e[_e])return l;e=Co(e)}return t}e=l,l=e.parentNode}return null}function Da(e){if(e=e[_e]||e[Ma]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Fa(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(w(33))}function fa(e){var t=e[vu];return t||(t=e[vu]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ce(e){e[Rn]=!0}var Md=new Set,Dd={};function Xl(e,t){ja(e,t),ja(e+"Capture",t)}function ja(e,t){for(Dd[e]=t,e=0;e<t.length;e++)Md.add(t[e])}var Sh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ju={},Nu={};function wh(e){return hr.call(Nu,e)?!0:hr.call(ju,e)?!1:Sh.test(e)?Nu[e]=!0:(ju[e]=!0,!1)}function is(e,t,l){if(wh(t))if(l===null)e.removeAttribute(t);else{switch(typeof l){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+l)}}function Fn(e,t,l){if(l===null)e.removeAttribute(t);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+l)}}function Ct(e,t,l,a){if(a===null)e.removeAttribute(l);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(l);return}e.setAttributeNS(t,l,""+a)}}function st(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Rd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Eh(e,t,l){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var n=a.get,s=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(r){l=""+r,s.call(this,r)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(r){l=""+r},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function gr(e){if(!e._valueTracker){var t=Rd(e)?"checked":"value";e._valueTracker=Eh(e,t,""+e[t])}}function Ud(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var l=t.getValue(),a="";return e&&(a=Rd(e)?e.checked?"true":"false":e.value),e=a,e!==l?(t.setValue(e),!0):!1}function Es(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Th=/[\n"\\]/g;function ct(e){return e.replace(Th,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function yr(e,t,l,a,n,s,r,c){e.name="",r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"?e.type=r:e.removeAttribute("type"),t!=null?r==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+st(t)):e.value!==""+st(t)&&(e.value=""+st(t)):r!=="submit"&&r!=="reset"||e.removeAttribute("value"),t!=null?br(e,r,st(t)):l!=null?br(e,r,st(l)):a!=null&&e.removeAttribute("value"),n==null&&s!=null&&(e.defaultChecked=!!s),n!=null&&(e.checked=n&&typeof n!="function"&&typeof n!="symbol"),c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"?e.name=""+st(c):e.removeAttribute("name")}function Ld(e,t,l,a,n,s,r,c){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(e.type=s),t!=null||l!=null){if(!(s!=="submit"&&s!=="reset"||t!=null)){gr(e);return}l=l!=null?""+st(l):"",t=t!=null?""+st(t):l,c||t===e.value||(e.value=t),e.defaultValue=t}a=a??n,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=c?e.checked:!!a,e.defaultChecked=!!a,r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(e.name=r),gr(e)}function br(e,t,l){t==="number"&&Es(e.ownerDocument)===e||e.defaultValue===""+l||(e.defaultValue=""+l)}function ma(e,t,l,a){if(e=e.options,t){t={};for(var n=0;n<l.length;n++)t["$"+l[n]]=!0;for(l=0;l<e.length;l++)n=t.hasOwnProperty("$"+e[l].value),e[l].selected!==n&&(e[l].selected=n),n&&a&&(e[l].defaultSelected=!0)}else{for(l=""+st(l),t=null,n=0;n<e.length;n++){if(e[n].value===l){e[n].selected=!0,a&&(e[n].defaultSelected=!0);return}t!==null||e[n].disabled||(t=e[n])}t!==null&&(t.selected=!0)}}function Bd(e,t,l){if(t!=null&&(t=""+st(t),t!==e.value&&(e.value=t),l==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=l!=null?""+st(l):""}function kd(e,t,l,a){if(t==null){if(a!=null){if(l!=null)throw Error(w(92));if(Ka(a)){if(1<a.length)throw Error(w(93));a=a[0]}l=a}l==null&&(l=""),t=l}l=st(t),e.defaultValue=l,a=e.textContent,a===l&&a!==""&&a!==null&&(e.value=a),gr(e)}function Na(e,t){if(t){var l=e.firstChild;if(l&&l===e.lastChild&&l.nodeType===3){l.nodeValue=t;return}}e.textContent=t}var Ah=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Su(e,t,l){var a=t.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,l):typeof l!="number"||l===0||Ah.has(t)?t==="float"?e.cssFloat=l:e[t]=(""+l).trim():e[t]=l+"px"}function Hd(e,t,l){if(t!=null&&typeof t!="object")throw Error(w(62));if(e=e.style,l!=null){for(var a in l)!l.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var n in t)a=t[n],t.hasOwnProperty(n)&&l[n]!==a&&Su(e,n,a)}else for(var s in t)t.hasOwnProperty(s)&&Su(e,s,t[s])}function yc(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ch=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Oh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function rs(e){return Oh.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Bt(){}var pr=null;function bc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var aa=null,ha=null;function wu(e){var t=Da(e);if(t&&(e=t.stateNode)){var l=e[Ze]||null;e:switch(e=t.stateNode,t.type){case"input":if(yr(e,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),t=l.name,l.type==="radio"&&t!=null){for(l=e;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+ct(""+t)+'"][type="radio"]'),t=0;t<l.length;t++){var a=l[t];if(a!==e&&a.form===e.form){var n=a[Ze]||null;if(!n)throw Error(w(90));yr(a,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name)}}for(t=0;t<l.length;t++)a=l[t],a.form===e.form&&Ud(a)}break e;case"textarea":Bd(e,l.value,l.defaultValue);break e;case"select":t=l.value,t!=null&&ma(e,!!l.multiple,t,!1)}}}var Ei=!1;function Yd(e,t,l){if(Ei)return e(t,l);Ei=!0;try{var a=e(t);return a}finally{if(Ei=!1,(aa!==null||ha!==null)&&(di(),aa&&(t=aa,e=ha,ha=aa=null,wu(t),e)))for(t=0;t<e.length;t++)wu(e[t])}}function xn(e,t){var l=e.stateNode;if(l===null)return null;var a=l[Ze]||null;if(a===null)return null;l=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(l&&typeof l!="function")throw Error(w(231,t,typeof l));return l}var Gt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vr=!1;if(Gt)try{var qa={};Object.defineProperty(qa,"passive",{get:function(){vr=!0}}),window.addEventListener("test",qa,qa),window.removeEventListener("test",qa,qa)}catch{vr=!1}var il=null,pc=null,cs=null;function qd(){if(cs)return cs;var e,t=pc,l=t.length,a,n="value"in il?il.value:il.textContent,s=n.length;for(e=0;e<l&&t[e]===n[e];e++);var r=l-e;for(a=1;a<=r&&t[l-a]===n[s-a];a++);return cs=n.slice(e,1<a?1-a:void 0)}function us(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function $n(){return!0}function Eu(){return!1}function Je(e){function t(l,a,n,s,r){this._reactName=l,this._targetInst=n,this.type=a,this.nativeEvent=s,this.target=r,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(l=e[c],this[c]=l?l(s):s[c]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?$n:Eu,this.isPropagationStopped=Eu,this}return me(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=$n)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=$n)},persist:function(){},isPersistent:$n}),t}var Ql={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ei=Je(Ql),Un=me({},Ql,{view:0,detail:0}),zh=Je(Un),Ti,Ai,Ga,ti=me({},Un,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ga&&(Ga&&e.type==="mousemove"?(Ti=e.screenX-Ga.screenX,Ai=e.screenY-Ga.screenY):Ai=Ti=0,Ga=e),Ti)},movementY:function(e){return"movementY"in e?e.movementY:Ai}}),Tu=Je(ti),_h=me({},ti,{dataTransfer:0}),Mh=Je(_h),Dh=me({},Un,{relatedTarget:0}),Ci=Je(Dh),Rh=me({},Ql,{animationName:0,elapsedTime:0,pseudoElement:0}),Uh=Je(Rh),Lh=me({},Ql,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Bh=Je(Lh),kh=me({},Ql,{data:0}),Au=Je(kh),Hh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Gh(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=qh[e])?!!t[e]:!1}function vc(){return Gh}var Xh=me({},Un,{key:function(e){if(e.key){var t=Hh[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=us(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Yh[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vc,charCode:function(e){return e.type==="keypress"?us(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?us(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Qh=Je(Xh),Vh=me({},ti,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Cu=Je(Vh),Zh=me({},Un,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vc}),Jh=Je(Zh),Kh=me({},Ql,{propertyName:0,elapsedTime:0,pseudoElement:0}),Fh=Je(Kh),$h=me({},ti,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Wh=Je($h),Ph=me({},Ql,{newState:0,oldState:0}),Ih=Je(Ph),ex=[9,13,27,32],jc=Gt&&"CompositionEvent"in window,Ia=null;Gt&&"documentMode"in document&&(Ia=document.documentMode);var tx=Gt&&"TextEvent"in window&&!Ia,Gd=Gt&&(!jc||Ia&&8<Ia&&11>=Ia),Ou=" ",zu=!1;function Xd(e,t){switch(e){case"keyup":return ex.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var na=!1;function lx(e,t){switch(e){case"compositionend":return Qd(t);case"keypress":return t.which!==32?null:(zu=!0,Ou);case"textInput":return e=t.data,e===Ou&&zu?null:e;default:return null}}function ax(e,t){if(na)return e==="compositionend"||!jc&&Xd(e,t)?(e=qd(),cs=pc=il=null,na=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Gd&&t.locale!=="ko"?null:t.data;default:return null}}var nx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _u(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!nx[e.type]:t==="textarea"}function Vd(e,t,l,a){aa?ha?ha.push(a):ha=[a]:aa=a,t=Xs(t,"onChange"),0<t.length&&(l=new ei("onChange","change",null,l,a),e.push({event:l,listeners:t}))}var en=null,gn=null;function sx(e){q0(e,0)}function li(e){var t=Fa(e);if(Ud(t))return e}function Mu(e,t){if(e==="change")return t}var Zd=!1;if(Gt){var Oi;if(Gt){var zi="oninput"in document;if(!zi){var Du=document.createElement("div");Du.setAttribute("oninput","return;"),zi=typeof Du.oninput=="function"}Oi=zi}else Oi=!1;Zd=Oi&&(!document.documentMode||9<document.documentMode)}function Ru(){en&&(en.detachEvent("onpropertychange",Jd),gn=en=null)}function Jd(e){if(e.propertyName==="value"&&li(gn)){var t=[];Vd(t,gn,e,bc(e)),Yd(sx,t)}}function ix(e,t,l){e==="focusin"?(Ru(),en=t,gn=l,en.attachEvent("onpropertychange",Jd)):e==="focusout"&&Ru()}function rx(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return li(gn)}function cx(e,t){if(e==="click")return li(t)}function ux(e,t){if(e==="input"||e==="change")return li(t)}function ox(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var lt=typeof Object.is=="function"?Object.is:ox;function yn(e,t){if(lt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var l=Object.keys(e),a=Object.keys(t);if(l.length!==a.length)return!1;for(a=0;a<l.length;a++){var n=l[a];if(!hr.call(t,n)||!lt(e[n],t[n]))return!1}return!0}function Uu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Lu(e,t){var l=Uu(e);e=0;for(var a;l;){if(l.nodeType===3){if(a=e+l.textContent.length,e<=t&&a>=t)return{node:l,offset:t-e};e=a}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Uu(l)}}function Kd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Kd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Fd(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Es(e.document);t instanceof e.HTMLIFrameElement;){try{var l=typeof t.contentWindow.location.href=="string"}catch{l=!1}if(l)e=t.contentWindow;else break;t=Es(e.document)}return t}function Nc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var dx=Gt&&"documentMode"in document&&11>=document.documentMode,sa=null,jr=null,tn=null,Nr=!1;function Bu(e,t,l){var a=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Nr||sa==null||sa!==Es(a)||(a=sa,"selectionStart"in a&&Nc(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),tn&&yn(tn,a)||(tn=a,a=Xs(jr,"onSelect"),0<a.length&&(t=new ei("onSelect","select",null,t,l),e.push({event:t,listeners:a}),t.target=sa)))}function Al(e,t){var l={};return l[e.toLowerCase()]=t.toLowerCase(),l["Webkit"+e]="webkit"+t,l["Moz"+e]="moz"+t,l}var ia={animationend:Al("Animation","AnimationEnd"),animationiteration:Al("Animation","AnimationIteration"),animationstart:Al("Animation","AnimationStart"),transitionrun:Al("Transition","TransitionRun"),transitionstart:Al("Transition","TransitionStart"),transitioncancel:Al("Transition","TransitionCancel"),transitionend:Al("Transition","TransitionEnd")},_i={},$d={};Gt&&($d=document.createElement("div").style,"AnimationEvent"in window||(delete ia.animationend.animation,delete ia.animationiteration.animation,delete ia.animationstart.animation),"TransitionEvent"in window||delete ia.transitionend.transition);function Vl(e){if(_i[e])return _i[e];if(!ia[e])return e;var t=ia[e],l;for(l in t)if(t.hasOwnProperty(l)&&l in $d)return _i[e]=t[l];return e}var Wd=Vl("animationend"),Pd=Vl("animationiteration"),Id=Vl("animationstart"),fx=Vl("transitionrun"),mx=Vl("transitionstart"),hx=Vl("transitioncancel"),ef=Vl("transitionend"),tf=new Map,Sr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Sr.push("scrollEnd");function pt(e,t){tf.set(e,t),Xl(t,[e])}var Ts=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},nt=[],ra=0,Sc=0;function ai(){for(var e=ra,t=Sc=ra=0;t<e;){var l=nt[t];nt[t++]=null;var a=nt[t];nt[t++]=null;var n=nt[t];nt[t++]=null;var s=nt[t];if(nt[t++]=null,a!==null&&n!==null){var r=a.pending;r===null?n.next=n:(n.next=r.next,r.next=n),a.pending=n}s!==0&&lf(l,n,s)}}function ni(e,t,l,a){nt[ra++]=e,nt[ra++]=t,nt[ra++]=l,nt[ra++]=a,Sc|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function wc(e,t,l,a){return ni(e,t,l,a),As(e)}function Zl(e,t){return ni(e,null,null,t),As(e)}function lf(e,t,l){e.lanes|=l;var a=e.alternate;a!==null&&(a.lanes|=l);for(var n=!1,s=e.return;s!==null;)s.childLanes|=l,a=s.alternate,a!==null&&(a.childLanes|=l),s.tag===22&&(e=s.stateNode,e===null||e._visibility&1||(n=!0)),e=s,s=s.return;return e.tag===3?(s=e.stateNode,n&&t!==null&&(n=31-et(l),e=s.hiddenUpdates,a=e[n],a===null?e[n]=[t]:a.push(t),t.lane=l|536870912),s):null}function As(e){if(50<dn)throw dn=0,Qr=null,Error(w(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var ca={};function xx(e,t,l,a){this.tag=e,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $e(e,t,l,a){return new xx(e,t,l,a)}function Ec(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ht(e,t){var l=e.alternate;return l===null?(l=$e(e.tag,t,e.key,e.mode),l.elementType=e.elementType,l.type=e.type,l.stateNode=e.stateNode,l.alternate=e,e.alternate=l):(l.pendingProps=t,l.type=e.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=e.flags&65011712,l.childLanes=e.childLanes,l.lanes=e.lanes,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,t=e.dependencies,l.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},l.sibling=e.sibling,l.index=e.index,l.ref=e.ref,l.refCleanup=e.refCleanup,l}function af(e,t){e.flags&=65011714;var l=e.alternate;return l===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=l.childLanes,e.lanes=l.lanes,e.child=l.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=l.memoizedProps,e.memoizedState=l.memoizedState,e.updateQueue=l.updateQueue,e.type=l.type,t=l.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function os(e,t,l,a,n,s){var r=0;if(a=e,typeof e=="function")Ec(e)&&(r=1);else if(typeof e=="string")r=vg(e,l,Et.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case or:return e=$e(31,l,t,n),e.elementType=or,e.lanes=s,e;case ea:return Dl(l.children,n,s,t);case Nd:r=8,n|=24;break;case rr:return e=$e(12,l,t,n|2),e.elementType=rr,e.lanes=s,e;case cr:return e=$e(13,l,t,n),e.elementType=cr,e.lanes=s,e;case ur:return e=$e(19,l,t,n),e.elementType=ur,e.lanes=s,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Lt:r=10;break e;case Sd:r=9;break e;case dc:r=11;break e;case fc:r=14;break e;case It:r=16,a=null;break e}r=29,l=Error(w(130,e===null?"null":typeof e,"")),a=null}return t=$e(r,l,t,n),t.elementType=e,t.type=a,t.lanes=s,t}function Dl(e,t,l,a){return e=$e(7,e,a,t),e.lanes=l,e}function Mi(e,t,l){return e=$e(6,e,null,t),e.lanes=l,e}function nf(e){var t=$e(18,null,null,0);return t.stateNode=e,t}function Di(e,t,l){return t=$e(4,e.children!==null?e.children:[],e.key,t),t.lanes=l,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var ku=new WeakMap;function ut(e,t){if(typeof e=="object"&&e!==null){var l=ku.get(e);return l!==void 0?l:(t={value:e,source:t,stack:bu(t)},ku.set(e,t),t)}return{value:e,source:t,stack:bu(t)}}var ua=[],oa=0,Cs=null,bn=0,it=[],rt=0,jl=null,jt=1,Nt="";function Rt(e,t){ua[oa++]=bn,ua[oa++]=Cs,Cs=e,bn=t}function sf(e,t,l){it[rt++]=jt,it[rt++]=Nt,it[rt++]=jl,jl=e;var a=jt;e=Nt;var n=32-et(a)-1;a&=~(1<<n),l+=1;var s=32-et(t)+n;if(30<s){var r=n-n%5;s=(a&(1<<r)-1).toString(32),a>>=r,n-=r,jt=1<<32-et(t)+n|l<<n|a,Nt=s+e}else jt=1<<s|l<<n|a,Nt=e}function Tc(e){e.return!==null&&(Rt(e,1),sf(e,1,0))}function Ac(e){for(;e===Cs;)Cs=ua[--oa],ua[oa]=null,bn=ua[--oa],ua[oa]=null;for(;e===jl;)jl=it[--rt],it[rt]=null,Nt=it[--rt],it[rt]=null,jt=it[--rt],it[rt]=null}function rf(e,t){it[rt++]=jt,it[rt++]=Nt,it[rt++]=jl,jt=t.id,Nt=t.overflow,jl=e}var Me=null,de=null,F=!1,ml=null,ot=!1,wr=Error(w(519));function Nl(e){var t=Error(w(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw pn(ut(t,e)),wr}function Hu(e){var t=e.stateNode,l=e.type,a=e.memoizedProps;switch(t[_e]=e,t[Ze]=a,l){case"dialog":Z("cancel",t),Z("close",t);break;case"iframe":case"object":case"embed":Z("load",t);break;case"video":case"audio":for(l=0;l<Sn.length;l++)Z(Sn[l],t);break;case"source":Z("error",t);break;case"img":case"image":case"link":Z("error",t),Z("load",t);break;case"details":Z("toggle",t);break;case"input":Z("invalid",t),Ld(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":Z("invalid",t);break;case"textarea":Z("invalid",t),kd(t,a.value,a.defaultValue,a.children)}l=a.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||t.textContent===""+l||a.suppressHydrationWarning===!0||X0(t.textContent,l)?(a.popover!=null&&(Z("beforetoggle",t),Z("toggle",t)),a.onScroll!=null&&Z("scroll",t),a.onScrollEnd!=null&&Z("scrollend",t),a.onClick!=null&&(t.onclick=Bt),t=!0):t=!1,t||Nl(e,!0)}function Yu(e){for(Me=e.return;Me;)switch(Me.tag){case 5:case 31:case 13:ot=!1;return;case 27:case 3:ot=!0;return;default:Me=Me.return}}function Kl(e){if(e!==Me)return!1;if(!F)return Yu(e),F=!0,!1;var t=e.tag,l;if((l=t!==3&&t!==27)&&((l=t===5)&&(l=e.type,l=!(l!=="form"&&l!=="button")||Fr(e.type,e.memoizedProps)),l=!l),l&&de&&Nl(e),Yu(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(w(317));de=Ao(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(w(317));de=Ao(e)}else t===27?(t=de,Tl(e.type)?(e=Ir,Ir=null,de=e):de=t):de=Me?ft(e.stateNode.nextSibling):null;return!0}function kl(){de=Me=null,F=!1}function Ri(){var e=ml;return e!==null&&(Xe===null?Xe=e:Xe.push.apply(Xe,e),ml=null),e}function pn(e){ml===null?ml=[e]:ml.push(e)}var Er=Tt(null),Jl=null,kt=null;function tl(e,t,l){ue(Er,t._currentValue),t._currentValue=l}function Yt(e){e._currentValue=Er.current,Oe(Er)}function Tr(e,t,l){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===l)break;e=e.return}}function Ar(e,t,l,a){var n=e.child;for(n!==null&&(n.return=e);n!==null;){var s=n.dependencies;if(s!==null){var r=n.child;s=s.firstContext;e:for(;s!==null;){var c=s;s=n;for(var u=0;u<t.length;u++)if(c.context===t[u]){s.lanes|=l,c=s.alternate,c!==null&&(c.lanes|=l),Tr(s.return,l,e),a||(r=null);break e}s=c.next}}else if(n.tag===18){if(r=n.return,r===null)throw Error(w(341));r.lanes|=l,s=r.alternate,s!==null&&(s.lanes|=l),Tr(r,l,e),r=null}else r=n.child;if(r!==null)r.return=n;else for(r=n;r!==null;){if(r===e){r=null;break}if(n=r.sibling,n!==null){n.return=r.return,r=n;break}r=r.return}n=r}}function Ra(e,t,l,a){e=null;for(var n=t,s=!1;n!==null;){if(!s){if(n.flags&524288)s=!0;else if(n.flags&262144)break}if(n.tag===10){var r=n.alternate;if(r===null)throw Error(w(387));if(r=r.memoizedProps,r!==null){var c=n.type;lt(n.pendingProps.value,r.value)||(e!==null?e.push(c):e=[c])}}else if(n===js.current){if(r=n.alternate,r===null)throw Error(w(387));r.memoizedState.memoizedState!==n.memoizedState.memoizedState&&(e!==null?e.push(En):e=[En])}n=n.return}e!==null&&Ar(t,e,l,a),t.flags|=262144}function Os(e){for(e=e.firstContext;e!==null;){if(!lt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Hl(e){Jl=e,kt=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function De(e){return cf(Jl,e)}function Wn(e,t){return Jl===null&&Hl(e),cf(e,t)}function cf(e,t){var l=t._currentValue;if(t={context:t,memoizedValue:l,next:null},kt===null){if(e===null)throw Error(w(308));kt=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else kt=kt.next=t;return l}var gx=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(l,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(l){return l()})}},yx=Te.unstable_scheduleCallback,bx=Te.unstable_NormalPriority,je={$$typeof:Lt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Cc(){return{controller:new gx,data:new Map,refCount:0}}function Ln(e){e.refCount--,e.refCount===0&&yx(bx,function(){e.controller.abort()})}var ln=null,Cr=0,Sa=0,xa=null;function px(e,t){if(ln===null){var l=ln=[];Cr=0,Sa=Ic(),xa={status:"pending",value:void 0,then:function(a){l.push(a)}}}return Cr++,t.then(qu,qu),t}function qu(){if(--Cr===0&&ln!==null){xa!==null&&(xa.status="fulfilled");var e=ln;ln=null,Sa=0,xa=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function vx(e,t){var l=[],a={status:"pending",value:null,reason:null,then:function(n){l.push(n)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var n=0;n<l.length;n++)(0,l[n])(t)},function(n){for(a.status="rejected",a.reason=n,n=0;n<l.length;n++)(0,l[n])(void 0)}),a}var Gu=k.S;k.S=function(e,t){N0=Pe(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&px(e,t),Gu!==null&&Gu(e,t)};var Rl=Tt(null);function Oc(){var e=Rl.current;return e!==null?e:ce.pooledCache}function ds(e,t){t===null?ue(Rl,Rl.current):ue(Rl,t.pool)}function uf(){var e=Oc();return e===null?null:{parent:je._currentValue,pool:e}}var Ua=Error(w(460)),zc=Error(w(474)),si=Error(w(542)),zs={then:function(){}};function Xu(e){return e=e.status,e==="fulfilled"||e==="rejected"}function of(e,t,l){switch(l=e[l],l===void 0?e.push(t):l!==t&&(t.then(Bt,Bt),t=l),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Vu(e),e;default:if(typeof t.status=="string")t.then(Bt,Bt);else{if(e=ce,e!==null&&100<e.shellSuspendCounter)throw Error(w(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var n=t;n.status="fulfilled",n.value=a}},function(a){if(t.status==="pending"){var n=t;n.status="rejected",n.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Vu(e),e}throw Ul=t,Ua}}function zl(e){try{var t=e._init;return t(e._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Ul=l,Ua):l}}var Ul=null;function Qu(){if(Ul===null)throw Error(w(459));var e=Ul;return Ul=null,e}function Vu(e){if(e===Ua||e===si)throw Error(w(483))}var ga=null,vn=0;function Pn(e){var t=vn;return vn+=1,ga===null&&(ga=[]),of(ga,e,t)}function Xa(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function In(e,t){throw t.$$typeof===ih?Error(w(525)):(e=Object.prototype.toString.call(t),Error(w(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function df(e){function t(f,o){if(e){var x=f.deletions;x===null?(f.deletions=[o],f.flags|=16):x.push(o)}}function l(f,o){if(!e)return null;for(;o!==null;)t(f,o),o=o.sibling;return null}function a(f){for(var o=new Map;f!==null;)f.key!==null?o.set(f.key,f):o.set(f.index,f),f=f.sibling;return o}function n(f,o){return f=Ht(f,o),f.index=0,f.sibling=null,f}function s(f,o,x){return f.index=x,e?(x=f.alternate,x!==null?(x=x.index,x<o?(f.flags|=67108866,o):x):(f.flags|=67108866,o)):(f.flags|=1048576,o)}function r(f){return e&&f.alternate===null&&(f.flags|=67108866),f}function c(f,o,x,j){return o===null||o.tag!==6?(o=Mi(x,f.mode,j),o.return=f,o):(o=n(o,x),o.return=f,o)}function u(f,o,x,j){var E=x.type;return E===ea?y(f,o,x.props.children,j,x.key):o!==null&&(o.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===It&&zl(E)===o.type)?(o=n(o,x.props),Xa(o,x),o.return=f,o):(o=os(x.type,x.key,x.props,null,f.mode,j),Xa(o,x),o.return=f,o)}function d(f,o,x,j){return o===null||o.tag!==4||o.stateNode.containerInfo!==x.containerInfo||o.stateNode.implementation!==x.implementation?(o=Di(x,f.mode,j),o.return=f,o):(o=n(o,x.children||[]),o.return=f,o)}function y(f,o,x,j,E){return o===null||o.tag!==7?(o=Dl(x,f.mode,j,E),o.return=f,o):(o=n(o,x),o.return=f,o)}function h(f,o,x){if(typeof o=="string"&&o!==""||typeof o=="number"||typeof o=="bigint")return o=Mi(""+o,f.mode,x),o.return=f,o;if(typeof o=="object"&&o!==null){switch(o.$$typeof){case Vn:return x=os(o.type,o.key,o.props,null,f.mode,x),Xa(x,o),x.return=f,x;case Ja:return o=Di(o,f.mode,x),o.return=f,o;case It:return o=zl(o),h(f,o,x)}if(Ka(o)||Ya(o))return o=Dl(o,f.mode,x,null),o.return=f,o;if(typeof o.then=="function")return h(f,Pn(o),x);if(o.$$typeof===Lt)return h(f,Wn(f,o),x);In(f,o)}return null}function m(f,o,x,j){var E=o!==null?o.key:null;if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return E!==null?null:c(f,o,""+x,j);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Vn:return x.key===E?u(f,o,x,j):null;case Ja:return x.key===E?d(f,o,x,j):null;case It:return x=zl(x),m(f,o,x,j)}if(Ka(x)||Ya(x))return E!==null?null:y(f,o,x,j,null);if(typeof x.then=="function")return m(f,o,Pn(x),j);if(x.$$typeof===Lt)return m(f,o,Wn(f,x),j);In(f,x)}return null}function g(f,o,x,j,E){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return f=f.get(x)||null,c(o,f,""+j,E);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Vn:return f=f.get(j.key===null?x:j.key)||null,u(o,f,j,E);case Ja:return f=f.get(j.key===null?x:j.key)||null,d(o,f,j,E);case It:return j=zl(j),g(f,o,x,j,E)}if(Ka(j)||Ya(j))return f=f.get(x)||null,y(o,f,j,E,null);if(typeof j.then=="function")return g(f,o,x,Pn(j),E);if(j.$$typeof===Lt)return g(f,o,x,Wn(o,j),E);In(o,j)}return null}function v(f,o,x,j){for(var E=null,_=null,S=o,A=o=0,C=null;S!==null&&A<x.length;A++){S.index>A?(C=S,S=null):C=S.sibling;var O=m(f,S,x[A],j);if(O===null){S===null&&(S=C);break}e&&S&&O.alternate===null&&t(f,S),o=s(O,o,A),_===null?E=O:_.sibling=O,_=O,S=C}if(A===x.length)return l(f,S),F&&Rt(f,A),E;if(S===null){for(;A<x.length;A++)S=h(f,x[A],j),S!==null&&(o=s(S,o,A),_===null?E=S:_.sibling=S,_=S);return F&&Rt(f,A),E}for(S=a(S);A<x.length;A++)C=g(S,f,A,x[A],j),C!==null&&(e&&C.alternate!==null&&S.delete(C.key===null?A:C.key),o=s(C,o,A),_===null?E=C:_.sibling=C,_=C);return e&&S.forEach(function(B){return t(f,B)}),F&&Rt(f,A),E}function p(f,o,x,j){if(x==null)throw Error(w(151));for(var E=null,_=null,S=o,A=o=0,C=null,O=x.next();S!==null&&!O.done;A++,O=x.next()){S.index>A?(C=S,S=null):C=S.sibling;var B=m(f,S,O.value,j);if(B===null){S===null&&(S=C);break}e&&S&&B.alternate===null&&t(f,S),o=s(B,o,A),_===null?E=B:_.sibling=B,_=B,S=C}if(O.done)return l(f,S),F&&Rt(f,A),E;if(S===null){for(;!O.done;A++,O=x.next())O=h(f,O.value,j),O!==null&&(o=s(O,o,A),_===null?E=O:_.sibling=O,_=O);return F&&Rt(f,A),E}for(S=a(S);!O.done;A++,O=x.next())O=g(S,f,A,O.value,j),O!==null&&(e&&O.alternate!==null&&S.delete(O.key===null?A:O.key),o=s(O,o,A),_===null?E=O:_.sibling=O,_=O);return e&&S.forEach(function(P){return t(f,P)}),F&&Rt(f,A),E}function N(f,o,x,j){if(typeof x=="object"&&x!==null&&x.type===ea&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Vn:e:{for(var E=x.key;o!==null;){if(o.key===E){if(E=x.type,E===ea){if(o.tag===7){l(f,o.sibling),j=n(o,x.props.children),j.return=f,f=j;break e}}else if(o.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===It&&zl(E)===o.type){l(f,o.sibling),j=n(o,x.props),Xa(j,x),j.return=f,f=j;break e}l(f,o);break}else t(f,o);o=o.sibling}x.type===ea?(j=Dl(x.props.children,f.mode,j,x.key),j.return=f,f=j):(j=os(x.type,x.key,x.props,null,f.mode,j),Xa(j,x),j.return=f,f=j)}return r(f);case Ja:e:{for(E=x.key;o!==null;){if(o.key===E)if(o.tag===4&&o.stateNode.containerInfo===x.containerInfo&&o.stateNode.implementation===x.implementation){l(f,o.sibling),j=n(o,x.children||[]),j.return=f,f=j;break e}else{l(f,o);break}else t(f,o);o=o.sibling}j=Di(x,f.mode,j),j.return=f,f=j}return r(f);case It:return x=zl(x),N(f,o,x,j)}if(Ka(x))return v(f,o,x,j);if(Ya(x)){if(E=Ya(x),typeof E!="function")throw Error(w(150));return x=E.call(x),p(f,o,x,j)}if(typeof x.then=="function")return N(f,o,Pn(x),j);if(x.$$typeof===Lt)return N(f,o,Wn(f,x),j);In(f,x)}return typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint"?(x=""+x,o!==null&&o.tag===6?(l(f,o.sibling),j=n(o,x),j.return=f,f=j):(l(f,o),j=Mi(x,f.mode,j),j.return=f,f=j),r(f)):l(f,o)}return function(f,o,x,j){try{vn=0;var E=N(f,o,x,j);return ga=null,E}catch(S){if(S===Ua||S===si)throw S;var _=$e(29,S,null,f.mode);return _.lanes=j,_.return=f,_}finally{}}}var Yl=df(!0),ff=df(!1),el=!1;function _c(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Or(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function hl(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function xl(e,t,l){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,ee&2){var n=a.pending;return n===null?t.next=t:(t.next=n.next,n.next=t),a.pending=t,t=As(e),lf(e,null,l),t}return ni(e,a,t,l),As(e)}function an(e,t,l){if(t=t.updateQueue,t!==null&&(t=t.shared,(l&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,l|=a,t.lanes=l,Od(e,l)}}function Ui(e,t){var l=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,l===a)){var n=null,s=null;if(l=l.firstBaseUpdate,l!==null){do{var r={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};s===null?n=s=r:s=s.next=r,l=l.next}while(l!==null);s===null?n=s=t:s=s.next=t}else n=s=t;l={baseState:a.baseState,firstBaseUpdate:n,lastBaseUpdate:s,shared:a.shared,callbacks:a.callbacks},e.updateQueue=l;return}e=l.lastBaseUpdate,e===null?l.firstBaseUpdate=t:e.next=t,l.lastBaseUpdate=t}var zr=!1;function nn(){if(zr){var e=xa;if(e!==null)throw e}}function sn(e,t,l,a){zr=!1;var n=e.updateQueue;el=!1;var s=n.firstBaseUpdate,r=n.lastBaseUpdate,c=n.shared.pending;if(c!==null){n.shared.pending=null;var u=c,d=u.next;u.next=null,r===null?s=d:r.next=d,r=u;var y=e.alternate;y!==null&&(y=y.updateQueue,c=y.lastBaseUpdate,c!==r&&(c===null?y.firstBaseUpdate=d:c.next=d,y.lastBaseUpdate=u))}if(s!==null){var h=n.baseState;r=0,y=d=u=null,c=s;do{var m=c.lane&-536870913,g=m!==c.lane;if(g?(K&m)===m:(a&m)===m){m!==0&&m===Sa&&(zr=!0),y!==null&&(y=y.next={lane:0,tag:c.tag,payload:c.payload,callback:null,next:null});e:{var v=e,p=c;m=t;var N=l;switch(p.tag){case 1:if(v=p.payload,typeof v=="function"){h=v.call(N,h,m);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=p.payload,m=typeof v=="function"?v.call(N,h,m):v,m==null)break e;h=me({},h,m);break e;case 2:el=!0}}m=c.callback,m!==null&&(e.flags|=64,g&&(e.flags|=8192),g=n.callbacks,g===null?n.callbacks=[m]:g.push(m))}else g={lane:m,tag:c.tag,payload:c.payload,callback:c.callback,next:null},y===null?(d=y=g,u=h):y=y.next=g,r|=m;if(c=c.next,c===null){if(c=n.shared.pending,c===null)break;g=c,c=g.next,g.next=null,n.lastBaseUpdate=g,n.shared.pending=null}}while(!0);y===null&&(u=h),n.baseState=u,n.firstBaseUpdate=d,n.lastBaseUpdate=y,s===null&&(n.shared.lanes=0),wl|=r,e.lanes=r,e.memoizedState=h}}function mf(e,t){if(typeof e!="function")throw Error(w(191,e));e.call(t)}function hf(e,t){var l=e.callbacks;if(l!==null)for(e.callbacks=null,e=0;e<l.length;e++)mf(l[e],t)}var wa=Tt(null),_s=Tt(0);function Zu(e,t){e=Zt,ue(_s,e),ue(wa,t),Zt=e|t.baseLanes}function _r(){ue(_s,Zt),ue(wa,wa.current)}function Mc(){Zt=_s.current,Oe(wa),Oe(_s)}var at=Tt(null),dt=null;function ll(e){var t=e.alternate;ue(ye,ye.current&1),ue(at,e),dt===null&&(t===null||wa.current!==null||t.memoizedState!==null)&&(dt=e)}function Mr(e){ue(ye,ye.current),ue(at,e),dt===null&&(dt=e)}function xf(e){e.tag===22?(ue(ye,ye.current),ue(at,e),dt===null&&(dt=e)):al()}function al(){ue(ye,ye.current),ue(at,at.current)}function Fe(e){Oe(at),dt===e&&(dt=null),Oe(ye)}var ye=Tt(0);function Ms(e){for(var t=e;t!==null;){if(t.tag===13){var l=t.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Wr(l)||Pr(l)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Xt=0,X=null,ie=null,pe=null,Ds=!1,ya=!1,ql=!1,Rs=0,jn=0,ba=null,jx=0;function xe(){throw Error(w(321))}function Dc(e,t){if(t===null)return!1;for(var l=0;l<t.length&&l<e.length;l++)if(!lt(e[l],t[l]))return!1;return!0}function Rc(e,t,l,a,n,s){return Xt=s,X=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,k.H=e===null||e.memoizedState===null?Zf:Vc,ql=!1,s=l(a,n),ql=!1,ya&&(s=yf(t,l,a,n)),gf(e),s}function gf(e){k.H=Nn;var t=ie!==null&&ie.next!==null;if(Xt=0,pe=ie=X=null,Ds=!1,jn=0,ba=null,t)throw Error(w(300));e===null||Ne||(e=e.dependencies,e!==null&&Os(e)&&(Ne=!0))}function yf(e,t,l,a){X=e;var n=0;do{if(ya&&(ba=null),jn=0,ya=!1,25<=n)throw Error(w(301));if(n+=1,pe=ie=null,e.updateQueue!=null){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}k.H=Jf,s=t(l,a)}while(ya);return s}function Nx(){var e=k.H,t=e.useState()[0];return t=typeof t.then=="function"?Bn(t):t,e=e.useState()[0],(ie!==null?ie.memoizedState:null)!==e&&(X.flags|=1024),t}function Uc(){var e=Rs!==0;return Rs=0,e}function Lc(e,t,l){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l}function Bc(e){if(Ds){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Ds=!1}Xt=0,pe=ie=X=null,ya=!1,jn=Rs=0,ba=null}function Be(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pe===null?X.memoizedState=pe=e:pe=pe.next=e,pe}function be(){if(ie===null){var e=X.alternate;e=e!==null?e.memoizedState:null}else e=ie.next;var t=pe===null?X.memoizedState:pe.next;if(t!==null)pe=t,ie=e;else{if(e===null)throw X.alternate===null?Error(w(467)):Error(w(310));ie=e,e={memoizedState:ie.memoizedState,baseState:ie.baseState,baseQueue:ie.baseQueue,queue:ie.queue,next:null},pe===null?X.memoizedState=pe=e:pe=pe.next=e}return pe}function ii(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Bn(e){var t=jn;return jn+=1,ba===null&&(ba=[]),e=of(ba,e,t),t=X,(pe===null?t.memoizedState:pe.next)===null&&(t=t.alternate,k.H=t===null||t.memoizedState===null?Zf:Vc),e}function ri(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Bn(e);if(e.$$typeof===Lt)return De(e)}throw Error(w(438,String(e)))}function kc(e){var t=null,l=X.updateQueue;if(l!==null&&(t=l.memoCache),t==null){var a=X.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(n){return n.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),l===null&&(l=ii(),X.updateQueue=l),l.memoCache=t,l=t.data[t.index],l===void 0)for(l=t.data[t.index]=Array(e),a=0;a<e;a++)l[a]=rh;return t.index++,l}function Qt(e,t){return typeof t=="function"?t(e):t}function fs(e){var t=be();return Hc(t,ie,e)}function Hc(e,t,l){var a=e.queue;if(a===null)throw Error(w(311));a.lastRenderedReducer=l;var n=e.baseQueue,s=a.pending;if(s!==null){if(n!==null){var r=n.next;n.next=s.next,s.next=r}t.baseQueue=n=s,a.pending=null}if(s=e.baseState,n===null)e.memoizedState=s;else{t=n.next;var c=r=null,u=null,d=t,y=!1;do{var h=d.lane&-536870913;if(h!==d.lane?(K&h)===h:(Xt&h)===h){var m=d.revertLane;if(m===0)u!==null&&(u=u.next={lane:0,revertLane:0,gesture:null,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),h===Sa&&(y=!0);else if((Xt&m)===m){d=d.next,m===Sa&&(y=!0);continue}else h={lane:0,revertLane:d.revertLane,gesture:null,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},u===null?(c=u=h,r=s):u=u.next=h,X.lanes|=m,wl|=m;h=d.action,ql&&l(s,h),s=d.hasEagerState?d.eagerState:l(s,h)}else m={lane:h,revertLane:d.revertLane,gesture:d.gesture,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},u===null?(c=u=m,r=s):u=u.next=m,X.lanes|=h,wl|=h;d=d.next}while(d!==null&&d!==t);if(u===null?r=s:u.next=c,!lt(s,e.memoizedState)&&(Ne=!0,y&&(l=xa,l!==null)))throw l;e.memoizedState=s,e.baseState=r,e.baseQueue=u,a.lastRenderedState=s}return n===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function Li(e){var t=be(),l=t.queue;if(l===null)throw Error(w(311));l.lastRenderedReducer=e;var a=l.dispatch,n=l.pending,s=t.memoizedState;if(n!==null){l.pending=null;var r=n=n.next;do s=e(s,r.action),r=r.next;while(r!==n);lt(s,t.memoizedState)||(Ne=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),l.lastRenderedState=s}return[s,a]}function bf(e,t,l){var a=X,n=be(),s=F;if(s){if(l===void 0)throw Error(w(407));l=l()}else l=t();var r=!lt((ie||n).memoizedState,l);if(r&&(n.memoizedState=l,Ne=!0),n=n.queue,Yc(jf.bind(null,a,n,e),[e]),n.getSnapshot!==t||r||pe!==null&&pe.memoizedState.tag&1){if(a.flags|=2048,Ea(9,{destroy:void 0},vf.bind(null,a,n,l,t),null),ce===null)throw Error(w(349));s||Xt&127||pf(a,t,l)}return l}function pf(e,t,l){e.flags|=16384,e={getSnapshot:t,value:l},t=X.updateQueue,t===null?(t=ii(),X.updateQueue=t,t.stores=[e]):(l=t.stores,l===null?t.stores=[e]:l.push(e))}function vf(e,t,l,a){t.value=l,t.getSnapshot=a,Nf(t)&&Sf(e)}function jf(e,t,l){return l(function(){Nf(t)&&Sf(e)})}function Nf(e){var t=e.getSnapshot;e=e.value;try{var l=t();return!lt(e,l)}catch{return!0}}function Sf(e){var t=Zl(e,2);t!==null&&Ve(t,e,2)}function Dr(e){var t=Be();if(typeof e=="function"){var l=e;if(e=l(),ql){sl(!0);try{l()}finally{sl(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qt,lastRenderedState:e},t}function wf(e,t,l,a){return e.baseState=l,Hc(e,ie,typeof a=="function"?a:Qt)}function Sx(e,t,l,a,n){if(ui(e))throw Error(w(485));if(e=t.action,e!==null){var s={payload:n,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(r){s.listeners.push(r)}};k.T!==null?l(!0):s.isTransition=!1,a(s),l=t.pending,l===null?(s.next=t.pending=s,Ef(t,s)):(s.next=l.next,t.pending=l.next=s)}}function Ef(e,t){var l=t.action,a=t.payload,n=e.state;if(t.isTransition){var s=k.T,r={};k.T=r;try{var c=l(n,a),u=k.S;u!==null&&u(r,c),Ju(e,t,c)}catch(d){Rr(e,t,d)}finally{s!==null&&r.types!==null&&(s.types=r.types),k.T=s}}else try{s=l(n,a),Ju(e,t,s)}catch(d){Rr(e,t,d)}}function Ju(e,t,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(a){Ku(e,t,a)},function(a){return Rr(e,t,a)}):Ku(e,t,l)}function Ku(e,t,l){t.status="fulfilled",t.value=l,Tf(t),e.state=l,t=e.pending,t!==null&&(l=t.next,l===t?e.pending=null:(l=l.next,t.next=l,Ef(e,l)))}function Rr(e,t,l){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=l,Tf(t),t=t.next;while(t!==a)}e.action=null}function Tf(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Af(e,t){return t}function Fu(e,t){if(F){var l=ce.formState;if(l!==null){e:{var a=X;if(F){if(de){t:{for(var n=de,s=ot;n.nodeType!==8;){if(!s){n=null;break t}if(n=ft(n.nextSibling),n===null){n=null;break t}}s=n.data,n=s==="F!"||s==="F"?n:null}if(n){de=ft(n.nextSibling),a=n.data==="F!";break e}}Nl(a)}a=!1}a&&(t=l[0])}}return l=Be(),l.memoizedState=l.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Af,lastRenderedState:t},l.queue=a,l=Xf.bind(null,X,a),a.dispatch=l,a=Dr(!1),s=Qc.bind(null,X,!1,a.queue),a=Be(),n={state:t,dispatch:null,action:e,pending:null},a.queue=n,l=Sx.bind(null,X,n,s,l),n.dispatch=l,a.memoizedState=e,[t,l,!1]}function $u(e){var t=be();return Cf(t,ie,e)}function Cf(e,t,l){if(t=Hc(e,t,Af)[0],e=fs(Qt)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=Bn(t)}catch(r){throw r===Ua?si:r}else a=t;t=be();var n=t.queue,s=n.dispatch;return l!==t.memoizedState&&(X.flags|=2048,Ea(9,{destroy:void 0},wx.bind(null,n,l),null)),[a,s,e]}function wx(e,t){e.action=t}function Wu(e){var t=be(),l=ie;if(l!==null)return Cf(t,l,e);be(),t=t.memoizedState,l=be();var a=l.queue.dispatch;return l.memoizedState=e,[t,a,!1]}function Ea(e,t,l,a){return e={tag:e,create:l,deps:a,inst:t,next:null},t=X.updateQueue,t===null&&(t=ii(),X.updateQueue=t),l=t.lastEffect,l===null?t.lastEffect=e.next=e:(a=l.next,l.next=e,e.next=a,t.lastEffect=e),e}function Of(){return be().memoizedState}function ms(e,t,l,a){var n=Be();X.flags|=e,n.memoizedState=Ea(1|t,{destroy:void 0},l,a===void 0?null:a)}function ci(e,t,l,a){var n=be();a=a===void 0?null:a;var s=n.memoizedState.inst;ie!==null&&a!==null&&Dc(a,ie.memoizedState.deps)?n.memoizedState=Ea(t,s,l,a):(X.flags|=e,n.memoizedState=Ea(1|t,s,l,a))}function Pu(e,t){ms(8390656,8,e,t)}function Yc(e,t){ci(2048,8,e,t)}function Ex(e){X.flags|=4;var t=X.updateQueue;if(t===null)t=ii(),X.updateQueue=t,t.events=[e];else{var l=t.events;l===null?t.events=[e]:l.push(e)}}function zf(e){var t=be().memoizedState;return Ex({ref:t,nextImpl:e}),function(){if(ee&2)throw Error(w(440));return t.impl.apply(void 0,arguments)}}function _f(e,t){return ci(4,2,e,t)}function Mf(e,t){return ci(4,4,e,t)}function Df(e,t){if(typeof t=="function"){e=e();var l=t(e);return function(){typeof l=="function"?l():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Rf(e,t,l){l=l!=null?l.concat([e]):null,ci(4,4,Df.bind(null,t,e),l)}function qc(){}function Uf(e,t){var l=be();t=t===void 0?null:t;var a=l.memoizedState;return t!==null&&Dc(t,a[1])?a[0]:(l.memoizedState=[e,t],e)}function Lf(e,t){var l=be();t=t===void 0?null:t;var a=l.memoizedState;if(t!==null&&Dc(t,a[1]))return a[0];if(a=e(),ql){sl(!0);try{e()}finally{sl(!1)}}return l.memoizedState=[a,t],a}function Gc(e,t,l){return l===void 0||Xt&1073741824&&!(K&261930)?e.memoizedState=t:(e.memoizedState=l,e=w0(),X.lanes|=e,wl|=e,l)}function Bf(e,t,l,a){return lt(l,t)?l:wa.current!==null?(e=Gc(e,l,a),lt(e,t)||(Ne=!0),e):!(Xt&42)||Xt&1073741824&&!(K&261930)?(Ne=!0,e.memoizedState=l):(e=w0(),X.lanes|=e,wl|=e,t)}function kf(e,t,l,a,n){var s=te.p;te.p=s!==0&&8>s?s:8;var r=k.T,c={};k.T=c,Qc(e,!1,t,l);try{var u=n(),d=k.S;if(d!==null&&d(c,u),u!==null&&typeof u=="object"&&typeof u.then=="function"){var y=vx(u,a);rn(e,t,y,tt(e))}else rn(e,t,a,tt(e))}catch(h){rn(e,t,{then:function(){},status:"rejected",reason:h},tt())}finally{te.p=s,r!==null&&c.types!==null&&(r.types=c.types),k.T=r}}function Tx(){}function Ur(e,t,l,a){if(e.tag!==5)throw Error(w(476));var n=Hf(e).queue;kf(e,n,t,Ml,l===null?Tx:function(){return Yf(e),l(a)})}function Hf(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Ml,baseState:Ml,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qt,lastRenderedState:Ml},next:null};var l={};return t.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qt,lastRenderedState:l},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Yf(e){var t=Hf(e);t.next===null&&(t=e.alternate.memoizedState),rn(e,t.next.queue,{},tt())}function Xc(){return De(En)}function qf(){return be().memoizedState}function Gf(){return be().memoizedState}function Ax(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var l=tt();e=hl(l);var a=xl(t,e,l);a!==null&&(Ve(a,t,l),an(a,t,l)),t={cache:Cc()},e.payload=t;return}t=t.return}}function Cx(e,t,l){var a=tt();l={lane:a,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},ui(e)?Qf(t,l):(l=wc(e,t,l,a),l!==null&&(Ve(l,e,a),Vf(l,t,a)))}function Xf(e,t,l){var a=tt();rn(e,t,l,a)}function rn(e,t,l,a){var n={lane:a,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(ui(e))Qf(t,n);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var r=t.lastRenderedState,c=s(r,l);if(n.hasEagerState=!0,n.eagerState=c,lt(c,r))return ni(e,t,n,0),ce===null&&ai(),!1}catch{}finally{}if(l=wc(e,t,n,a),l!==null)return Ve(l,e,a),Vf(l,t,a),!0}return!1}function Qc(e,t,l,a){if(a={lane:2,revertLane:Ic(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},ui(e)){if(t)throw Error(w(479))}else t=wc(e,l,a,2),t!==null&&Ve(t,e,2)}function ui(e){var t=e.alternate;return e===X||t!==null&&t===X}function Qf(e,t){ya=Ds=!0;var l=e.pending;l===null?t.next=t:(t.next=l.next,l.next=t),e.pending=t}function Vf(e,t,l){if(l&4194048){var a=t.lanes;a&=e.pendingLanes,l|=a,t.lanes=l,Od(e,l)}}var Nn={readContext:De,use:ri,useCallback:xe,useContext:xe,useEffect:xe,useImperativeHandle:xe,useLayoutEffect:xe,useInsertionEffect:xe,useMemo:xe,useReducer:xe,useRef:xe,useState:xe,useDebugValue:xe,useDeferredValue:xe,useTransition:xe,useSyncExternalStore:xe,useId:xe,useHostTransitionStatus:xe,useFormState:xe,useActionState:xe,useOptimistic:xe,useMemoCache:xe,useCacheRefresh:xe};Nn.useEffectEvent=xe;var Zf={readContext:De,use:ri,useCallback:function(e,t){return Be().memoizedState=[e,t===void 0?null:t],e},useContext:De,useEffect:Pu,useImperativeHandle:function(e,t,l){l=l!=null?l.concat([e]):null,ms(4194308,4,Df.bind(null,t,e),l)},useLayoutEffect:function(e,t){return ms(4194308,4,e,t)},useInsertionEffect:function(e,t){ms(4,2,e,t)},useMemo:function(e,t){var l=Be();t=t===void 0?null:t;var a=e();if(ql){sl(!0);try{e()}finally{sl(!1)}}return l.memoizedState=[a,t],a},useReducer:function(e,t,l){var a=Be();if(l!==void 0){var n=l(t);if(ql){sl(!0);try{l(t)}finally{sl(!1)}}}else n=t;return a.memoizedState=a.baseState=n,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},a.queue=e,e=e.dispatch=Cx.bind(null,X,e),[a.memoizedState,e]},useRef:function(e){var t=Be();return e={current:e},t.memoizedState=e},useState:function(e){e=Dr(e);var t=e.queue,l=Xf.bind(null,X,t);return t.dispatch=l,[e.memoizedState,l]},useDebugValue:qc,useDeferredValue:function(e,t){var l=Be();return Gc(l,e,t)},useTransition:function(){var e=Dr(!1);return e=kf.bind(null,X,e.queue,!0,!1),Be().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,l){var a=X,n=Be();if(F){if(l===void 0)throw Error(w(407));l=l()}else{if(l=t(),ce===null)throw Error(w(349));K&127||pf(a,t,l)}n.memoizedState=l;var s={value:l,getSnapshot:t};return n.queue=s,Pu(jf.bind(null,a,s,e),[e]),a.flags|=2048,Ea(9,{destroy:void 0},vf.bind(null,a,s,l,t),null),l},useId:function(){var e=Be(),t=ce.identifierPrefix;if(F){var l=Nt,a=jt;l=(a&~(1<<32-et(a)-1)).toString(32)+l,t="_"+t+"R_"+l,l=Rs++,0<l&&(t+="H"+l.toString(32)),t+="_"}else l=jx++,t="_"+t+"r_"+l.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Xc,useFormState:Fu,useActionState:Fu,useOptimistic:function(e){var t=Be();t.memoizedState=t.baseState=e;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=l,t=Qc.bind(null,X,!0,l),l.dispatch=t,[e,t]},useMemoCache:kc,useCacheRefresh:function(){return Be().memoizedState=Ax.bind(null,X)},useEffectEvent:function(e){var t=Be(),l={impl:e};return t.memoizedState=l,function(){if(ee&2)throw Error(w(440));return l.impl.apply(void 0,arguments)}}},Vc={readContext:De,use:ri,useCallback:Uf,useContext:De,useEffect:Yc,useImperativeHandle:Rf,useInsertionEffect:_f,useLayoutEffect:Mf,useMemo:Lf,useReducer:fs,useRef:Of,useState:function(){return fs(Qt)},useDebugValue:qc,useDeferredValue:function(e,t){var l=be();return Bf(l,ie.memoizedState,e,t)},useTransition:function(){var e=fs(Qt)[0],t=be().memoizedState;return[typeof e=="boolean"?e:Bn(e),t]},useSyncExternalStore:bf,useId:qf,useHostTransitionStatus:Xc,useFormState:$u,useActionState:$u,useOptimistic:function(e,t){var l=be();return wf(l,ie,e,t)},useMemoCache:kc,useCacheRefresh:Gf};Vc.useEffectEvent=zf;var Jf={readContext:De,use:ri,useCallback:Uf,useContext:De,useEffect:Yc,useImperativeHandle:Rf,useInsertionEffect:_f,useLayoutEffect:Mf,useMemo:Lf,useReducer:Li,useRef:Of,useState:function(){return Li(Qt)},useDebugValue:qc,useDeferredValue:function(e,t){var l=be();return ie===null?Gc(l,e,t):Bf(l,ie.memoizedState,e,t)},useTransition:function(){var e=Li(Qt)[0],t=be().memoizedState;return[typeof e=="boolean"?e:Bn(e),t]},useSyncExternalStore:bf,useId:qf,useHostTransitionStatus:Xc,useFormState:Wu,useActionState:Wu,useOptimistic:function(e,t){var l=be();return ie!==null?wf(l,ie,e,t):(l.baseState=e,[e,l.queue.dispatch])},useMemoCache:kc,useCacheRefresh:Gf};Jf.useEffectEvent=zf;function Bi(e,t,l,a){t=e.memoizedState,l=l(a,t),l=l==null?t:me({},t,l),e.memoizedState=l,e.lanes===0&&(e.updateQueue.baseState=l)}var Lr={enqueueSetState:function(e,t,l){e=e._reactInternals;var a=tt(),n=hl(a);n.payload=t,l!=null&&(n.callback=l),t=xl(e,n,a),t!==null&&(Ve(t,e,a),an(t,e,a))},enqueueReplaceState:function(e,t,l){e=e._reactInternals;var a=tt(),n=hl(a);n.tag=1,n.payload=t,l!=null&&(n.callback=l),t=xl(e,n,a),t!==null&&(Ve(t,e,a),an(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var l=tt(),a=hl(l);a.tag=2,t!=null&&(a.callback=t),t=xl(e,a,l),t!==null&&(Ve(t,e,l),an(t,e,l))}};function Iu(e,t,l,a,n,s,r){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,s,r):t.prototype&&t.prototype.isPureReactComponent?!yn(l,a)||!yn(n,s):!0}function eo(e,t,l,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(l,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(l,a),t.state!==e&&Lr.enqueueReplaceState(t,t.state,null)}function Gl(e,t){var l=t;if("ref"in t){l={};for(var a in t)a!=="ref"&&(l[a]=t[a])}if(e=e.defaultProps){l===t&&(l=me({},l));for(var n in e)l[n]===void 0&&(l[n]=e[n])}return l}function Kf(e){Ts(e)}function Ff(e){console.error(e)}function $f(e){Ts(e)}function Us(e,t){try{var l=e.onUncaughtError;l(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function to(e,t,l){try{var a=e.onCaughtError;a(l.value,{componentStack:l.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(n){setTimeout(function(){throw n})}}function Br(e,t,l){return l=hl(l),l.tag=3,l.payload={element:null},l.callback=function(){Us(e,t)},l}function Wf(e){return e=hl(e),e.tag=3,e}function Pf(e,t,l,a){var n=l.type.getDerivedStateFromError;if(typeof n=="function"){var s=a.value;e.payload=function(){return n(s)},e.callback=function(){to(t,l,a)}}var r=l.stateNode;r!==null&&typeof r.componentDidCatch=="function"&&(e.callback=function(){to(t,l,a),typeof n!="function"&&(gl===null?gl=new Set([this]):gl.add(this));var c=a.stack;this.componentDidCatch(a.value,{componentStack:c!==null?c:""})})}function Ox(e,t,l,a,n){if(l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=l.alternate,t!==null&&Ra(t,l,n,!0),l=at.current,l!==null){switch(l.tag){case 31:case 13:return dt===null?Ys():l.alternate===null&&ge===0&&(ge=3),l.flags&=-257,l.flags|=65536,l.lanes=n,a===zs?l.flags|=16384:(t=l.updateQueue,t===null?l.updateQueue=new Set([a]):t.add(a),Ki(e,a,n)),!1;case 22:return l.flags|=65536,a===zs?l.flags|=16384:(t=l.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},l.updateQueue=t):(l=t.retryQueue,l===null?t.retryQueue=new Set([a]):l.add(a)),Ki(e,a,n)),!1}throw Error(w(435,l.tag))}return Ki(e,a,n),Ys(),!1}if(F)return t=at.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=n,a!==wr&&(e=Error(w(422),{cause:a}),pn(ut(e,l)))):(a!==wr&&(t=Error(w(423),{cause:a}),pn(ut(t,l))),e=e.current.alternate,e.flags|=65536,n&=-n,e.lanes|=n,a=ut(a,l),n=Br(e.stateNode,a,n),Ui(e,n),ge!==4&&(ge=2)),!1;var s=Error(w(520),{cause:a});if(s=ut(s,l),on===null?on=[s]:on.push(s),ge!==4&&(ge=2),t===null)return!0;a=ut(a,l),l=t;do{switch(l.tag){case 3:return l.flags|=65536,e=n&-n,l.lanes|=e,e=Br(l.stateNode,a,e),Ui(l,e),!1;case 1:if(t=l.type,s=l.stateNode,(l.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(gl===null||!gl.has(s))))return l.flags|=65536,n&=-n,l.lanes|=n,n=Wf(n),Pf(n,e,l,a),Ui(l,n),!1}l=l.return}while(l!==null);return!1}var Zc=Error(w(461)),Ne=!1;function ze(e,t,l,a){t.child=e===null?ff(t,null,l,a):Yl(t,e.child,l,a)}function lo(e,t,l,a,n){l=l.render;var s=t.ref;if("ref"in a){var r={};for(var c in a)c!=="ref"&&(r[c]=a[c])}else r=a;return Hl(t),a=Rc(e,t,l,r,s,n),c=Uc(),e!==null&&!Ne?(Lc(e,t,n),Vt(e,t,n)):(F&&c&&Tc(t),t.flags|=1,ze(e,t,a,n),t.child)}function ao(e,t,l,a,n){if(e===null){var s=l.type;return typeof s=="function"&&!Ec(s)&&s.defaultProps===void 0&&l.compare===null?(t.tag=15,t.type=s,If(e,t,s,a,n)):(e=os(l.type,null,a,t,t.mode,n),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!Jc(e,n)){var r=s.memoizedProps;if(l=l.compare,l=l!==null?l:yn,l(r,a)&&e.ref===t.ref)return Vt(e,t,n)}return t.flags|=1,e=Ht(s,a),e.ref=t.ref,e.return=t,t.child=e}function If(e,t,l,a,n){if(e!==null){var s=e.memoizedProps;if(yn(s,a)&&e.ref===t.ref)if(Ne=!1,t.pendingProps=a=s,Jc(e,n))e.flags&131072&&(Ne=!0);else return t.lanes=e.lanes,Vt(e,t,n)}return kr(e,t,l,a,n)}function e0(e,t,l,a){var n=a.children,s=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if(t.flags&128){if(s=s!==null?s.baseLanes|l:l,e!==null){for(a=t.child=e.child,n=0;a!==null;)n=n|a.lanes|a.childLanes,a=a.sibling;a=n&~s}else a=0,t.child=null;return no(e,t,s,l,a)}if(l&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&ds(t,s!==null?s.cachePool:null),s!==null?Zu(t,s):_r(),xf(t);else return a=t.lanes=536870912,no(e,t,s!==null?s.baseLanes|l:l,l,a)}else s!==null?(ds(t,s.cachePool),Zu(t,s),al(),t.memoizedState=null):(e!==null&&ds(t,null),_r(),al());return ze(e,t,n,l),t.child}function $a(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function no(e,t,l,a,n){var s=Oc();return s=s===null?null:{parent:je._currentValue,pool:s},t.memoizedState={baseLanes:l,cachePool:s},e!==null&&ds(t,null),_r(),xf(t),e!==null&&Ra(e,t,a,!0),t.childLanes=n,null}function hs(e,t){return t=Ls({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function so(e,t,l){return Yl(t,e.child,null,l),e=hs(t,t.pendingProps),e.flags|=2,Fe(t),t.memoizedState=null,e}function zx(e,t,l){var a=t.pendingProps,n=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(F){if(a.mode==="hidden")return e=hs(t,a),t.lanes=536870912,$a(null,e);if(Mr(t),(e=de)?(e=Z0(e,ot),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:jl!==null?{id:jt,overflow:Nt}:null,retryLane:536870912,hydrationErrors:null},l=nf(e),l.return=t,t.child=l,Me=t,de=null)):e=null,e===null)throw Nl(t);return t.lanes=536870912,null}return hs(t,a)}var s=e.memoizedState;if(s!==null){var r=s.dehydrated;if(Mr(t),n)if(t.flags&256)t.flags&=-257,t=so(e,t,l);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(w(558));else if(Ne||Ra(e,t,l,!1),n=(l&e.childLanes)!==0,Ne||n){if(a=ce,a!==null&&(r=zd(a,l),r!==0&&r!==s.retryLane))throw s.retryLane=r,Zl(e,r),Ve(a,e,r),Zc;Ys(),t=so(e,t,l)}else e=s.treeContext,de=ft(r.nextSibling),Me=t,F=!0,ml=null,ot=!1,e!==null&&rf(t,e),t=hs(t,a),t.flags|=4096;return t}return e=Ht(e.child,{mode:a.mode,children:a.children}),e.ref=t.ref,t.child=e,e.return=t,e}function xs(e,t){var l=t.ref;if(l===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(w(284));(e===null||e.ref!==l)&&(t.flags|=4194816)}}function kr(e,t,l,a,n){return Hl(t),l=Rc(e,t,l,a,void 0,n),a=Uc(),e!==null&&!Ne?(Lc(e,t,n),Vt(e,t,n)):(F&&a&&Tc(t),t.flags|=1,ze(e,t,l,n),t.child)}function io(e,t,l,a,n,s){return Hl(t),t.updateQueue=null,l=yf(t,a,l,n),gf(e),a=Uc(),e!==null&&!Ne?(Lc(e,t,s),Vt(e,t,s)):(F&&a&&Tc(t),t.flags|=1,ze(e,t,l,s),t.child)}function ro(e,t,l,a,n){if(Hl(t),t.stateNode===null){var s=ca,r=l.contextType;typeof r=="object"&&r!==null&&(s=De(r)),s=new l(a,s),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Lr,t.stateNode=s,s._reactInternals=t,s=t.stateNode,s.props=a,s.state=t.memoizedState,s.refs={},_c(t),r=l.contextType,s.context=typeof r=="object"&&r!==null?De(r):ca,s.state=t.memoizedState,r=l.getDerivedStateFromProps,typeof r=="function"&&(Bi(t,l,r,a),s.state=t.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(r=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),r!==s.state&&Lr.enqueueReplaceState(s,s.state,null),sn(t,a,s,n),nn(),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){s=t.stateNode;var c=t.memoizedProps,u=Gl(l,c);s.props=u;var d=s.context,y=l.contextType;r=ca,typeof y=="object"&&y!==null&&(r=De(y));var h=l.getDerivedStateFromProps;y=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function",c=t.pendingProps!==c,y||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(c||d!==r)&&eo(t,s,a,r),el=!1;var m=t.memoizedState;s.state=m,sn(t,a,s,n),nn(),d=t.memoizedState,c||m!==d||el?(typeof h=="function"&&(Bi(t,l,h,a),d=t.memoizedState),(u=el||Iu(t,l,u,a,m,d,r))?(y||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=d),s.props=a,s.state=d,s.context=r,a=u):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{s=t.stateNode,Or(e,t),r=t.memoizedProps,y=Gl(l,r),s.props=y,h=t.pendingProps,m=s.context,d=l.contextType,u=ca,typeof d=="object"&&d!==null&&(u=De(d)),c=l.getDerivedStateFromProps,(d=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(r!==h||m!==u)&&eo(t,s,a,u),el=!1,m=t.memoizedState,s.state=m,sn(t,a,s,n),nn();var g=t.memoizedState;r!==h||m!==g||el||e!==null&&e.dependencies!==null&&Os(e.dependencies)?(typeof c=="function"&&(Bi(t,l,c,a),g=t.memoizedState),(y=el||Iu(t,l,y,a,m,g,u)||e!==null&&e.dependencies!==null&&Os(e.dependencies))?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(a,g,u),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(a,g,u)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||r===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||r===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=g),s.props=a,s.state=g,s.context=u,a=y):(typeof s.componentDidUpdate!="function"||r===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||r===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),a=!1)}return s=a,xs(e,t),a=(t.flags&128)!==0,s||a?(s=t.stateNode,l=a&&typeof l.getDerivedStateFromError!="function"?null:s.render(),t.flags|=1,e!==null&&a?(t.child=Yl(t,e.child,null,n),t.child=Yl(t,null,l,n)):ze(e,t,l,n),t.memoizedState=s.state,e=t.child):e=Vt(e,t,n),e}function co(e,t,l,a){return kl(),t.flags|=256,ze(e,t,l,a),t.child}var ki={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Hi(e){return{baseLanes:e,cachePool:uf()}}function Yi(e,t,l){return e=e!==null?e.childLanes&~l:0,t&&(e|=We),e}function t0(e,t,l){var a=t.pendingProps,n=!1,s=(t.flags&128)!==0,r;if((r=s)||(r=e!==null&&e.memoizedState===null?!1:(ye.current&2)!==0),r&&(n=!0,t.flags&=-129),r=(t.flags&32)!==0,t.flags&=-33,e===null){if(F){if(n?ll(t):al(),(e=de)?(e=Z0(e,ot),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:jl!==null?{id:jt,overflow:Nt}:null,retryLane:536870912,hydrationErrors:null},l=nf(e),l.return=t,t.child=l,Me=t,de=null)):e=null,e===null)throw Nl(t);return Pr(e)?t.lanes=32:t.lanes=536870912,null}var c=a.children;return a=a.fallback,n?(al(),n=t.mode,c=Ls({mode:"hidden",children:c},n),a=Dl(a,n,l,null),c.return=t,a.return=t,c.sibling=a,t.child=c,a=t.child,a.memoizedState=Hi(l),a.childLanes=Yi(e,r,l),t.memoizedState=ki,$a(null,a)):(ll(t),Hr(t,c))}var u=e.memoizedState;if(u!==null&&(c=u.dehydrated,c!==null)){if(s)t.flags&256?(ll(t),t.flags&=-257,t=qi(e,t,l)):t.memoizedState!==null?(al(),t.child=e.child,t.flags|=128,t=null):(al(),c=a.fallback,n=t.mode,a=Ls({mode:"visible",children:a.children},n),c=Dl(c,n,l,null),c.flags|=2,a.return=t,c.return=t,a.sibling=c,t.child=a,Yl(t,e.child,null,l),a=t.child,a.memoizedState=Hi(l),a.childLanes=Yi(e,r,l),t.memoizedState=ki,t=$a(null,a));else if(ll(t),Pr(c)){if(r=c.nextSibling&&c.nextSibling.dataset,r)var d=r.dgst;r=d,a=Error(w(419)),a.stack="",a.digest=r,pn({value:a,source:null,stack:null}),t=qi(e,t,l)}else if(Ne||Ra(e,t,l,!1),r=(l&e.childLanes)!==0,Ne||r){if(r=ce,r!==null&&(a=zd(r,l),a!==0&&a!==u.retryLane))throw u.retryLane=a,Zl(e,a),Ve(r,e,a),Zc;Wr(c)||Ys(),t=qi(e,t,l)}else Wr(c)?(t.flags|=192,t.child=e.child,t=null):(e=u.treeContext,de=ft(c.nextSibling),Me=t,F=!0,ml=null,ot=!1,e!==null&&rf(t,e),t=Hr(t,a.children),t.flags|=4096);return t}return n?(al(),c=a.fallback,n=t.mode,u=e.child,d=u.sibling,a=Ht(u,{mode:"hidden",children:a.children}),a.subtreeFlags=u.subtreeFlags&65011712,d!==null?c=Ht(d,c):(c=Dl(c,n,l,null),c.flags|=2),c.return=t,a.return=t,a.sibling=c,t.child=a,$a(null,a),a=t.child,c=e.child.memoizedState,c===null?c=Hi(l):(n=c.cachePool,n!==null?(u=je._currentValue,n=n.parent!==u?{parent:u,pool:u}:n):n=uf(),c={baseLanes:c.baseLanes|l,cachePool:n}),a.memoizedState=c,a.childLanes=Yi(e,r,l),t.memoizedState=ki,$a(e.child,a)):(ll(t),l=e.child,e=l.sibling,l=Ht(l,{mode:"visible",children:a.children}),l.return=t,l.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=l,t.memoizedState=null,l)}function Hr(e,t){return t=Ls({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Ls(e,t){return e=$e(22,e,null,t),e.lanes=0,e}function qi(e,t,l){return Yl(t,e.child,null,l),e=Hr(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function uo(e,t,l){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),Tr(e.return,t,l)}function Gi(e,t,l,a,n,s){var r=e.memoizedState;r===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:l,tailMode:n,treeForkCount:s}:(r.isBackwards=t,r.rendering=null,r.renderingStartTime=0,r.last=a,r.tail=l,r.tailMode=n,r.treeForkCount=s)}function l0(e,t,l){var a=t.pendingProps,n=a.revealOrder,s=a.tail;a=a.children;var r=ye.current,c=(r&2)!==0;if(c?(r=r&1|2,t.flags|=128):r&=1,ue(ye,r),ze(e,t,a,l),a=F?bn:0,!c&&e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&uo(e,l,t);else if(e.tag===19)uo(e,l,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(n){case"forwards":for(l=t.child,n=null;l!==null;)e=l.alternate,e!==null&&Ms(e)===null&&(n=l),l=l.sibling;l=n,l===null?(n=t.child,t.child=null):(n=l.sibling,l.sibling=null),Gi(t,!1,n,l,s,a);break;case"backwards":case"unstable_legacy-backwards":for(l=null,n=t.child,t.child=null;n!==null;){if(e=n.alternate,e!==null&&Ms(e)===null){t.child=n;break}e=n.sibling,n.sibling=l,l=n,n=e}Gi(t,!0,l,null,s,a);break;case"together":Gi(t,!1,null,null,void 0,a);break;default:t.memoizedState=null}return t.child}function Vt(e,t,l){if(e!==null&&(t.dependencies=e.dependencies),wl|=t.lanes,!(l&t.childLanes))if(e!==null){if(Ra(e,t,l,!1),(l&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(w(153));if(t.child!==null){for(e=t.child,l=Ht(e,e.pendingProps),t.child=l,l.return=t;e.sibling!==null;)e=e.sibling,l=l.sibling=Ht(e,e.pendingProps),l.return=t;l.sibling=null}return t.child}function Jc(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&Os(e)))}function _x(e,t,l){switch(t.tag){case 3:Ns(t,t.stateNode.containerInfo),tl(t,je,e.memoizedState.cache),kl();break;case 27:case 5:mr(t);break;case 4:Ns(t,t.stateNode.containerInfo);break;case 10:tl(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Mr(t),null;break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(ll(t),t.flags|=128,null):l&t.child.childLanes?t0(e,t,l):(ll(t),e=Vt(e,t,l),e!==null?e.sibling:null);ll(t);break;case 19:var n=(e.flags&128)!==0;if(a=(l&t.childLanes)!==0,a||(Ra(e,t,l,!1),a=(l&t.childLanes)!==0),n){if(a)return l0(e,t,l);t.flags|=128}if(n=t.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),ue(ye,ye.current),a)break;return null;case 22:return t.lanes=0,e0(e,t,l,t.pendingProps);case 24:tl(t,je,e.memoizedState.cache)}return Vt(e,t,l)}function a0(e,t,l){if(e!==null)if(e.memoizedProps!==t.pendingProps)Ne=!0;else{if(!Jc(e,l)&&!(t.flags&128))return Ne=!1,_x(e,t,l);Ne=!!(e.flags&131072)}else Ne=!1,F&&t.flags&1048576&&sf(t,bn,t.index);switch(t.lanes=0,t.tag){case 16:e:{var a=t.pendingProps;if(e=zl(t.elementType),t.type=e,typeof e=="function")Ec(e)?(a=Gl(e,a),t.tag=1,t=ro(null,t,e,a,l)):(t.tag=0,t=kr(null,t,e,a,l));else{if(e!=null){var n=e.$$typeof;if(n===dc){t.tag=11,t=lo(null,t,e,a,l);break e}else if(n===fc){t.tag=14,t=ao(null,t,e,a,l);break e}}throw t=dr(e)||e,Error(w(306,t,""))}}return t;case 0:return kr(e,t,t.type,t.pendingProps,l);case 1:return a=t.type,n=Gl(a,t.pendingProps),ro(e,t,a,n,l);case 3:e:{if(Ns(t,t.stateNode.containerInfo),e===null)throw Error(w(387));a=t.pendingProps;var s=t.memoizedState;n=s.element,Or(e,t),sn(t,a,null,l);var r=t.memoizedState;if(a=r.cache,tl(t,je,a),a!==s.cache&&Ar(t,[je],l,!0),nn(),a=r.element,s.isDehydrated)if(s={element:a,isDehydrated:!1,cache:r.cache},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){t=co(e,t,a,l);break e}else if(a!==n){n=ut(Error(w(424)),t),pn(n),t=co(e,t,a,l);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(de=ft(e.firstChild),Me=t,F=!0,ml=null,ot=!0,l=ff(t,null,a,l),t.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(kl(),a===n){t=Vt(e,t,l);break e}ze(e,t,a,l)}t=t.child}return t;case 26:return xs(e,t),e===null?(l=zo(t.type,null,t.pendingProps,null))?t.memoizedState=l:F||(l=t.type,e=t.pendingProps,a=Qs(fl.current).createElement(l),a[_e]=t,a[Ze]=e,Ue(a,l,e),Ce(a),t.stateNode=a):t.memoizedState=zo(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return mr(t),e===null&&F&&(a=t.stateNode=J0(t.type,t.pendingProps,fl.current),Me=t,ot=!0,n=de,Tl(t.type)?(Ir=n,de=ft(a.firstChild)):de=n),ze(e,t,t.pendingProps.children,l),xs(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&F&&((n=a=de)&&(a=rg(a,t.type,t.pendingProps,ot),a!==null?(t.stateNode=a,Me=t,de=ft(a.firstChild),ot=!1,n=!0):n=!1),n||Nl(t)),mr(t),n=t.type,s=t.pendingProps,r=e!==null?e.memoizedProps:null,a=s.children,Fr(n,s)?a=null:r!==null&&Fr(n,r)&&(t.flags|=32),t.memoizedState!==null&&(n=Rc(e,t,Nx,null,null,l),En._currentValue=n),xs(e,t),ze(e,t,a,l),t.child;case 6:return e===null&&F&&((e=l=de)&&(l=cg(l,t.pendingProps,ot),l!==null?(t.stateNode=l,Me=t,de=null,e=!0):e=!1),e||Nl(t)),null;case 13:return t0(e,t,l);case 4:return Ns(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=Yl(t,null,a,l):ze(e,t,a,l),t.child;case 11:return lo(e,t,t.type,t.pendingProps,l);case 7:return ze(e,t,t.pendingProps,l),t.child;case 8:return ze(e,t,t.pendingProps.children,l),t.child;case 12:return ze(e,t,t.pendingProps.children,l),t.child;case 10:return a=t.pendingProps,tl(t,t.type,a.value),ze(e,t,a.children,l),t.child;case 9:return n=t.type._context,a=t.pendingProps.children,Hl(t),n=De(n),a=a(n),t.flags|=1,ze(e,t,a,l),t.child;case 14:return ao(e,t,t.type,t.pendingProps,l);case 15:return If(e,t,t.type,t.pendingProps,l);case 19:return l0(e,t,l);case 31:return zx(e,t,l);case 22:return e0(e,t,l,t.pendingProps);case 24:return Hl(t),a=De(je),e===null?(n=Oc(),n===null&&(n=ce,s=Cc(),n.pooledCache=s,s.refCount++,s!==null&&(n.pooledCacheLanes|=l),n=s),t.memoizedState={parent:a,cache:n},_c(t),tl(t,je,n)):(e.lanes&l&&(Or(e,t),sn(t,null,null,l),nn()),n=e.memoizedState,s=t.memoizedState,n.parent!==a?(n={parent:a,cache:a},t.memoizedState=n,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=n),tl(t,je,a)):(a=s.cache,tl(t,je,a),a!==n.cache&&Ar(t,[je],l,!0))),ze(e,t,t.pendingProps.children,l),t.child;case 29:throw t.pendingProps}throw Error(w(156,t.tag))}function Ot(e){e.flags|=4}function Xi(e,t,l,a,n){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(n&335544128)===n)if(e.stateNode.complete)e.flags|=8192;else if(A0())e.flags|=8192;else throw Ul=zs,zc}else e.flags&=-16777217}function oo(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!$0(t))if(A0())e.flags|=8192;else throw Ul=zs,zc}function es(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Ad():536870912,e.lanes|=t,Ta|=t)}function Qa(e,t){if(!F)switch(e.tailMode){case"hidden":t=e.tail;for(var l=null;t!==null;)t.alternate!==null&&(l=t),t=t.sibling;l===null?e.tail=null:l.sibling=null;break;case"collapsed":l=e.tail;for(var a=null;l!==null;)l.alternate!==null&&(a=l),l=l.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function oe(e){var t=e.alternate!==null&&e.alternate.child===e.child,l=0,a=0;if(t)for(var n=e.child;n!==null;)l|=n.lanes|n.childLanes,a|=n.subtreeFlags&65011712,a|=n.flags&65011712,n.return=e,n=n.sibling;else for(n=e.child;n!==null;)l|=n.lanes|n.childLanes,a|=n.subtreeFlags,a|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=a,e.childLanes=l,t}function Mx(e,t,l){var a=t.pendingProps;switch(Ac(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return oe(t),null;case 1:return oe(t),null;case 3:return l=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Yt(je),va(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(Kl(t)?Ot(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ri())),oe(t),null;case 26:var n=t.type,s=t.memoizedState;return e===null?(Ot(t),s!==null?(oe(t),oo(t,s)):(oe(t),Xi(t,n,null,a,l))):s?s!==e.memoizedState?(Ot(t),oe(t),oo(t,s)):(oe(t),t.flags&=-16777217):(e=e.memoizedProps,e!==a&&Ot(t),oe(t),Xi(t,n,e,a,l)),null;case 27:if(Ss(t),l=fl.current,n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&Ot(t);else{if(!a){if(t.stateNode===null)throw Error(w(166));return oe(t),null}e=Et.current,Kl(t)?Hu(t):(e=J0(n,a,l),t.stateNode=e,Ot(t))}return oe(t),null;case 5:if(Ss(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&Ot(t);else{if(!a){if(t.stateNode===null)throw Error(w(166));return oe(t),null}if(s=Et.current,Kl(t))Hu(t);else{var r=Qs(fl.current);switch(s){case 1:s=r.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:s=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":s=r.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":s=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":s=r.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof a.is=="string"?r.createElement("select",{is:a.is}):r.createElement("select"),a.multiple?s.multiple=!0:a.size&&(s.size=a.size);break;default:s=typeof a.is=="string"?r.createElement(n,{is:a.is}):r.createElement(n)}}s[_e]=t,s[Ze]=a;e:for(r=t.child;r!==null;){if(r.tag===5||r.tag===6)s.appendChild(r.stateNode);else if(r.tag!==4&&r.tag!==27&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}t.stateNode=s;e:switch(Ue(s,n,a),n){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&Ot(t)}}return oe(t),Xi(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,l),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&Ot(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(w(166));if(e=fl.current,Kl(t)){if(e=t.stateNode,l=t.memoizedProps,a=null,n=Me,n!==null)switch(n.tag){case 27:case 5:a=n.memoizedProps}e[_e]=t,e=!!(e.nodeValue===l||a!==null&&a.suppressHydrationWarning===!0||X0(e.nodeValue,l)),e||Nl(t,!0)}else e=Qs(e).createTextNode(a),e[_e]=t,t.stateNode=e}return oe(t),null;case 31:if(l=t.memoizedState,e===null||e.memoizedState!==null){if(a=Kl(t),l!==null){if(e===null){if(!a)throw Error(w(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(w(557));e[_e]=t}else kl(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;oe(t),e=!1}else l=Ri(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=l),e=!0;if(!e)return t.flags&256?(Fe(t),t):(Fe(t),null);if(t.flags&128)throw Error(w(558))}return oe(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(n=Kl(t),a!==null&&a.dehydrated!==null){if(e===null){if(!n)throw Error(w(318));if(n=t.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(w(317));n[_e]=t}else kl(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;oe(t),n=!1}else n=Ri(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),n=!0;if(!n)return t.flags&256?(Fe(t),t):(Fe(t),null)}return Fe(t),t.flags&128?(t.lanes=l,t):(l=a!==null,e=e!==null&&e.memoizedState!==null,l&&(a=t.child,n=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(n=a.alternate.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==n&&(a.flags|=2048)),l!==e&&l&&(t.child.flags|=8192),es(t,t.updateQueue),oe(t),null);case 4:return va(),e===null&&eu(t.stateNode.containerInfo),oe(t),null;case 10:return Yt(t.type),oe(t),null;case 19:if(Oe(ye),a=t.memoizedState,a===null)return oe(t),null;if(n=(t.flags&128)!==0,s=a.rendering,s===null)if(n)Qa(a,!1);else{if(ge!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Ms(e),s!==null){for(t.flags|=128,Qa(a,!1),e=s.updateQueue,t.updateQueue=e,es(t,e),t.subtreeFlags=0,e=l,l=t.child;l!==null;)af(l,e),l=l.sibling;return ue(ye,ye.current&1|2),F&&Rt(t,a.treeForkCount),t.child}e=e.sibling}a.tail!==null&&Pe()>ks&&(t.flags|=128,n=!0,Qa(a,!1),t.lanes=4194304)}else{if(!n)if(e=Ms(s),e!==null){if(t.flags|=128,n=!0,e=e.updateQueue,t.updateQueue=e,es(t,e),Qa(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!F)return oe(t),null}else 2*Pe()-a.renderingStartTime>ks&&l!==536870912&&(t.flags|=128,n=!0,Qa(a,!1),t.lanes=4194304);a.isBackwards?(s.sibling=t.child,t.child=s):(e=a.last,e!==null?e.sibling=s:t.child=s,a.last=s)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Pe(),e.sibling=null,l=ye.current,ue(ye,n?l&1|2:l&1),F&&Rt(t,a.treeForkCount),e):(oe(t),null);case 22:case 23:return Fe(t),Mc(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?l&536870912&&!(t.flags&128)&&(oe(t),t.subtreeFlags&6&&(t.flags|=8192)):oe(t),l=t.updateQueue,l!==null&&es(t,l.retryQueue),l=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==l&&(t.flags|=2048),e!==null&&Oe(Rl),null;case 24:return l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),Yt(je),oe(t),null;case 25:return null;case 30:return null}throw Error(w(156,t.tag))}function Dx(e,t){switch(Ac(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Yt(je),va(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Ss(t),null;case 31:if(t.memoizedState!==null){if(Fe(t),t.alternate===null)throw Error(w(340));kl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Fe(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(w(340));kl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Oe(ye),null;case 4:return va(),null;case 10:return Yt(t.type),null;case 22:case 23:return Fe(t),Mc(),e!==null&&Oe(Rl),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Yt(je),null;case 25:return null;default:return null}}function n0(e,t){switch(Ac(t),t.tag){case 3:Yt(je),va();break;case 26:case 27:case 5:Ss(t);break;case 4:va();break;case 31:t.memoizedState!==null&&Fe(t);break;case 13:Fe(t);break;case 19:Oe(ye);break;case 10:Yt(t.type);break;case 22:case 23:Fe(t),Mc(),e!==null&&Oe(Rl);break;case 24:Yt(je)}}function kn(e,t){try{var l=t.updateQueue,a=l!==null?l.lastEffect:null;if(a!==null){var n=a.next;l=n;do{if((l.tag&e)===e){a=void 0;var s=l.create,r=l.inst;a=s(),r.destroy=a}l=l.next}while(l!==n)}}catch(c){ae(t,t.return,c)}}function Sl(e,t,l){try{var a=t.updateQueue,n=a!==null?a.lastEffect:null;if(n!==null){var s=n.next;a=s;do{if((a.tag&e)===e){var r=a.inst,c=r.destroy;if(c!==void 0){r.destroy=void 0,n=t;var u=l,d=c;try{d()}catch(y){ae(n,u,y)}}}a=a.next}while(a!==s)}}catch(y){ae(t,t.return,y)}}function s0(e){var t=e.updateQueue;if(t!==null){var l=e.stateNode;try{hf(t,l)}catch(a){ae(e,e.return,a)}}}function i0(e,t,l){l.props=Gl(e.type,e.memoizedProps),l.state=e.memoizedState;try{l.componentWillUnmount()}catch(a){ae(e,t,a)}}function cn(e,t){try{var l=e.ref;if(l!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof l=="function"?e.refCleanup=l(a):l.current=a}}catch(n){ae(e,t,n)}}function St(e,t){var l=e.ref,a=e.refCleanup;if(l!==null)if(typeof a=="function")try{a()}catch(n){ae(e,t,n)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(n){ae(e,t,n)}else l.current=null}function r0(e){var t=e.type,l=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":l.autoFocus&&a.focus();break e;case"img":l.src?a.src=l.src:l.srcSet&&(a.srcset=l.srcSet)}}catch(n){ae(e,e.return,n)}}function Qi(e,t,l){try{var a=e.stateNode;tg(a,e.type,l,t),a[Ze]=t}catch(n){ae(e,e.return,n)}}function c0(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Tl(e.type)||e.tag===4}function Vi(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||c0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Tl(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Yr(e,t,l){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(e,t):(t=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,t.appendChild(e),l=l._reactRootContainer,l!=null||t.onclick!==null||(t.onclick=Bt));else if(a!==4&&(a===27&&Tl(e.type)&&(l=e.stateNode,t=null),e=e.child,e!==null))for(Yr(e,t,l),e=e.sibling;e!==null;)Yr(e,t,l),e=e.sibling}function Bs(e,t,l){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?l.insertBefore(e,t):l.appendChild(e);else if(a!==4&&(a===27&&Tl(e.type)&&(l=e.stateNode),e=e.child,e!==null))for(Bs(e,t,l),e=e.sibling;e!==null;)Bs(e,t,l),e=e.sibling}function u0(e){var t=e.stateNode,l=e.memoizedProps;try{for(var a=e.type,n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Ue(t,a,l),t[_e]=e,t[Ze]=l}catch(s){ae(e,e.return,s)}}var Ut=!1,ve=!1,Zi=!1,fo=typeof WeakSet=="function"?WeakSet:Set,Ae=null;function Rx(e,t){if(e=e.containerInfo,Jr=Ks,e=Fd(e),Nc(e)){if("selectionStart"in e)var l={start:e.selectionStart,end:e.selectionEnd};else e:{l=(l=e.ownerDocument)&&l.defaultView||window;var a=l.getSelection&&l.getSelection();if(a&&a.rangeCount!==0){l=a.anchorNode;var n=a.anchorOffset,s=a.focusNode;a=a.focusOffset;try{l.nodeType,s.nodeType}catch{l=null;break e}var r=0,c=-1,u=-1,d=0,y=0,h=e,m=null;t:for(;;){for(var g;h!==l||n!==0&&h.nodeType!==3||(c=r+n),h!==s||a!==0&&h.nodeType!==3||(u=r+a),h.nodeType===3&&(r+=h.nodeValue.length),(g=h.firstChild)!==null;)m=h,h=g;for(;;){if(h===e)break t;if(m===l&&++d===n&&(c=r),m===s&&++y===a&&(u=r),(g=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=g}l=c===-1||u===-1?null:{start:c,end:u}}else l=null}l=l||{start:0,end:0}}else l=null;for(Kr={focusedElem:e,selectionRange:l},Ks=!1,Ae=t;Ae!==null;)if(t=Ae,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ae=e;else for(;Ae!==null;){switch(t=Ae,s=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(l=0;l<e.length;l++)n=e[l],n.ref.impl=n.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&s!==null){e=void 0,l=t,n=s.memoizedProps,s=s.memoizedState,a=l.stateNode;try{var v=Gl(l.type,n);e=a.getSnapshotBeforeUpdate(v,s),a.__reactInternalSnapshotBeforeUpdate=e}catch(p){ae(l,l.return,p)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,l=e.nodeType,l===9)$r(e);else if(l===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":$r(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(w(163))}if(e=t.sibling,e!==null){e.return=t.return,Ae=e;break}Ae=t.return}}function o0(e,t,l){var a=l.flags;switch(l.tag){case 0:case 11:case 15:_t(e,l),a&4&&kn(5,l);break;case 1:if(_t(e,l),a&4)if(e=l.stateNode,t===null)try{e.componentDidMount()}catch(r){ae(l,l.return,r)}else{var n=Gl(l.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(n,t,e.__reactInternalSnapshotBeforeUpdate)}catch(r){ae(l,l.return,r)}}a&64&&s0(l),a&512&&cn(l,l.return);break;case 3:if(_t(e,l),a&64&&(e=l.updateQueue,e!==null)){if(t=null,l.child!==null)switch(l.child.tag){case 27:case 5:t=l.child.stateNode;break;case 1:t=l.child.stateNode}try{hf(e,t)}catch(r){ae(l,l.return,r)}}break;case 27:t===null&&a&4&&u0(l);case 26:case 5:_t(e,l),t===null&&a&4&&r0(l),a&512&&cn(l,l.return);break;case 12:_t(e,l);break;case 31:_t(e,l),a&4&&m0(e,l);break;case 13:_t(e,l),a&4&&h0(e,l),a&64&&(e=l.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(l=Xx.bind(null,l),ug(e,l))));break;case 22:if(a=l.memoizedState!==null||Ut,!a){t=t!==null&&t.memoizedState!==null||ve,n=Ut;var s=ve;Ut=a,(ve=t)&&!s?Mt(e,l,(l.subtreeFlags&8772)!==0):_t(e,l),Ut=n,ve=s}break;case 30:break;default:_t(e,l)}}function d0(e){var t=e.alternate;t!==null&&(e.alternate=null,d0(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&gc(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var he=null,Ge=!1;function zt(e,t,l){for(l=l.child;l!==null;)f0(e,t,l),l=l.sibling}function f0(e,t,l){if(Ie&&typeof Ie.onCommitFiberUnmount=="function")try{Ie.onCommitFiberUnmount(_n,l)}catch{}switch(l.tag){case 26:ve||St(l,t),zt(e,t,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:ve||St(l,t);var a=he,n=Ge;Tl(l.type)&&(he=l.stateNode,Ge=!1),zt(e,t,l),fn(l.stateNode),he=a,Ge=n;break;case 5:ve||St(l,t);case 6:if(a=he,n=Ge,he=null,zt(e,t,l),he=a,Ge=n,he!==null)if(Ge)try{(he.nodeType===9?he.body:he.nodeName==="HTML"?he.ownerDocument.body:he).removeChild(l.stateNode)}catch(s){ae(l,t,s)}else try{he.removeChild(l.stateNode)}catch(s){ae(l,t,s)}break;case 18:he!==null&&(Ge?(e=he,Eo(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,l.stateNode),za(e)):Eo(he,l.stateNode));break;case 4:a=he,n=Ge,he=l.stateNode.containerInfo,Ge=!0,zt(e,t,l),he=a,Ge=n;break;case 0:case 11:case 14:case 15:Sl(2,l,t),ve||Sl(4,l,t),zt(e,t,l);break;case 1:ve||(St(l,t),a=l.stateNode,typeof a.componentWillUnmount=="function"&&i0(l,t,a)),zt(e,t,l);break;case 21:zt(e,t,l);break;case 22:ve=(a=ve)||l.memoizedState!==null,zt(e,t,l),ve=a;break;default:zt(e,t,l)}}function m0(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{za(e)}catch(l){ae(t,t.return,l)}}}function h0(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{za(e)}catch(l){ae(t,t.return,l)}}function Ux(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new fo),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new fo),t;default:throw Error(w(435,e.tag))}}function ts(e,t){var l=Ux(e);t.forEach(function(a){if(!l.has(a)){l.add(a);var n=Qx.bind(null,e,a);a.then(n,n)}})}function Ye(e,t){var l=t.deletions;if(l!==null)for(var a=0;a<l.length;a++){var n=l[a],s=e,r=t,c=r;e:for(;c!==null;){switch(c.tag){case 27:if(Tl(c.type)){he=c.stateNode,Ge=!1;break e}break;case 5:he=c.stateNode,Ge=!1;break e;case 3:case 4:he=c.stateNode.containerInfo,Ge=!0;break e}c=c.return}if(he===null)throw Error(w(160));f0(s,r,n),he=null,Ge=!1,s=n.alternate,s!==null&&(s.return=null),n.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)x0(t,e),t=t.sibling}var yt=null;function x0(e,t){var l=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ye(t,e),qe(e),a&4&&(Sl(3,e,e.return),kn(3,e),Sl(5,e,e.return));break;case 1:Ye(t,e),qe(e),a&512&&(ve||l===null||St(l,l.return)),a&64&&Ut&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(l=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=l===null?a:l.concat(a))));break;case 26:var n=yt;if(Ye(t,e),qe(e),a&512&&(ve||l===null||St(l,l.return)),a&4){var s=l!==null?l.memoizedState:null;if(a=e.memoizedState,l===null)if(a===null)if(e.stateNode===null){e:{a=e.type,l=e.memoizedProps,n=n.ownerDocument||n;t:switch(a){case"title":s=n.getElementsByTagName("title")[0],(!s||s[Rn]||s[_e]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=n.createElement(a),n.head.insertBefore(s,n.querySelector("head > title"))),Ue(s,a,l),s[_e]=e,Ce(s),a=s;break e;case"link":var r=Mo("link","href",n).get(a+(l.href||""));if(r){for(var c=0;c<r.length;c++)if(s=r[c],s.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&s.getAttribute("rel")===(l.rel==null?null:l.rel)&&s.getAttribute("title")===(l.title==null?null:l.title)&&s.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){r.splice(c,1);break t}}s=n.createElement(a),Ue(s,a,l),n.head.appendChild(s);break;case"meta":if(r=Mo("meta","content",n).get(a+(l.content||""))){for(c=0;c<r.length;c++)if(s=r[c],s.getAttribute("content")===(l.content==null?null:""+l.content)&&s.getAttribute("name")===(l.name==null?null:l.name)&&s.getAttribute("property")===(l.property==null?null:l.property)&&s.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&s.getAttribute("charset")===(l.charSet==null?null:l.charSet)){r.splice(c,1);break t}}s=n.createElement(a),Ue(s,a,l),n.head.appendChild(s);break;default:throw Error(w(468,a))}s[_e]=e,Ce(s),a=s}e.stateNode=a}else Do(n,e.type,e.stateNode);else e.stateNode=_o(n,a,e.memoizedProps);else s!==a?(s===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):s.count--,a===null?Do(n,e.type,e.stateNode):_o(n,a,e.memoizedProps)):a===null&&e.stateNode!==null&&Qi(e,e.memoizedProps,l.memoizedProps)}break;case 27:Ye(t,e),qe(e),a&512&&(ve||l===null||St(l,l.return)),l!==null&&a&4&&Qi(e,e.memoizedProps,l.memoizedProps);break;case 5:if(Ye(t,e),qe(e),a&512&&(ve||l===null||St(l,l.return)),e.flags&32){n=e.stateNode;try{Na(n,"")}catch(v){ae(e,e.return,v)}}a&4&&e.stateNode!=null&&(n=e.memoizedProps,Qi(e,n,l!==null?l.memoizedProps:n)),a&1024&&(Zi=!0);break;case 6:if(Ye(t,e),qe(e),a&4){if(e.stateNode===null)throw Error(w(162));a=e.memoizedProps,l=e.stateNode;try{l.nodeValue=a}catch(v){ae(e,e.return,v)}}break;case 3:if(bs=null,n=yt,yt=Vs(t.containerInfo),Ye(t,e),yt=n,qe(e),a&4&&l!==null&&l.memoizedState.isDehydrated)try{za(t.containerInfo)}catch(v){ae(e,e.return,v)}Zi&&(Zi=!1,g0(e));break;case 4:a=yt,yt=Vs(e.stateNode.containerInfo),Ye(t,e),qe(e),yt=a;break;case 12:Ye(t,e),qe(e);break;case 31:Ye(t,e),qe(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,ts(e,a)));break;case 13:Ye(t,e),qe(e),e.child.flags&8192&&e.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(oi=Pe()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,ts(e,a)));break;case 22:n=e.memoizedState!==null;var u=l!==null&&l.memoizedState!==null,d=Ut,y=ve;if(Ut=d||n,ve=y||u,Ye(t,e),ve=y,Ut=d,qe(e),a&8192)e:for(t=e.stateNode,t._visibility=n?t._visibility&-2:t._visibility|1,n&&(l===null||u||Ut||ve||_l(e)),l=null,t=e;;){if(t.tag===5||t.tag===26){if(l===null){u=l=t;try{if(s=u.stateNode,n)r=s.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{c=u.stateNode;var h=u.memoizedProps.style,m=h!=null&&h.hasOwnProperty("display")?h.display:null;c.style.display=m==null||typeof m=="boolean"?"":(""+m).trim()}}catch(v){ae(u,u.return,v)}}}else if(t.tag===6){if(l===null){u=t;try{u.stateNode.nodeValue=n?"":u.memoizedProps}catch(v){ae(u,u.return,v)}}}else if(t.tag===18){if(l===null){u=t;try{var g=u.stateNode;n?To(g,!0):To(u.stateNode,!1)}catch(v){ae(u,u.return,v)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;l===t&&(l=null),t=t.return}l===t&&(l=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(l=a.retryQueue,l!==null&&(a.retryQueue=null,ts(e,l))));break;case 19:Ye(t,e),qe(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,ts(e,a)));break;case 30:break;case 21:break;default:Ye(t,e),qe(e)}}function qe(e){var t=e.flags;if(t&2){try{for(var l,a=e.return;a!==null;){if(c0(a)){l=a;break}a=a.return}if(l==null)throw Error(w(160));switch(l.tag){case 27:var n=l.stateNode,s=Vi(e);Bs(e,s,n);break;case 5:var r=l.stateNode;l.flags&32&&(Na(r,""),l.flags&=-33);var c=Vi(e);Bs(e,c,r);break;case 3:case 4:var u=l.stateNode.containerInfo,d=Vi(e);Yr(e,d,u);break;default:throw Error(w(161))}}catch(y){ae(e,e.return,y)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function g0(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;g0(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function _t(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)o0(e,t.alternate,t),t=t.sibling}function _l(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Sl(4,t,t.return),_l(t);break;case 1:St(t,t.return);var l=t.stateNode;typeof l.componentWillUnmount=="function"&&i0(t,t.return,l),_l(t);break;case 27:fn(t.stateNode);case 26:case 5:St(t,t.return),_l(t);break;case 22:t.memoizedState===null&&_l(t);break;case 30:_l(t);break;default:_l(t)}e=e.sibling}}function Mt(e,t,l){for(l=l&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,n=e,s=t,r=s.flags;switch(s.tag){case 0:case 11:case 15:Mt(n,s,l),kn(4,s);break;case 1:if(Mt(n,s,l),a=s,n=a.stateNode,typeof n.componentDidMount=="function")try{n.componentDidMount()}catch(d){ae(a,a.return,d)}if(a=s,n=a.updateQueue,n!==null){var c=a.stateNode;try{var u=n.shared.hiddenCallbacks;if(u!==null)for(n.shared.hiddenCallbacks=null,n=0;n<u.length;n++)mf(u[n],c)}catch(d){ae(a,a.return,d)}}l&&r&64&&s0(s),cn(s,s.return);break;case 27:u0(s);case 26:case 5:Mt(n,s,l),l&&a===null&&r&4&&r0(s),cn(s,s.return);break;case 12:Mt(n,s,l);break;case 31:Mt(n,s,l),l&&r&4&&m0(n,s);break;case 13:Mt(n,s,l),l&&r&4&&h0(n,s);break;case 22:s.memoizedState===null&&Mt(n,s,l),cn(s,s.return);break;case 30:break;default:Mt(n,s,l)}t=t.sibling}}function Kc(e,t){var l=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==l&&(e!=null&&e.refCount++,l!=null&&Ln(l))}function Fc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ln(e))}function gt(e,t,l,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)y0(e,t,l,a),t=t.sibling}function y0(e,t,l,a){var n=t.flags;switch(t.tag){case 0:case 11:case 15:gt(e,t,l,a),n&2048&&kn(9,t);break;case 1:gt(e,t,l,a);break;case 3:gt(e,t,l,a),n&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ln(e)));break;case 12:if(n&2048){gt(e,t,l,a),e=t.stateNode;try{var s=t.memoizedProps,r=s.id,c=s.onPostCommit;typeof c=="function"&&c(r,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(u){ae(t,t.return,u)}}else gt(e,t,l,a);break;case 31:gt(e,t,l,a);break;case 13:gt(e,t,l,a);break;case 23:break;case 22:s=t.stateNode,r=t.alternate,t.memoizedState!==null?s._visibility&2?gt(e,t,l,a):un(e,t):s._visibility&2?gt(e,t,l,a):(s._visibility|=2,Pl(e,t,l,a,(t.subtreeFlags&10256)!==0||!1)),n&2048&&Kc(r,t);break;case 24:gt(e,t,l,a),n&2048&&Fc(t.alternate,t);break;default:gt(e,t,l,a)}}function Pl(e,t,l,a,n){for(n=n&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var s=e,r=t,c=l,u=a,d=r.flags;switch(r.tag){case 0:case 11:case 15:Pl(s,r,c,u,n),kn(8,r);break;case 23:break;case 22:var y=r.stateNode;r.memoizedState!==null?y._visibility&2?Pl(s,r,c,u,n):un(s,r):(y._visibility|=2,Pl(s,r,c,u,n)),n&&d&2048&&Kc(r.alternate,r);break;case 24:Pl(s,r,c,u,n),n&&d&2048&&Fc(r.alternate,r);break;default:Pl(s,r,c,u,n)}t=t.sibling}}function un(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var l=e,a=t,n=a.flags;switch(a.tag){case 22:un(l,a),n&2048&&Kc(a.alternate,a);break;case 24:un(l,a),n&2048&&Fc(a.alternate,a);break;default:un(l,a)}t=t.sibling}}var Wa=8192;function Fl(e,t,l){if(e.subtreeFlags&Wa)for(e=e.child;e!==null;)b0(e,t,l),e=e.sibling}function b0(e,t,l){switch(e.tag){case 26:Fl(e,t,l),e.flags&Wa&&e.memoizedState!==null&&jg(l,yt,e.memoizedState,e.memoizedProps);break;case 5:Fl(e,t,l);break;case 3:case 4:var a=yt;yt=Vs(e.stateNode.containerInfo),Fl(e,t,l),yt=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=Wa,Wa=16777216,Fl(e,t,l),Wa=a):Fl(e,t,l));break;default:Fl(e,t,l)}}function p0(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Va(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var l=0;l<t.length;l++){var a=t[l];Ae=a,j0(a,e)}p0(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)v0(e),e=e.sibling}function v0(e){switch(e.tag){case 0:case 11:case 15:Va(e),e.flags&2048&&Sl(9,e,e.return);break;case 3:Va(e);break;case 12:Va(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,gs(e)):Va(e);break;default:Va(e)}}function gs(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var l=0;l<t.length;l++){var a=t[l];Ae=a,j0(a,e)}p0(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Sl(8,t,t.return),gs(t);break;case 22:l=t.stateNode,l._visibility&2&&(l._visibility&=-3,gs(t));break;default:gs(t)}e=e.sibling}}function j0(e,t){for(;Ae!==null;){var l=Ae;switch(l.tag){case 0:case 11:case 15:Sl(8,l,t);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var a=l.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:Ln(l.memoizedState.cache)}if(a=l.child,a!==null)a.return=l,Ae=a;else e:for(l=e;Ae!==null;){a=Ae;var n=a.sibling,s=a.return;if(d0(a),a===l){Ae=null;break e}if(n!==null){n.return=s,Ae=n;break e}Ae=s}}}var Lx={getCacheForType:function(e){var t=De(je),l=t.data.get(e);return l===void 0&&(l=e(),t.data.set(e,l)),l},cacheSignal:function(){return De(je).controller.signal}},Bx=typeof WeakMap=="function"?WeakMap:Map,ee=0,ce=null,J=null,K=0,le=0,Ke=null,rl=!1,La=!1,$c=!1,Zt=0,ge=0,wl=0,Ll=0,Wc=0,We=0,Ta=0,on=null,Xe=null,qr=!1,oi=0,N0=0,ks=1/0,Hs=null,gl=null,Ee=0,yl=null,Aa=null,qt=0,Gr=0,Xr=null,S0=null,dn=0,Qr=null;function tt(){return ee&2&&K!==0?K&-K:k.T!==null?Ic():_d()}function w0(){if(We===0)if(!(K&536870912)||F){var e=Jn;Jn<<=1,!(Jn&3932160)&&(Jn=262144),We=e}else We=536870912;return e=at.current,e!==null&&(e.flags|=32),We}function Ve(e,t,l){(e===ce&&(le===2||le===9)||e.cancelPendingCommit!==null)&&(Ca(e,0),cl(e,K,We,!1)),Dn(e,l),(!(ee&2)||e!==ce)&&(e===ce&&(!(ee&2)&&(Ll|=l),ge===4&&cl(e,K,We,!1)),At(e))}function E0(e,t,l){if(ee&6)throw Error(w(327));var a=!l&&(t&127)===0&&(t&e.expiredLanes)===0||Mn(e,t),n=a?Yx(e,t):Ji(e,t,!0),s=a;do{if(n===0){La&&!a&&cl(e,t,0,!1);break}else{if(l=e.current.alternate,s&&!kx(l)){n=Ji(e,t,!1),s=!1;continue}if(n===2){if(s=t,e.errorRecoveryDisabledLanes&s)var r=0;else r=e.pendingLanes&-536870913,r=r!==0?r:r&536870912?536870912:0;if(r!==0){t=r;e:{var c=e;n=on;var u=c.current.memoizedState.isDehydrated;if(u&&(Ca(c,r).flags|=256),r=Ji(c,r,!1),r!==2){if($c&&!u){c.errorRecoveryDisabledLanes|=s,Ll|=s,n=4;break e}s=Xe,Xe=n,s!==null&&(Xe===null?Xe=s:Xe.push.apply(Xe,s))}n=r}if(s=!1,n!==2)continue}}if(n===1){Ca(e,0),cl(e,t,0,!0);break}e:{switch(a=e,s=n,s){case 0:case 1:throw Error(w(345));case 4:if((t&4194048)!==t)break;case 6:cl(a,t,We,!rl);break e;case 2:Xe=null;break;case 3:case 5:break;default:throw Error(w(329))}if((t&62914560)===t&&(n=oi+300-Pe(),10<n)){if(cl(a,t,We,!rl),Is(a,0,!0)!==0)break e;qt=t,a.timeoutHandle=V0(mo.bind(null,a,l,Xe,Hs,qr,t,We,Ll,Ta,rl,s,"Throttled",-0,0),n);break e}mo(a,l,Xe,Hs,qr,t,We,Ll,Ta,rl,s,null,-0,0)}}break}while(!0);At(e)}function mo(e,t,l,a,n,s,r,c,u,d,y,h,m,g){if(e.timeoutHandle=-1,h=t.subtreeFlags,h&8192||(h&16785408)===16785408){h={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Bt},b0(t,s,h);var v=(s&62914560)===s?oi-Pe():(s&4194048)===s?N0-Pe():0;if(v=Ng(h,v),v!==null){qt=s,e.cancelPendingCommit=v(xo.bind(null,e,t,s,l,a,n,r,c,u,y,h,null,m,g)),cl(e,s,r,!d);return}}xo(e,t,s,l,a,n,r,c,u)}function kx(e){for(var t=e;;){var l=t.tag;if((l===0||l===11||l===15)&&t.flags&16384&&(l=t.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var a=0;a<l.length;a++){var n=l[a],s=n.getSnapshot;n=n.value;try{if(!lt(s(),n))return!1}catch{return!1}}if(l=t.child,t.subtreeFlags&16384&&l!==null)l.return=t,t=l;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function cl(e,t,l,a){t&=~Wc,t&=~Ll,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var n=t;0<n;){var s=31-et(n),r=1<<s;a[s]=-1,n&=~r}l!==0&&Cd(e,l,t)}function di(){return ee&6?!0:(Hn(0),!1)}function Pc(){if(J!==null){if(le===0)var e=J.return;else e=J,kt=Jl=null,Bc(e),ga=null,vn=0,e=J;for(;e!==null;)n0(e.alternate,e),e=e.return;J=null}}function Ca(e,t){var l=e.timeoutHandle;l!==-1&&(e.timeoutHandle=-1,ng(l)),l=e.cancelPendingCommit,l!==null&&(e.cancelPendingCommit=null,l()),qt=0,Pc(),ce=e,J=l=Ht(e.current,null),K=t,le=0,Ke=null,rl=!1,La=Mn(e,t),$c=!1,Ta=We=Wc=Ll=wl=ge=0,Xe=on=null,qr=!1,t&8&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var n=31-et(a),s=1<<n;t|=e[n],a&=~s}return Zt=t,ai(),l}function T0(e,t){X=null,k.H=Nn,t===Ua||t===si?(t=Qu(),le=3):t===zc?(t=Qu(),le=4):le=t===Zc?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Ke=t,J===null&&(ge=1,Us(e,ut(t,e.current)))}function A0(){var e=at.current;return e===null?!0:(K&4194048)===K?dt===null:(K&62914560)===K||K&536870912?e===dt:!1}function C0(){var e=k.H;return k.H=Nn,e===null?Nn:e}function O0(){var e=k.A;return k.A=Lx,e}function Ys(){ge=4,rl||(K&4194048)!==K&&at.current!==null||(La=!0),!(wl&134217727)&&!(Ll&134217727)||ce===null||cl(ce,K,We,!1)}function Ji(e,t,l){var a=ee;ee|=2;var n=C0(),s=O0();(ce!==e||K!==t)&&(Hs=null,Ca(e,t)),t=!1;var r=ge;e:do try{if(le!==0&&J!==null){var c=J,u=Ke;switch(le){case 8:Pc(),r=6;break e;case 3:case 2:case 9:case 6:at.current===null&&(t=!0);var d=le;if(le=0,Ke=null,da(e,c,u,d),l&&La){r=0;break e}break;default:d=le,le=0,Ke=null,da(e,c,u,d)}}Hx(),r=ge;break}catch(y){T0(e,y)}while(!0);return t&&e.shellSuspendCounter++,kt=Jl=null,ee=a,k.H=n,k.A=s,J===null&&(ce=null,K=0,ai()),r}function Hx(){for(;J!==null;)z0(J)}function Yx(e,t){var l=ee;ee|=2;var a=C0(),n=O0();ce!==e||K!==t?(Hs=null,ks=Pe()+500,Ca(e,t)):La=Mn(e,t);e:do try{if(le!==0&&J!==null){t=J;var s=Ke;t:switch(le){case 1:le=0,Ke=null,da(e,t,s,1);break;case 2:case 9:if(Xu(s)){le=0,Ke=null,ho(t);break}t=function(){le!==2&&le!==9||ce!==e||(le=7),At(e)},s.then(t,t);break e;case 3:le=7;break e;case 4:le=5;break e;case 7:Xu(s)?(le=0,Ke=null,ho(t)):(le=0,Ke=null,da(e,t,s,7));break;case 5:var r=null;switch(J.tag){case 26:r=J.memoizedState;case 5:case 27:var c=J;if(r?$0(r):c.stateNode.complete){le=0,Ke=null;var u=c.sibling;if(u!==null)J=u;else{var d=c.return;d!==null?(J=d,fi(d)):J=null}break t}}le=0,Ke=null,da(e,t,s,5);break;case 6:le=0,Ke=null,da(e,t,s,6);break;case 8:Pc(),ge=6;break e;default:throw Error(w(462))}}qx();break}catch(y){T0(e,y)}while(!0);return kt=Jl=null,k.H=a,k.A=n,ee=l,J!==null?0:(ce=null,K=0,ai(),ge)}function qx(){for(;J!==null&&!oh();)z0(J)}function z0(e){var t=a0(e.alternate,e,Zt);e.memoizedProps=e.pendingProps,t===null?fi(e):J=t}function ho(e){var t=e,l=t.alternate;switch(t.tag){case 15:case 0:t=io(l,t,t.pendingProps,t.type,void 0,K);break;case 11:t=io(l,t,t.pendingProps,t.type.render,t.ref,K);break;case 5:Bc(t);default:n0(l,t),t=J=af(t,Zt),t=a0(l,t,Zt)}e.memoizedProps=e.pendingProps,t===null?fi(e):J=t}function da(e,t,l,a){kt=Jl=null,Bc(t),ga=null,vn=0;var n=t.return;try{if(Ox(e,n,t,l,K)){ge=1,Us(e,ut(l,e.current)),J=null;return}}catch(s){if(n!==null)throw J=n,s;ge=1,Us(e,ut(l,e.current)),J=null;return}t.flags&32768?(F||a===1?e=!0:La||K&536870912?e=!1:(rl=e=!0,(a===2||a===9||a===3||a===6)&&(a=at.current,a!==null&&a.tag===13&&(a.flags|=16384))),_0(t,e)):fi(t)}function fi(e){var t=e;do{if(t.flags&32768){_0(t,rl);return}e=t.return;var l=Mx(t.alternate,t,Zt);if(l!==null){J=l;return}if(t=t.sibling,t!==null){J=t;return}J=t=e}while(t!==null);ge===0&&(ge=5)}function _0(e,t){do{var l=Dx(e.alternate,e);if(l!==null){l.flags&=32767,J=l;return}if(l=e.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!t&&(e=e.sibling,e!==null)){J=e;return}J=e=l}while(e!==null);ge=6,J=null}function xo(e,t,l,a,n,s,r,c,u){e.cancelPendingCommit=null;do mi();while(Ee!==0);if(ee&6)throw Error(w(327));if(t!==null){if(t===e.current)throw Error(w(177));if(s=t.lanes|t.childLanes,s|=Sc,vh(e,l,s,r,c,u),e===ce&&(J=ce=null,K=0),Aa=t,yl=e,qt=l,Gr=s,Xr=n,S0=a,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,Vx(ws,function(){return L0(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,t.subtreeFlags&13878||a){a=k.T,k.T=null,n=te.p,te.p=2,r=ee,ee|=4;try{Rx(e,t,l)}finally{ee=r,te.p=n,k.T=a}}Ee=1,M0(),D0(),R0()}}function M0(){if(Ee===1){Ee=0;var e=yl,t=Aa,l=(t.flags&13878)!==0;if(t.subtreeFlags&13878||l){l=k.T,k.T=null;var a=te.p;te.p=2;var n=ee;ee|=4;try{x0(t,e);var s=Kr,r=Fd(e.containerInfo),c=s.focusedElem,u=s.selectionRange;if(r!==c&&c&&c.ownerDocument&&Kd(c.ownerDocument.documentElement,c)){if(u!==null&&Nc(c)){var d=u.start,y=u.end;if(y===void 0&&(y=d),"selectionStart"in c)c.selectionStart=d,c.selectionEnd=Math.min(y,c.value.length);else{var h=c.ownerDocument||document,m=h&&h.defaultView||window;if(m.getSelection){var g=m.getSelection(),v=c.textContent.length,p=Math.min(u.start,v),N=u.end===void 0?p:Math.min(u.end,v);!g.extend&&p>N&&(r=N,N=p,p=r);var f=Lu(c,p),o=Lu(c,N);if(f&&o&&(g.rangeCount!==1||g.anchorNode!==f.node||g.anchorOffset!==f.offset||g.focusNode!==o.node||g.focusOffset!==o.offset)){var x=h.createRange();x.setStart(f.node,f.offset),g.removeAllRanges(),p>N?(g.addRange(x),g.extend(o.node,o.offset)):(x.setEnd(o.node,o.offset),g.addRange(x))}}}}for(h=[],g=c;g=g.parentNode;)g.nodeType===1&&h.push({element:g,left:g.scrollLeft,top:g.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<h.length;c++){var j=h[c];j.element.scrollLeft=j.left,j.element.scrollTop=j.top}}Ks=!!Jr,Kr=Jr=null}finally{ee=n,te.p=a,k.T=l}}e.current=t,Ee=2}}function D0(){if(Ee===2){Ee=0;var e=yl,t=Aa,l=(t.flags&8772)!==0;if(t.subtreeFlags&8772||l){l=k.T,k.T=null;var a=te.p;te.p=2;var n=ee;ee|=4;try{o0(e,t.alternate,t)}finally{ee=n,te.p=a,k.T=l}}Ee=3}}function R0(){if(Ee===4||Ee===3){Ee=0,dh();var e=yl,t=Aa,l=qt,a=S0;t.subtreeFlags&10256||t.flags&10256?Ee=5:(Ee=0,Aa=yl=null,U0(e,e.pendingLanes));var n=e.pendingLanes;if(n===0&&(gl=null),xc(l),t=t.stateNode,Ie&&typeof Ie.onCommitFiberRoot=="function")try{Ie.onCommitFiberRoot(_n,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=k.T,n=te.p,te.p=2,k.T=null;try{for(var s=e.onRecoverableError,r=0;r<a.length;r++){var c=a[r];s(c.value,{componentStack:c.stack})}}finally{k.T=t,te.p=n}}qt&3&&mi(),At(e),n=e.pendingLanes,l&261930&&n&42?e===Qr?dn++:(dn=0,Qr=e):dn=0,Hn(0)}}function U0(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Ln(t)))}function mi(){return M0(),D0(),R0(),L0()}function L0(){if(Ee!==5)return!1;var e=yl,t=Gr;Gr=0;var l=xc(qt),a=k.T,n=te.p;try{te.p=32>l?32:l,k.T=null,l=Xr,Xr=null;var s=yl,r=qt;if(Ee=0,Aa=yl=null,qt=0,ee&6)throw Error(w(331));var c=ee;if(ee|=4,v0(s.current),y0(s,s.current,r,l),ee=c,Hn(0,!1),Ie&&typeof Ie.onPostCommitFiberRoot=="function")try{Ie.onPostCommitFiberRoot(_n,s)}catch{}return!0}finally{te.p=n,k.T=a,U0(e,t)}}function go(e,t,l){t=ut(l,t),t=Br(e.stateNode,t,2),e=xl(e,t,2),e!==null&&(Dn(e,2),At(e))}function ae(e,t,l){if(e.tag===3)go(e,e,l);else for(;t!==null;){if(t.tag===3){go(t,e,l);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(gl===null||!gl.has(a))){e=ut(l,e),l=Wf(2),a=xl(t,l,2),a!==null&&(Pf(l,a,t,e),Dn(a,2),At(a));break}}t=t.return}}function Ki(e,t,l){var a=e.pingCache;if(a===null){a=e.pingCache=new Bx;var n=new Set;a.set(t,n)}else n=a.get(t),n===void 0&&(n=new Set,a.set(t,n));n.has(l)||($c=!0,n.add(l),e=Gx.bind(null,e,t,l),t.then(e,e))}function Gx(e,t,l){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&l,e.warmLanes&=~l,ce===e&&(K&l)===l&&(ge===4||ge===3&&(K&62914560)===K&&300>Pe()-oi?!(ee&2)&&Ca(e,0):Wc|=l,Ta===K&&(Ta=0)),At(e)}function B0(e,t){t===0&&(t=Ad()),e=Zl(e,t),e!==null&&(Dn(e,t),At(e))}function Xx(e){var t=e.memoizedState,l=0;t!==null&&(l=t.retryLane),B0(e,l)}function Qx(e,t){var l=0;switch(e.tag){case 31:case 13:var a=e.stateNode,n=e.memoizedState;n!==null&&(l=n.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(w(314))}a!==null&&a.delete(t),B0(e,l)}function Vx(e,t){return mc(e,t)}var qs=null,Il=null,Vr=!1,Gs=!1,Fi=!1,ul=0;function At(e){e!==Il&&e.next===null&&(Il===null?qs=Il=e:Il=Il.next=e),Gs=!0,Vr||(Vr=!0,Jx())}function Hn(e,t){if(!Fi&&Gs){Fi=!0;do for(var l=!1,a=qs;a!==null;){if(e!==0){var n=a.pendingLanes;if(n===0)var s=0;else{var r=a.suspendedLanes,c=a.pingedLanes;s=(1<<31-et(42|e)+1)-1,s&=n&~(r&~c),s=s&201326741?s&201326741|1:s?s|2:0}s!==0&&(l=!0,yo(a,s))}else s=K,s=Is(a,a===ce?s:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),!(s&3)||Mn(a,s)||(l=!0,yo(a,s));a=a.next}while(l);Fi=!1}}function Zx(){k0()}function k0(){Gs=Vr=!1;var e=0;ul!==0&&ag()&&(e=ul);for(var t=Pe(),l=null,a=qs;a!==null;){var n=a.next,s=H0(a,t);s===0?(a.next=null,l===null?qs=n:l.next=n,n===null&&(Il=l)):(l=a,(e!==0||s&3)&&(Gs=!0)),a=n}Ee!==0&&Ee!==5||Hn(e),ul!==0&&(ul=0)}function H0(e,t){for(var l=e.suspendedLanes,a=e.pingedLanes,n=e.expirationTimes,s=e.pendingLanes&-62914561;0<s;){var r=31-et(s),c=1<<r,u=n[r];u===-1?(!(c&l)||c&a)&&(n[r]=ph(c,t)):u<=t&&(e.expiredLanes|=c),s&=~c}if(t=ce,l=K,l=Is(e,e===t?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,l===0||e===t&&(le===2||le===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&Si(a),e.callbackNode=null,e.callbackPriority=0;if(!(l&3)||Mn(e,l)){if(t=l&-l,t===e.callbackPriority)return t;switch(a!==null&&Si(a),xc(l)){case 2:case 8:l=Ed;break;case 32:l=ws;break;case 268435456:l=Td;break;default:l=ws}return a=Y0.bind(null,e),l=mc(l,a),e.callbackPriority=t,e.callbackNode=l,t}return a!==null&&a!==null&&Si(a),e.callbackPriority=2,e.callbackNode=null,2}function Y0(e,t){if(Ee!==0&&Ee!==5)return e.callbackNode=null,e.callbackPriority=0,null;var l=e.callbackNode;if(mi()&&e.callbackNode!==l)return null;var a=K;return a=Is(e,e===ce?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(E0(e,a,t),H0(e,Pe()),e.callbackNode!=null&&e.callbackNode===l?Y0.bind(null,e):null)}function yo(e,t){if(mi())return null;E0(e,t,!0)}function Jx(){sg(function(){ee&6?mc(wd,Zx):k0()})}function Ic(){if(ul===0){var e=Sa;e===0&&(e=Zn,Zn<<=1,!(Zn&261888)&&(Zn=256)),ul=e}return ul}function bo(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:rs(""+e)}function po(e,t){var l=t.ownerDocument.createElement("input");return l.name=t.name,l.value=t.value,e.id&&l.setAttribute("form",e.id),t.parentNode.insertBefore(l,t),e=new FormData(e),l.parentNode.removeChild(l),e}function Kx(e,t,l,a,n){if(t==="submit"&&l&&l.stateNode===n){var s=bo((n[Ze]||null).action),r=a.submitter;r&&(t=(t=r[Ze]||null)?bo(t.formAction):r.getAttribute("formAction"),t!==null&&(s=t,r=null));var c=new ei("action","action",null,a,n);e.push({event:c,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(ul!==0){var u=r?po(n,r):new FormData(n);Ur(l,{pending:!0,data:u,method:n.method,action:s},null,u)}}else typeof s=="function"&&(c.preventDefault(),u=r?po(n,r):new FormData(n),Ur(l,{pending:!0,data:u,method:n.method,action:s},s,u))},currentTarget:n}]})}}for(var $i=0;$i<Sr.length;$i++){var Wi=Sr[$i],Fx=Wi.toLowerCase(),$x=Wi[0].toUpperCase()+Wi.slice(1);pt(Fx,"on"+$x)}pt(Wd,"onAnimationEnd");pt(Pd,"onAnimationIteration");pt(Id,"onAnimationStart");pt("dblclick","onDoubleClick");pt("focusin","onFocus");pt("focusout","onBlur");pt(fx,"onTransitionRun");pt(mx,"onTransitionStart");pt(hx,"onTransitionCancel");pt(ef,"onTransitionEnd");ja("onMouseEnter",["mouseout","mouseover"]);ja("onMouseLeave",["mouseout","mouseover"]);ja("onPointerEnter",["pointerout","pointerover"]);ja("onPointerLeave",["pointerout","pointerover"]);Xl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Xl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Xl("onBeforeInput",["compositionend","keypress","textInput","paste"]);Xl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Xl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Xl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Wx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Sn));function q0(e,t){t=(t&4)!==0;for(var l=0;l<e.length;l++){var a=e[l],n=a.event;a=a.listeners;e:{var s=void 0;if(t)for(var r=a.length-1;0<=r;r--){var c=a[r],u=c.instance,d=c.currentTarget;if(c=c.listener,u!==s&&n.isPropagationStopped())break e;s=c,n.currentTarget=d;try{s(n)}catch(y){Ts(y)}n.currentTarget=null,s=u}else for(r=0;r<a.length;r++){if(c=a[r],u=c.instance,d=c.currentTarget,c=c.listener,u!==s&&n.isPropagationStopped())break e;s=c,n.currentTarget=d;try{s(n)}catch(y){Ts(y)}n.currentTarget=null,s=u}}}}function Z(e,t){var l=t[xr];l===void 0&&(l=t[xr]=new Set);var a=e+"__bubble";l.has(a)||(G0(t,e,2,!1),l.add(a))}function Pi(e,t,l){var a=0;t&&(a|=4),G0(l,e,a,t)}var ls="_reactListening"+Math.random().toString(36).slice(2);function eu(e){if(!e[ls]){e[ls]=!0,Md.forEach(function(l){l!=="selectionchange"&&(Wx.has(l)||Pi(l,!1,e),Pi(l,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ls]||(t[ls]=!0,Pi("selectionchange",!1,t))}}function G0(e,t,l,a){switch(tm(t)){case 2:var n=Eg;break;case 8:n=Tg;break;default:n=nu}l=n.bind(null,t,l,e),n=void 0,!vr||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(n=!0),a?n!==void 0?e.addEventListener(t,l,{capture:!0,passive:n}):e.addEventListener(t,l,!0):n!==void 0?e.addEventListener(t,l,{passive:n}):e.addEventListener(t,l,!1)}function Ii(e,t,l,a,n){var s=a;if(!(t&1)&&!(t&2)&&a!==null)e:for(;;){if(a===null)return;var r=a.tag;if(r===3||r===4){var c=a.stateNode.containerInfo;if(c===n)break;if(r===4)for(r=a.return;r!==null;){var u=r.tag;if((u===3||u===4)&&r.stateNode.containerInfo===n)return;r=r.return}for(;c!==null;){if(r=la(c),r===null)return;if(u=r.tag,u===5||u===6||u===26||u===27){a=s=r;continue e}c=c.parentNode}}a=a.return}Yd(function(){var d=s,y=bc(l),h=[];e:{var m=tf.get(e);if(m!==void 0){var g=ei,v=e;switch(e){case"keypress":if(us(l)===0)break e;case"keydown":case"keyup":g=Qh;break;case"focusin":v="focus",g=Ci;break;case"focusout":v="blur",g=Ci;break;case"beforeblur":case"afterblur":g=Ci;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Tu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=Mh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=Jh;break;case Wd:case Pd:case Id:g=Uh;break;case ef:g=Fh;break;case"scroll":case"scrollend":g=zh;break;case"wheel":g=Wh;break;case"copy":case"cut":case"paste":g=Bh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Cu;break;case"toggle":case"beforetoggle":g=Ih}var p=(t&4)!==0,N=!p&&(e==="scroll"||e==="scrollend"),f=p?m!==null?m+"Capture":null:m;p=[];for(var o=d,x;o!==null;){var j=o;if(x=j.stateNode,j=j.tag,j!==5&&j!==26&&j!==27||x===null||f===null||(j=xn(o,f),j!=null&&p.push(wn(o,j,x))),N)break;o=o.return}0<p.length&&(m=new g(m,v,null,l,y),h.push({event:m,listeners:p}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",m&&l!==pr&&(v=l.relatedTarget||l.fromElement)&&(la(v)||v[Ma]))break e;if((g||m)&&(m=y.window===y?y:(m=y.ownerDocument)?m.defaultView||m.parentWindow:window,g?(v=l.relatedTarget||l.toElement,g=d,v=v?la(v):null,v!==null&&(N=zn(v),p=v.tag,v!==N||p!==5&&p!==27&&p!==6)&&(v=null)):(g=null,v=d),g!==v)){if(p=Tu,j="onMouseLeave",f="onMouseEnter",o="mouse",(e==="pointerout"||e==="pointerover")&&(p=Cu,j="onPointerLeave",f="onPointerEnter",o="pointer"),N=g==null?m:Fa(g),x=v==null?m:Fa(v),m=new p(j,o+"leave",g,l,y),m.target=N,m.relatedTarget=x,j=null,la(y)===d&&(p=new p(f,o+"enter",v,l,y),p.target=x,p.relatedTarget=N,j=p),N=j,g&&v)t:{for(p=Px,f=g,o=v,x=0,j=f;j;j=p(j))x++;j=0;for(var E=o;E;E=p(E))j++;for(;0<x-j;)f=p(f),x--;for(;0<j-x;)o=p(o),j--;for(;x--;){if(f===o||o!==null&&f===o.alternate){p=f;break t}f=p(f),o=p(o)}p=null}else p=null;g!==null&&vo(h,m,g,p,!1),v!==null&&N!==null&&vo(h,N,v,p,!0)}}e:{if(m=d?Fa(d):window,g=m.nodeName&&m.nodeName.toLowerCase(),g==="select"||g==="input"&&m.type==="file")var _=Mu;else if(_u(m))if(Zd)_=ux;else{_=rx;var S=ix}else g=m.nodeName,!g||g.toLowerCase()!=="input"||m.type!=="checkbox"&&m.type!=="radio"?d&&yc(d.elementType)&&(_=Mu):_=cx;if(_&&(_=_(e,d))){Vd(h,_,l,y);break e}S&&S(e,m,d),e==="focusout"&&d&&m.type==="number"&&d.memoizedProps.value!=null&&br(m,"number",m.value)}switch(S=d?Fa(d):window,e){case"focusin":(_u(S)||S.contentEditable==="true")&&(sa=S,jr=d,tn=null);break;case"focusout":tn=jr=sa=null;break;case"mousedown":Nr=!0;break;case"contextmenu":case"mouseup":case"dragend":Nr=!1,Bu(h,l,y);break;case"selectionchange":if(dx)break;case"keydown":case"keyup":Bu(h,l,y)}var A;if(jc)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else na?Xd(e,l)&&(C="onCompositionEnd"):e==="keydown"&&l.keyCode===229&&(C="onCompositionStart");C&&(Gd&&l.locale!=="ko"&&(na||C!=="onCompositionStart"?C==="onCompositionEnd"&&na&&(A=qd()):(il=y,pc="value"in il?il.value:il.textContent,na=!0)),S=Xs(d,C),0<S.length&&(C=new Au(C,e,null,l,y),h.push({event:C,listeners:S}),A?C.data=A:(A=Qd(l),A!==null&&(C.data=A)))),(A=tx?lx(e,l):ax(e,l))&&(C=Xs(d,"onBeforeInput"),0<C.length&&(S=new Au("onBeforeInput","beforeinput",null,l,y),h.push({event:S,listeners:C}),S.data=A)),Kx(h,e,d,l,y)}q0(h,t)})}function wn(e,t,l){return{instance:e,listener:t,currentTarget:l}}function Xs(e,t){for(var l=t+"Capture",a=[];e!==null;){var n=e,s=n.stateNode;if(n=n.tag,n!==5&&n!==26&&n!==27||s===null||(n=xn(e,l),n!=null&&a.unshift(wn(e,n,s)),n=xn(e,t),n!=null&&a.push(wn(e,n,s))),e.tag===3)return a;e=e.return}return[]}function Px(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function vo(e,t,l,a,n){for(var s=t._reactName,r=[];l!==null&&l!==a;){var c=l,u=c.alternate,d=c.stateNode;if(c=c.tag,u!==null&&u===a)break;c!==5&&c!==26&&c!==27||d===null||(u=d,n?(d=xn(l,s),d!=null&&r.unshift(wn(l,d,u))):n||(d=xn(l,s),d!=null&&r.push(wn(l,d,u)))),l=l.return}r.length!==0&&e.push({event:t,listeners:r})}var Ix=/\r\n?/g,eg=/\u0000|\uFFFD/g;function jo(e){return(typeof e=="string"?e:""+e).replace(Ix,`
`).replace(eg,"")}function X0(e,t){return t=jo(t),jo(e)===t}function ne(e,t,l,a,n,s){switch(l){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||Na(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&Na(e,""+a);break;case"className":Fn(e,"class",a);break;case"tabIndex":Fn(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":Fn(e,l,a);break;case"style":Hd(e,a,s);break;case"data":if(t!=="object"){Fn(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||l!=="href")){e.removeAttribute(l);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(l);break}a=rs(""+a),e.setAttribute(l,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(l==="formAction"?(t!=="input"&&ne(e,t,"name",n.name,n,null),ne(e,t,"formEncType",n.formEncType,n,null),ne(e,t,"formMethod",n.formMethod,n,null),ne(e,t,"formTarget",n.formTarget,n,null)):(ne(e,t,"encType",n.encType,n,null),ne(e,t,"method",n.method,n,null),ne(e,t,"target",n.target,n,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(l);break}a=rs(""+a),e.setAttribute(l,a);break;case"onClick":a!=null&&(e.onclick=Bt);break;case"onScroll":a!=null&&Z("scroll",e);break;case"onScrollEnd":a!=null&&Z("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(w(61));if(l=a.__html,l!=null){if(n.children!=null)throw Error(w(60));e.innerHTML=l}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}l=rs(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,""+a):e.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,""):e.removeAttribute(l);break;case"capture":case"download":a===!0?e.setAttribute(l,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,a):e.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(l,a):e.removeAttribute(l);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(l):e.setAttribute(l,a);break;case"popover":Z("beforetoggle",e),Z("toggle",e),is(e,"popover",a);break;case"xlinkActuate":Ct(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":Ct(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":Ct(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":Ct(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":Ct(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":Ct(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":Ct(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":Ct(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":Ct(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":is(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Ch.get(l)||l,is(e,l,a))}}function Zr(e,t,l,a,n,s){switch(l){case"style":Hd(e,a,s);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(w(61));if(l=a.__html,l!=null){if(n.children!=null)throw Error(w(60));e.innerHTML=l}}break;case"children":typeof a=="string"?Na(e,a):(typeof a=="number"||typeof a=="bigint")&&Na(e,""+a);break;case"onScroll":a!=null&&Z("scroll",e);break;case"onScrollEnd":a!=null&&Z("scrollend",e);break;case"onClick":a!=null&&(e.onclick=Bt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Dd.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(n=l.endsWith("Capture"),t=l.slice(2,n?l.length-7:void 0),s=e[Ze]||null,s=s!=null?s[l]:null,typeof s=="function"&&e.removeEventListener(t,s,n),typeof a=="function")){typeof s!="function"&&s!==null&&(l in e?e[l]=null:e.hasAttribute(l)&&e.removeAttribute(l)),e.addEventListener(t,a,n);break e}l in e?e[l]=a:a===!0?e.setAttribute(l,""):is(e,l,a)}}}function Ue(e,t,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Z("error",e),Z("load",e);var a=!1,n=!1,s;for(s in l)if(l.hasOwnProperty(s)){var r=l[s];if(r!=null)switch(s){case"src":a=!0;break;case"srcSet":n=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(w(137,t));default:ne(e,t,s,r,l,null)}}n&&ne(e,t,"srcSet",l.srcSet,l,null),a&&ne(e,t,"src",l.src,l,null);return;case"input":Z("invalid",e);var c=s=r=n=null,u=null,d=null;for(a in l)if(l.hasOwnProperty(a)){var y=l[a];if(y!=null)switch(a){case"name":n=y;break;case"type":r=y;break;case"checked":u=y;break;case"defaultChecked":d=y;break;case"value":s=y;break;case"defaultValue":c=y;break;case"children":case"dangerouslySetInnerHTML":if(y!=null)throw Error(w(137,t));break;default:ne(e,t,a,y,l,null)}}Ld(e,s,c,u,d,r,n,!1);return;case"select":Z("invalid",e),a=r=s=null;for(n in l)if(l.hasOwnProperty(n)&&(c=l[n],c!=null))switch(n){case"value":s=c;break;case"defaultValue":r=c;break;case"multiple":a=c;default:ne(e,t,n,c,l,null)}t=s,l=r,e.multiple=!!a,t!=null?ma(e,!!a,t,!1):l!=null&&ma(e,!!a,l,!0);return;case"textarea":Z("invalid",e),s=n=a=null;for(r in l)if(l.hasOwnProperty(r)&&(c=l[r],c!=null))switch(r){case"value":a=c;break;case"defaultValue":n=c;break;case"children":s=c;break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(w(91));break;default:ne(e,t,r,c,l,null)}kd(e,a,n,s);return;case"option":for(u in l)if(l.hasOwnProperty(u)&&(a=l[u],a!=null))switch(u){case"selected":e.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:ne(e,t,u,a,l,null)}return;case"dialog":Z("beforetoggle",e),Z("toggle",e),Z("cancel",e),Z("close",e);break;case"iframe":case"object":Z("load",e);break;case"video":case"audio":for(a=0;a<Sn.length;a++)Z(Sn[a],e);break;case"image":Z("error",e),Z("load",e);break;case"details":Z("toggle",e);break;case"embed":case"source":case"link":Z("error",e),Z("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(d in l)if(l.hasOwnProperty(d)&&(a=l[d],a!=null))switch(d){case"children":case"dangerouslySetInnerHTML":throw Error(w(137,t));default:ne(e,t,d,a,l,null)}return;default:if(yc(t)){for(y in l)l.hasOwnProperty(y)&&(a=l[y],a!==void 0&&Zr(e,t,y,a,l,void 0));return}}for(c in l)l.hasOwnProperty(c)&&(a=l[c],a!=null&&ne(e,t,c,a,l,null))}function tg(e,t,l,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var n=null,s=null,r=null,c=null,u=null,d=null,y=null;for(g in l){var h=l[g];if(l.hasOwnProperty(g)&&h!=null)switch(g){case"checked":break;case"value":break;case"defaultValue":u=h;default:a.hasOwnProperty(g)||ne(e,t,g,null,a,h)}}for(var m in a){var g=a[m];if(h=l[m],a.hasOwnProperty(m)&&(g!=null||h!=null))switch(m){case"type":s=g;break;case"name":n=g;break;case"checked":d=g;break;case"defaultChecked":y=g;break;case"value":r=g;break;case"defaultValue":c=g;break;case"children":case"dangerouslySetInnerHTML":if(g!=null)throw Error(w(137,t));break;default:g!==h&&ne(e,t,m,g,a,h)}}yr(e,r,c,u,d,y,s,n);return;case"select":g=r=c=m=null;for(s in l)if(u=l[s],l.hasOwnProperty(s)&&u!=null)switch(s){case"value":break;case"multiple":g=u;default:a.hasOwnProperty(s)||ne(e,t,s,null,a,u)}for(n in a)if(s=a[n],u=l[n],a.hasOwnProperty(n)&&(s!=null||u!=null))switch(n){case"value":m=s;break;case"defaultValue":c=s;break;case"multiple":r=s;default:s!==u&&ne(e,t,n,s,a,u)}t=c,l=r,a=g,m!=null?ma(e,!!l,m,!1):!!a!=!!l&&(t!=null?ma(e,!!l,t,!0):ma(e,!!l,l?[]:"",!1));return;case"textarea":g=m=null;for(c in l)if(n=l[c],l.hasOwnProperty(c)&&n!=null&&!a.hasOwnProperty(c))switch(c){case"value":break;case"children":break;default:ne(e,t,c,null,a,n)}for(r in a)if(n=a[r],s=l[r],a.hasOwnProperty(r)&&(n!=null||s!=null))switch(r){case"value":m=n;break;case"defaultValue":g=n;break;case"children":break;case"dangerouslySetInnerHTML":if(n!=null)throw Error(w(91));break;default:n!==s&&ne(e,t,r,n,a,s)}Bd(e,m,g);return;case"option":for(var v in l)if(m=l[v],l.hasOwnProperty(v)&&m!=null&&!a.hasOwnProperty(v))switch(v){case"selected":e.selected=!1;break;default:ne(e,t,v,null,a,m)}for(u in a)if(m=a[u],g=l[u],a.hasOwnProperty(u)&&m!==g&&(m!=null||g!=null))switch(u){case"selected":e.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:ne(e,t,u,m,a,g)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var p in l)m=l[p],l.hasOwnProperty(p)&&m!=null&&!a.hasOwnProperty(p)&&ne(e,t,p,null,a,m);for(d in a)if(m=a[d],g=l[d],a.hasOwnProperty(d)&&m!==g&&(m!=null||g!=null))switch(d){case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(w(137,t));break;default:ne(e,t,d,m,a,g)}return;default:if(yc(t)){for(var N in l)m=l[N],l.hasOwnProperty(N)&&m!==void 0&&!a.hasOwnProperty(N)&&Zr(e,t,N,void 0,a,m);for(y in a)m=a[y],g=l[y],!a.hasOwnProperty(y)||m===g||m===void 0&&g===void 0||Zr(e,t,y,m,a,g);return}}for(var f in l)m=l[f],l.hasOwnProperty(f)&&m!=null&&!a.hasOwnProperty(f)&&ne(e,t,f,null,a,m);for(h in a)m=a[h],g=l[h],!a.hasOwnProperty(h)||m===g||m==null&&g==null||ne(e,t,h,m,a,g)}function No(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function lg(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,l=performance.getEntriesByType("resource"),a=0;a<l.length;a++){var n=l[a],s=n.transferSize,r=n.initiatorType,c=n.duration;if(s&&c&&No(r)){for(r=0,c=n.responseEnd,a+=1;a<l.length;a++){var u=l[a],d=u.startTime;if(d>c)break;var y=u.transferSize,h=u.initiatorType;y&&No(h)&&(u=u.responseEnd,r+=y*(u<c?1:(c-d)/(u-d)))}if(--a,t+=8*(s+r)/(n.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Jr=null,Kr=null;function Qs(e){return e.nodeType===9?e:e.ownerDocument}function So(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Q0(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Fr(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var er=null;function ag(){var e=window.event;return e&&e.type==="popstate"?e===er?!1:(er=e,!0):(er=null,!1)}var V0=typeof setTimeout=="function"?setTimeout:void 0,ng=typeof clearTimeout=="function"?clearTimeout:void 0,wo=typeof Promise=="function"?Promise:void 0,sg=typeof queueMicrotask=="function"?queueMicrotask:typeof wo<"u"?function(e){return wo.resolve(null).then(e).catch(ig)}:V0;function ig(e){setTimeout(function(){throw e})}function Tl(e){return e==="head"}function Eo(e,t){var l=t,a=0;do{var n=l.nextSibling;if(e.removeChild(l),n&&n.nodeType===8)if(l=n.data,l==="/$"||l==="/&"){if(a===0){e.removeChild(n),za(t);return}a--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")a++;else if(l==="html")fn(e.ownerDocument.documentElement);else if(l==="head"){l=e.ownerDocument.head,fn(l);for(var s=l.firstChild;s;){var r=s.nextSibling,c=s.nodeName;s[Rn]||c==="SCRIPT"||c==="STYLE"||c==="LINK"&&s.rel.toLowerCase()==="stylesheet"||l.removeChild(s),s=r}}else l==="body"&&fn(e.ownerDocument.body);l=n}while(l);za(t)}function To(e,t){var l=e;e=0;do{var a=l.nextSibling;if(l.nodeType===1?t?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(t?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),a&&a.nodeType===8)if(l=a.data,l==="/$"){if(e===0)break;e--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||e++;l=a}while(l)}function $r(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var l=t;switch(t=t.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":$r(l),gc(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}e.removeChild(l)}}function rg(e,t,l,a){for(;e.nodeType===1;){var n=l;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[Rn])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(s=e.getAttribute("rel"),s==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(s!==n.rel||e.getAttribute("href")!==(n.href==null||n.href===""?null:n.href)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin)||e.getAttribute("title")!==(n.title==null?null:n.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(s=e.getAttribute("src"),(s!==(n.src==null?null:n.src)||e.getAttribute("type")!==(n.type==null?null:n.type)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var s=n.name==null?null:""+n.name;if(n.type==="hidden"&&e.getAttribute("name")===s)return e}else return e;if(e=ft(e.nextSibling),e===null)break}return null}function cg(e,t,l){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!l||(e=ft(e.nextSibling),e===null))return null;return e}function Z0(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=ft(e.nextSibling),e===null))return null;return e}function Wr(e){return e.data==="$?"||e.data==="$~"}function Pr(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function ug(e,t){var l=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||l.readyState!=="loading")t();else{var a=function(){t(),l.removeEventListener("DOMContentLoaded",a)};l.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function ft(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Ir=null;function Ao(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var l=e.data;if(l==="/$"||l==="/&"){if(t===0)return ft(e.nextSibling);t--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||t++}e=e.nextSibling}return null}function Co(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var l=e.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(t===0)return e;t--}else l!=="/$"&&l!=="/&"||t++}e=e.previousSibling}return null}function J0(e,t,l){switch(t=Qs(l),e){case"html":if(e=t.documentElement,!e)throw Error(w(452));return e;case"head":if(e=t.head,!e)throw Error(w(453));return e;case"body":if(e=t.body,!e)throw Error(w(454));return e;default:throw Error(w(451))}}function fn(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);gc(e)}var mt=new Map,Oo=new Set;function Vs(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Jt=te.d;te.d={f:og,r:dg,D:fg,C:mg,L:hg,m:xg,X:yg,S:gg,M:bg};function og(){var e=Jt.f(),t=di();return e||t}function dg(e){var t=Da(e);t!==null&&t.tag===5&&t.type==="form"?Yf(t):Jt.r(e)}var Ba=typeof document>"u"?null:document;function K0(e,t,l){var a=Ba;if(a&&typeof t=="string"&&t){var n=ct(t);n='link[rel="'+e+'"][href="'+n+'"]',typeof l=="string"&&(n+='[crossorigin="'+l+'"]'),Oo.has(n)||(Oo.add(n),e={rel:e,crossOrigin:l,href:t},a.querySelector(n)===null&&(t=a.createElement("link"),Ue(t,"link",e),Ce(t),a.head.appendChild(t)))}}function fg(e){Jt.D(e),K0("dns-prefetch",e,null)}function mg(e,t){Jt.C(e,t),K0("preconnect",e,t)}function hg(e,t,l){Jt.L(e,t,l);var a=Ba;if(a&&e&&t){var n='link[rel="preload"][as="'+ct(t)+'"]';t==="image"&&l&&l.imageSrcSet?(n+='[imagesrcset="'+ct(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(n+='[imagesizes="'+ct(l.imageSizes)+'"]')):n+='[href="'+ct(e)+'"]';var s=n;switch(t){case"style":s=Oa(e);break;case"script":s=ka(e)}mt.has(s)||(e=me({rel:"preload",href:t==="image"&&l&&l.imageSrcSet?void 0:e,as:t},l),mt.set(s,e),a.querySelector(n)!==null||t==="style"&&a.querySelector(Yn(s))||t==="script"&&a.querySelector(qn(s))||(t=a.createElement("link"),Ue(t,"link",e),Ce(t),a.head.appendChild(t)))}}function xg(e,t){Jt.m(e,t);var l=Ba;if(l&&e){var a=t&&typeof t.as=="string"?t.as:"script",n='link[rel="modulepreload"][as="'+ct(a)+'"][href="'+ct(e)+'"]',s=n;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=ka(e)}if(!mt.has(s)&&(e=me({rel:"modulepreload",href:e},t),mt.set(s,e),l.querySelector(n)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(qn(s)))return}a=l.createElement("link"),Ue(a,"link",e),Ce(a),l.head.appendChild(a)}}}function gg(e,t,l){Jt.S(e,t,l);var a=Ba;if(a&&e){var n=fa(a).hoistableStyles,s=Oa(e);t=t||"default";var r=n.get(s);if(!r){var c={loading:0,preload:null};if(r=a.querySelector(Yn(s)))c.loading=5;else{e=me({rel:"stylesheet",href:e,"data-precedence":t},l),(l=mt.get(s))&&tu(e,l);var u=r=a.createElement("link");Ce(u),Ue(u,"link",e),u._p=new Promise(function(d,y){u.onload=d,u.onerror=y}),u.addEventListener("load",function(){c.loading|=1}),u.addEventListener("error",function(){c.loading|=2}),c.loading|=4,ys(r,t,a)}r={type:"stylesheet",instance:r,count:1,state:c},n.set(s,r)}}}function yg(e,t){Jt.X(e,t);var l=Ba;if(l&&e){var a=fa(l).hoistableScripts,n=ka(e),s=a.get(n);s||(s=l.querySelector(qn(n)),s||(e=me({src:e,async:!0},t),(t=mt.get(n))&&lu(e,t),s=l.createElement("script"),Ce(s),Ue(s,"link",e),l.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},a.set(n,s))}}function bg(e,t){Jt.M(e,t);var l=Ba;if(l&&e){var a=fa(l).hoistableScripts,n=ka(e),s=a.get(n);s||(s=l.querySelector(qn(n)),s||(e=me({src:e,async:!0,type:"module"},t),(t=mt.get(n))&&lu(e,t),s=l.createElement("script"),Ce(s),Ue(s,"link",e),l.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},a.set(n,s))}}function zo(e,t,l,a){var n=(n=fl.current)?Vs(n):null;if(!n)throw Error(w(446));switch(e){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(t=Oa(l.href),l=fa(n).hoistableStyles,a=l.get(t),a||(a={type:"style",instance:null,count:0,state:null},l.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){e=Oa(l.href);var s=fa(n).hoistableStyles,r=s.get(e);if(r||(n=n.ownerDocument||n,r={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(e,r),(s=n.querySelector(Yn(e)))&&!s._p&&(r.instance=s,r.state.loading=5),mt.has(e)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},mt.set(e,l),s||pg(n,e,l,r.state))),t&&a===null)throw Error(w(528,""));return r}if(t&&a!==null)throw Error(w(529,""));return null;case"script":return t=l.async,l=l.src,typeof l=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=ka(l),l=fa(n).hoistableScripts,a=l.get(t),a||(a={type:"script",instance:null,count:0,state:null},l.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(w(444,e))}}function Oa(e){return'href="'+ct(e)+'"'}function Yn(e){return'link[rel="stylesheet"]['+e+"]"}function F0(e){return me({},e,{"data-precedence":e.precedence,precedence:null})}function pg(e,t,l,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),Ue(t,"link",l),Ce(t),e.head.appendChild(t))}function ka(e){return'[src="'+ct(e)+'"]'}function qn(e){return"script[async]"+e}function _o(e,t,l){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+ct(l.href)+'"]');if(a)return t.instance=a,Ce(a),a;var n=me({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),Ce(a),Ue(a,"style",n),ys(a,l.precedence,e),t.instance=a;case"stylesheet":n=Oa(l.href);var s=e.querySelector(Yn(n));if(s)return t.state.loading|=4,t.instance=s,Ce(s),s;a=F0(l),(n=mt.get(n))&&tu(a,n),s=(e.ownerDocument||e).createElement("link"),Ce(s);var r=s;return r._p=new Promise(function(c,u){r.onload=c,r.onerror=u}),Ue(s,"link",a),t.state.loading|=4,ys(s,l.precedence,e),t.instance=s;case"script":return s=ka(l.src),(n=e.querySelector(qn(s)))?(t.instance=n,Ce(n),n):(a=l,(n=mt.get(s))&&(a=me({},l),lu(a,n)),e=e.ownerDocument||e,n=e.createElement("script"),Ce(n),Ue(n,"link",a),e.head.appendChild(n),t.instance=n);case"void":return null;default:throw Error(w(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(a=t.instance,t.state.loading|=4,ys(a,l.precedence,e));return t.instance}function ys(e,t,l){for(var a=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),n=a.length?a[a.length-1]:null,s=n,r=0;r<a.length;r++){var c=a[r];if(c.dataset.precedence===t)s=c;else if(s!==n)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=l.nodeType===9?l.head:l,t.insertBefore(e,t.firstChild))}function tu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function lu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var bs=null;function Mo(e,t,l){if(bs===null){var a=new Map,n=bs=new Map;n.set(l,a)}else n=bs,a=n.get(l),a||(a=new Map,n.set(l,a));if(a.has(e))return a;for(a.set(e,null),l=l.getElementsByTagName(e),n=0;n<l.length;n++){var s=l[n];if(!(s[Rn]||s[_e]||e==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var r=s.getAttribute(t)||"";r=e+r;var c=a.get(r);c?c.push(s):a.set(r,[s])}}return a}function Do(e,t,l){e=e.ownerDocument||e,e.head.insertBefore(l,t==="title"?e.querySelector("head > title"):null)}function vg(e,t,l){if(l===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function $0(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}function jg(e,t,l,a){if(l.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&!(l.state.loading&4)){if(l.instance===null){var n=Oa(a.href),s=t.querySelector(Yn(n));if(s){t=s._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Zs.bind(e),t.then(e,e)),l.state.loading|=4,l.instance=s,Ce(s);return}s=t.ownerDocument||t,a=F0(a),(n=mt.get(n))&&tu(a,n),s=s.createElement("link"),Ce(s);var r=s;r._p=new Promise(function(c,u){r.onload=c,r.onerror=u}),Ue(s,"link",a),l.instance=s}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(l,t),(t=l.state.preload)&&!(l.state.loading&3)&&(e.count++,l=Zs.bind(e),t.addEventListener("load",l),t.addEventListener("error",l))}}var tr=0;function Ng(e,t){return e.stylesheets&&e.count===0&&ps(e,e.stylesheets),0<e.count||0<e.imgCount?function(l){var a=setTimeout(function(){if(e.stylesheets&&ps(e,e.stylesheets),e.unsuspend){var s=e.unsuspend;e.unsuspend=null,s()}},6e4+t);0<e.imgBytes&&tr===0&&(tr=62500*lg());var n=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&ps(e,e.stylesheets),e.unsuspend)){var s=e.unsuspend;e.unsuspend=null,s()}},(e.imgBytes>tr?50:800)+t);return e.unsuspend=l,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(n)}}:null}function Zs(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ps(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Js=null;function ps(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Js=new Map,t.forEach(Sg,e),Js=null,Zs.call(e))}function Sg(e,t){if(!(t.state.loading&4)){var l=Js.get(e);if(l)var a=l.get(null);else{l=new Map,Js.set(e,l);for(var n=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<n.length;s++){var r=n[s];(r.nodeName==="LINK"||r.getAttribute("media")!=="not all")&&(l.set(r.dataset.precedence,r),a=r)}a&&l.set(null,a)}n=t.instance,r=n.getAttribute("data-precedence"),s=l.get(r)||a,s===a&&l.set(null,n),l.set(r,n),this.count++,a=Zs.bind(this),n.addEventListener("load",a),n.addEventListener("error",a),s?s.parentNode.insertBefore(n,s.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(n,e.firstChild)),t.state.loading|=4}}var En={$$typeof:Lt,Provider:null,Consumer:null,_currentValue:Ml,_currentValue2:Ml,_threadCount:0};function wg(e,t,l,a,n,s,r,c,u){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=wi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wi(0),this.hiddenUpdates=wi(null),this.identifierPrefix=a,this.onUncaughtError=n,this.onCaughtError=s,this.onRecoverableError=r,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=u,this.incompleteTransitions=new Map}function W0(e,t,l,a,n,s,r,c,u,d,y,h){return e=new wg(e,t,l,r,u,d,y,h,c),t=1,s===!0&&(t|=24),s=$e(3,null,null,t),e.current=s,s.stateNode=e,t=Cc(),t.refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:a,isDehydrated:l,cache:t},_c(s),e}function P0(e){return e?(e=ca,e):ca}function I0(e,t,l,a,n,s){n=P0(n),a.context===null?a.context=n:a.pendingContext=n,a=hl(t),a.payload={element:l},s=s===void 0?null:s,s!==null&&(a.callback=s),l=xl(e,a,t),l!==null&&(Ve(l,e,t),an(l,e,t))}function Ro(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var l=e.retryLane;e.retryLane=l!==0&&l<t?l:t}}function au(e,t){Ro(e,t),(e=e.alternate)&&Ro(e,t)}function em(e){if(e.tag===13||e.tag===31){var t=Zl(e,67108864);t!==null&&Ve(t,e,67108864),au(e,67108864)}}function Uo(e){if(e.tag===13||e.tag===31){var t=tt();t=hc(t);var l=Zl(e,t);l!==null&&Ve(l,e,t),au(e,t)}}var Ks=!0;function Eg(e,t,l,a){var n=k.T;k.T=null;var s=te.p;try{te.p=2,nu(e,t,l,a)}finally{te.p=s,k.T=n}}function Tg(e,t,l,a){var n=k.T;k.T=null;var s=te.p;try{te.p=8,nu(e,t,l,a)}finally{te.p=s,k.T=n}}function nu(e,t,l,a){if(Ks){var n=ec(a);if(n===null)Ii(e,t,a,Fs,l),Lo(e,a);else if(Cg(n,e,t,l,a))a.stopPropagation();else if(Lo(e,a),t&4&&-1<Ag.indexOf(e)){for(;n!==null;){var s=Da(n);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var r=Ol(s.pendingLanes);if(r!==0){var c=s;for(c.pendingLanes|=2,c.entangledLanes|=2;r;){var u=1<<31-et(r);c.entanglements[1]|=u,r&=~u}At(s),!(ee&6)&&(ks=Pe()+500,Hn(0))}}break;case 31:case 13:c=Zl(s,2),c!==null&&Ve(c,s,2),di(),au(s,2)}if(s=ec(a),s===null&&Ii(e,t,a,Fs,l),s===n)break;n=s}n!==null&&a.stopPropagation()}else Ii(e,t,a,null,l)}}function ec(e){return e=bc(e),su(e)}var Fs=null;function su(e){if(Fs=null,e=la(e),e!==null){var t=zn(e);if(t===null)e=null;else{var l=t.tag;if(l===13){if(e=pd(t),e!==null)return e;e=null}else if(l===31){if(e=vd(t),e!==null)return e;e=null}else if(l===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Fs=e,null}function tm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(fh()){case wd:return 2;case Ed:return 8;case ws:case mh:return 32;case Td:return 268435456;default:return 32}default:return 32}}var tc=!1,bl=null,pl=null,vl=null,Tn=new Map,An=new Map,nl=[],Ag="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Lo(e,t){switch(e){case"focusin":case"focusout":bl=null;break;case"dragenter":case"dragleave":pl=null;break;case"mouseover":case"mouseout":vl=null;break;case"pointerover":case"pointerout":Tn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":An.delete(t.pointerId)}}function Za(e,t,l,a,n,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:l,eventSystemFlags:a,nativeEvent:s,targetContainers:[n]},t!==null&&(t=Da(t),t!==null&&em(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,n!==null&&t.indexOf(n)===-1&&t.push(n),e)}function Cg(e,t,l,a,n){switch(t){case"focusin":return bl=Za(bl,e,t,l,a,n),!0;case"dragenter":return pl=Za(pl,e,t,l,a,n),!0;case"mouseover":return vl=Za(vl,e,t,l,a,n),!0;case"pointerover":var s=n.pointerId;return Tn.set(s,Za(Tn.get(s)||null,e,t,l,a,n)),!0;case"gotpointercapture":return s=n.pointerId,An.set(s,Za(An.get(s)||null,e,t,l,a,n)),!0}return!1}function lm(e){var t=la(e.target);if(t!==null){var l=zn(t);if(l!==null){if(t=l.tag,t===13){if(t=pd(l),t!==null){e.blockedOn=t,pu(e.priority,function(){Uo(l)});return}}else if(t===31){if(t=vd(l),t!==null){e.blockedOn=t,pu(e.priority,function(){Uo(l)});return}}else if(t===3&&l.stateNode.current.memoizedState.isDehydrated){e.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}e.blockedOn=null}function vs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var l=ec(e.nativeEvent);if(l===null){l=e.nativeEvent;var a=new l.constructor(l.type,l);pr=a,l.target.dispatchEvent(a),pr=null}else return t=Da(l),t!==null&&em(t),e.blockedOn=l,!1;t.shift()}return!0}function Bo(e,t,l){vs(e)&&l.delete(t)}function Og(){tc=!1,bl!==null&&vs(bl)&&(bl=null),pl!==null&&vs(pl)&&(pl=null),vl!==null&&vs(vl)&&(vl=null),Tn.forEach(Bo),An.forEach(Bo)}function as(e,t){e.blockedOn===t&&(e.blockedOn=null,tc||(tc=!0,Te.unstable_scheduleCallback(Te.unstable_NormalPriority,Og)))}var ns=null;function ko(e){ns!==e&&(ns=e,Te.unstable_scheduleCallback(Te.unstable_NormalPriority,function(){ns===e&&(ns=null);for(var t=0;t<e.length;t+=3){var l=e[t],a=e[t+1],n=e[t+2];if(typeof a!="function"){if(su(a||l)===null)continue;break}var s=Da(l);s!==null&&(e.splice(t,3),t-=3,Ur(s,{pending:!0,data:n,method:l.method,action:a},a,n))}}))}function za(e){function t(u){return as(u,e)}bl!==null&&as(bl,e),pl!==null&&as(pl,e),vl!==null&&as(vl,e),Tn.forEach(t),An.forEach(t);for(var l=0;l<nl.length;l++){var a=nl[l];a.blockedOn===e&&(a.blockedOn=null)}for(;0<nl.length&&(l=nl[0],l.blockedOn===null);)lm(l),l.blockedOn===null&&nl.shift();if(l=(e.ownerDocument||e).$$reactFormReplay,l!=null)for(a=0;a<l.length;a+=3){var n=l[a],s=l[a+1],r=n[Ze]||null;if(typeof s=="function")r||ko(l);else if(r){var c=null;if(s&&s.hasAttribute("formAction")){if(n=s,r=s[Ze]||null)c=r.formAction;else if(su(n)!==null)continue}else c=r.action;typeof c=="function"?l[a+1]=c:(l.splice(a,3),a-=3),ko(l)}}}function am(){function e(s){s.canIntercept&&s.info==="react-transition"&&s.intercept({handler:function(){return new Promise(function(r){return n=r})},focusReset:"manual",scroll:"manual"})}function t(){n!==null&&(n(),n=null),a||setTimeout(l,20)}function l(){if(!a&&!navigation.transition){var s=navigation.currentEntry;s&&s.url!=null&&navigation.navigate(s.url,{state:s.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,n=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(l,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),n!==null&&(n(),n=null)}}}function iu(e){this._internalRoot=e}hi.prototype.render=iu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(w(409));var l=t.current,a=tt();I0(l,a,e,t,null,null)};hi.prototype.unmount=iu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;I0(e.current,2,null,e,null,null),di(),t[Ma]=null}};function hi(e){this._internalRoot=e}hi.prototype.unstable_scheduleHydration=function(e){if(e){var t=_d();e={blockedOn:null,target:e,priority:t};for(var l=0;l<nl.length&&t!==0&&t<nl[l].priority;l++);nl.splice(l,0,e),l===0&&lm(e)}};var Ho=yd.version;if(Ho!=="19.2.4")throw Error(w(527,Ho,"19.2.4"));te.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(w(188)):(e=Object.keys(e).join(","),Error(w(268,e)));return e=sh(t),e=e!==null?jd(e):null,e=e===null?null:e.stateNode,e};var zg={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:k,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ss=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ss.isDisabled&&ss.supportsFiber)try{_n=ss.inject(zg),Ie=ss}catch{}}Ws.createRoot=function(e,t){if(!bd(e))throw Error(w(299));var l=!1,a="",n=Kf,s=Ff,r=$f;return t!=null&&(t.unstable_strictMode===!0&&(l=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(n=t.onUncaughtError),t.onCaughtError!==void 0&&(s=t.onCaughtError),t.onRecoverableError!==void 0&&(r=t.onRecoverableError)),t=W0(e,1,!1,null,null,l,a,null,n,s,r,am),e[Ma]=t.current,eu(e),new iu(t)};Ws.hydrateRoot=function(e,t,l){if(!bd(e))throw Error(w(299));var a=!1,n="",s=Kf,r=Ff,c=$f,u=null;return l!=null&&(l.unstable_strictMode===!0&&(a=!0),l.identifierPrefix!==void 0&&(n=l.identifierPrefix),l.onUncaughtError!==void 0&&(s=l.onUncaughtError),l.onCaughtError!==void 0&&(r=l.onCaughtError),l.onRecoverableError!==void 0&&(c=l.onRecoverableError),l.formState!==void 0&&(u=l.formState)),t=W0(e,1,!0,t,l??null,a,n,u,s,r,c,am),t.context=P0(null),l=t.current,a=tt(),a=hc(a),n=hl(a),n.callback=null,xl(l,n,a),l=a,t.current.lanes=l,Dn(t,l),At(t),e[Ma]=t.current,eu(e),new hi(t)};Ws.version="19.2.4";function nm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(nm)}catch(e){console.error(e)}}nm(),dd.exports=Ws;var _g=dd.exports;const Mg=ed(_g);/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cn(){return Cn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a])}return e},Cn.apply(this,arguments)}var ol;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ol||(ol={}));const Yo="popstate";function Dg(e){e===void 0&&(e={});function t(a,n){let{pathname:s,search:r,hash:c}=a.location;return lc("",{pathname:s,search:r,hash:c},n.state&&n.state.usr||null,n.state&&n.state.key||"default")}function l(a,n){return typeof n=="string"?n:sm(n)}return Ug(t,l,null,e)}function Se(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ru(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Rg(){return Math.random().toString(36).substr(2,8)}function qo(e,t){return{usr:e.state,key:e.key,idx:t}}function lc(e,t,l,a){return l===void 0&&(l=null),Cn({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ha(t):t,{state:l,key:t&&t.key||a||Rg()})}function sm(e){let{pathname:t="/",search:l="",hash:a=""}=e;return l&&l!=="?"&&(t+=l.charAt(0)==="?"?l:"?"+l),a&&a!=="#"&&(t+=a.charAt(0)==="#"?a:"#"+a),t}function Ha(e){let t={};if(e){let l=e.indexOf("#");l>=0&&(t.hash=e.substr(l),e=e.substr(0,l));let a=e.indexOf("?");a>=0&&(t.search=e.substr(a),e=e.substr(0,a)),e&&(t.pathname=e)}return t}function Ug(e,t,l,a){a===void 0&&(a={});let{window:n=document.defaultView,v5Compat:s=!1}=a,r=n.history,c=ol.Pop,u=null,d=y();d==null&&(d=0,r.replaceState(Cn({},r.state,{idx:d}),""));function y(){return(r.state||{idx:null}).idx}function h(){c=ol.Pop;let N=y(),f=N==null?null:N-d;d=N,u&&u({action:c,location:p.location,delta:f})}function m(N,f){c=ol.Push;let o=lc(p.location,N,f);d=y()+1;let x=qo(o,d),j=p.createHref(o);try{r.pushState(x,"",j)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;n.location.assign(j)}s&&u&&u({action:c,location:p.location,delta:1})}function g(N,f){c=ol.Replace;let o=lc(p.location,N,f);d=y();let x=qo(o,d),j=p.createHref(o);r.replaceState(x,"",j),s&&u&&u({action:c,location:p.location,delta:0})}function v(N){let f=n.location.origin!=="null"?n.location.origin:n.location.href,o=typeof N=="string"?N:sm(N);return o=o.replace(/ $/,"%20"),Se(f,"No window.location.(origin|href) available to create URL for href: "+o),new URL(o,f)}let p={get action(){return c},get location(){return e(n,r)},listen(N){if(u)throw new Error("A history only accepts one active listener");return n.addEventListener(Yo,h),u=N,()=>{n.removeEventListener(Yo,h),u=null}},createHref(N){return t(n,N)},createURL:v,encodeLocation(N){let f=v(N);return{pathname:f.pathname,search:f.search,hash:f.hash}},push:m,replace:g,go(N){return r.go(N)}};return p}var Go;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Go||(Go={}));function Lg(e,t,l){return l===void 0&&(l="/"),Bg(e,t,l)}function Bg(e,t,l,a){let n=typeof t=="string"?Ha(t):t,s=cm(n.pathname||"/",l);if(s==null)return null;let r=im(e);kg(r);let c=null;for(let u=0;c==null&&u<r.length;++u){let d=$g(s);c=Jg(r[u],d)}return c}function im(e,t,l,a){t===void 0&&(t=[]),l===void 0&&(l=[]),a===void 0&&(a="");let n=(s,r,c)=>{let u={relativePath:c===void 0?s.path||"":c,caseSensitive:s.caseSensitive===!0,childrenIndex:r,route:s};u.relativePath.startsWith("/")&&(Se(u.relativePath.startsWith(a),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(a.length));let d=Bl([a,u.relativePath]),y=l.concat(u);s.children&&s.children.length>0&&(Se(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),im(s.children,t,y,d)),!(s.path==null&&!s.index)&&t.push({path:d,score:Vg(d,s.index),routesMeta:y})};return e.forEach((s,r)=>{var c;if(s.path===""||!((c=s.path)!=null&&c.includes("?")))n(s,r);else for(let u of rm(s.path))n(s,r,u)}),t}function rm(e){let t=e.split("/");if(t.length===0)return[];let[l,...a]=t,n=l.endsWith("?"),s=l.replace(/\?$/,"");if(a.length===0)return n?[s,""]:[s];let r=rm(a.join("/")),c=[];return c.push(...r.map(u=>u===""?s:[s,u].join("/"))),n&&c.push(...r),c.map(u=>e.startsWith("/")&&u===""?"/":u)}function kg(e){e.sort((t,l)=>t.score!==l.score?l.score-t.score:Zg(t.routesMeta.map(a=>a.childrenIndex),l.routesMeta.map(a=>a.childrenIndex)))}const Hg=/^:[\w-]+$/,Yg=3,qg=2,Gg=1,Xg=10,Qg=-2,Xo=e=>e==="*";function Vg(e,t){let l=e.split("/"),a=l.length;return l.some(Xo)&&(a+=Qg),t&&(a+=qg),l.filter(n=>!Xo(n)).reduce((n,s)=>n+(Hg.test(s)?Yg:s===""?Gg:Xg),a)}function Zg(e,t){return e.length===t.length&&e.slice(0,-1).every((a,n)=>a===t[n])?e[e.length-1]-t[t.length-1]:0}function Jg(e,t,l){let{routesMeta:a}=e,n={},s="/",r=[];for(let c=0;c<a.length;++c){let u=a[c],d=c===a.length-1,y=s==="/"?t:t.slice(s.length)||"/",h=Kg({path:u.relativePath,caseSensitive:u.caseSensitive,end:d},y),m=u.route;if(!h)return null;Object.assign(n,h.params),r.push({params:n,pathname:Bl([s,h.pathname]),pathnameBase:ty(Bl([s,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(s=Bl([s,h.pathnameBase]))}return r}function Kg(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[l,a]=Fg(e.path,e.caseSensitive,e.end),n=t.match(l);if(!n)return null;let s=n[0],r=s.replace(/(.)\/+$/,"$1"),c=n.slice(1);return{params:a.reduce((d,y,h)=>{let{paramName:m,isOptional:g}=y;if(m==="*"){let p=c[h]||"";r=s.slice(0,s.length-p.length).replace(/(.)\/+$/,"$1")}const v=c[h];return g&&!v?d[m]=void 0:d[m]=(v||"").replace(/%2F/g,"/"),d},{}),pathname:s,pathnameBase:r,pattern:e}}function Fg(e,t,l){t===void 0&&(t=!1),l===void 0&&(l=!0),ru(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let a=[],n="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(r,c,u)=>(a.push({paramName:c,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(a.push({paramName:"*"}),n+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):l?n+="\\/*$":e!==""&&e!=="/"&&(n+="(?:(?=\\/|$))"),[new RegExp(n,t?void 0:"i"),a]}function $g(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ru(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function cm(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let l=t.endsWith("/")?t.length-1:t.length,a=e.charAt(l);return a&&a!=="/"?null:e.slice(l)||"/"}const Wg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Pg=e=>Wg.test(e);function Ig(e,t){t===void 0&&(t="/");let{pathname:l,search:a="",hash:n=""}=typeof e=="string"?Ha(e):e,s;if(l)if(Pg(l))s=l;else{if(l.includes("//")){let r=l;l=l.replace(/\/\/+/g,"/"),ru(!1,"Pathnames cannot have embedded double slashes - normalizing "+(r+" -> "+l))}l.startsWith("/")?s=Qo(l.substring(1),"/"):s=Qo(l,t)}else s=t;return{pathname:s,search:ly(a),hash:ay(n)}}function Qo(e,t){let l=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(n=>{n===".."?l.length>1&&l.pop():n!=="."&&l.push(n)}),l.length>1?l.join("/"):"/"}function lr(e,t,l,a){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+l+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function ey(e){return e.filter((t,l)=>l===0||t.route.path&&t.route.path.length>0)}function um(e,t){let l=ey(e);return t?l.map((a,n)=>n===l.length-1?a.pathname:a.pathnameBase):l.map(a=>a.pathnameBase)}function om(e,t,l,a){a===void 0&&(a=!1);let n;typeof e=="string"?n=Ha(e):(n=Cn({},e),Se(!n.pathname||!n.pathname.includes("?"),lr("?","pathname","search",n)),Se(!n.pathname||!n.pathname.includes("#"),lr("#","pathname","hash",n)),Se(!n.search||!n.search.includes("#"),lr("#","search","hash",n)));let s=e===""||n.pathname==="",r=s?"/":n.pathname,c;if(r==null)c=l;else{let h=t.length-1;if(!a&&r.startsWith("..")){let m=r.split("/");for(;m[0]==="..";)m.shift(),h-=1;n.pathname=m.join("/")}c=h>=0?t[h]:"/"}let u=Ig(n,c),d=r&&r!=="/"&&r.endsWith("/"),y=(s||r===".")&&l.endsWith("/");return!u.pathname.endsWith("/")&&(d||y)&&(u.pathname+="/"),u}const Bl=e=>e.join("/").replace(/\/\/+/g,"/"),ty=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),ly=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,ay=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function ny(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const dm=["post","put","patch","delete"];new Set(dm);const sy=["get",...dm];new Set(sy);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function On(){return On=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a])}return e},On.apply(this,arguments)}const cu=b.createContext(null),iy=b.createContext(null),Gn=b.createContext(null),xi=b.createContext(null),Kt=b.createContext({outlet:null,matches:[],isDataRoute:!1}),fm=b.createContext(null);function Xn(){return b.useContext(xi)!=null}function gi(){return Xn()||Se(!1),b.useContext(xi).location}function mm(e){b.useContext(Gn).static||b.useLayoutEffect(e)}function hm(){let{isDataRoute:e}=b.useContext(Kt);return e?Ny():ry()}function ry(){Xn()||Se(!1);let e=b.useContext(cu),{basename:t,future:l,navigator:a}=b.useContext(Gn),{matches:n}=b.useContext(Kt),{pathname:s}=gi(),r=JSON.stringify(um(n,l.v7_relativeSplatPath)),c=b.useRef(!1);return mm(()=>{c.current=!0}),b.useCallback(function(d,y){if(y===void 0&&(y={}),!c.current)return;if(typeof d=="number"){a.go(d);return}let h=om(d,JSON.parse(r),s,y.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Bl([t,h.pathname])),(y.replace?a.replace:a.push)(h,y.state,y)},[t,a,r,s,e])}const cy=b.createContext(null);function uy(e){let t=b.useContext(Kt).outlet;return t&&b.createElement(cy.Provider,{value:e},t)}function oy(){let{matches:e}=b.useContext(Kt),t=e[e.length-1];return t?t.params:{}}function dy(e,t){return fy(e,t)}function fy(e,t,l,a){Xn()||Se(!1);let{navigator:n}=b.useContext(Gn),{matches:s}=b.useContext(Kt),r=s[s.length-1],c=r?r.params:{};r&&r.pathname;let u=r?r.pathnameBase:"/";r&&r.route;let d=gi(),y;if(t){var h;let N=typeof t=="string"?Ha(t):t;u==="/"||(h=N.pathname)!=null&&h.startsWith(u)||Se(!1),y=N}else y=d;let m=y.pathname||"/",g=m;if(u!=="/"){let N=u.replace(/^\//,"").split("/");g="/"+m.replace(/^\//,"").split("/").slice(N.length).join("/")}let v=Lg(e,{pathname:g}),p=yy(v&&v.map(N=>Object.assign({},N,{params:Object.assign({},c,N.params),pathname:Bl([u,n.encodeLocation?n.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?u:Bl([u,n.encodeLocation?n.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),s,l,a);return t&&p?b.createElement(xi.Provider,{value:{location:On({pathname:"/",search:"",hash:"",state:null,key:"default"},y),navigationType:ol.Pop}},p):p}function my(){let e=jy(),t=ny(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),l=e instanceof Error?e.stack:null,n={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},t),l?b.createElement("pre",{style:n},l):null,null)}const hy=b.createElement(my,null);class xy extends b.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,l){return l.location!==t.location||l.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:l.error,location:l.location,revalidation:t.revalidation||l.revalidation}}componentDidCatch(t,l){console.error("React Router caught the following error during render",t,l)}render(){return this.state.error!==void 0?b.createElement(Kt.Provider,{value:this.props.routeContext},b.createElement(fm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function gy(e){let{routeContext:t,match:l,children:a}=e,n=b.useContext(cu);return n&&n.static&&n.staticContext&&(l.route.errorElement||l.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=l.route.id),b.createElement(Kt.Provider,{value:t},a)}function yy(e,t,l,a){var n;if(t===void 0&&(t=[]),l===void 0&&(l=null),a===void 0&&(a=null),e==null){var s;if(!l)return null;if(l.errors)e=l.matches;else if((s=a)!=null&&s.v7_partialHydration&&t.length===0&&!l.initialized&&l.matches.length>0)e=l.matches;else return null}let r=e,c=(n=l)==null?void 0:n.errors;if(c!=null){let y=r.findIndex(h=>h.route.id&&(c==null?void 0:c[h.route.id])!==void 0);y>=0||Se(!1),r=r.slice(0,Math.min(r.length,y+1))}let u=!1,d=-1;if(l&&a&&a.v7_partialHydration)for(let y=0;y<r.length;y++){let h=r[y];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=y),h.route.id){let{loaderData:m,errors:g}=l,v=h.route.loader&&m[h.route.id]===void 0&&(!g||g[h.route.id]===void 0);if(h.route.lazy||v){u=!0,d>=0?r=r.slice(0,d+1):r=[r[0]];break}}}return r.reduceRight((y,h,m)=>{let g,v=!1,p=null,N=null;l&&(g=c&&h.route.id?c[h.route.id]:void 0,p=h.route.errorElement||hy,u&&(d<0&&m===0?(Sy("route-fallback"),v=!0,N=null):d===m&&(v=!0,N=h.route.hydrateFallbackElement||null)));let f=t.concat(r.slice(0,m+1)),o=()=>{let x;return g?x=p:v?x=N:h.route.Component?x=b.createElement(h.route.Component,null):h.route.element?x=h.route.element:x=y,b.createElement(gy,{match:h,routeContext:{outlet:y,matches:f,isDataRoute:l!=null},children:x})};return l&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?b.createElement(xy,{location:l.location,revalidation:l.revalidation,component:p,error:g,children:o(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):o()},null)}var xm=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(xm||{}),gm=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(gm||{});function by(e){let t=b.useContext(cu);return t||Se(!1),t}function py(e){let t=b.useContext(iy);return t||Se(!1),t}function vy(e){let t=b.useContext(Kt);return t||Se(!1),t}function ym(e){let t=vy(),l=t.matches[t.matches.length-1];return l.route.id||Se(!1),l.route.id}function jy(){var e;let t=b.useContext(fm),l=py(),a=ym();return t!==void 0?t:(e=l.errors)==null?void 0:e[a]}function Ny(){let{router:e}=by(xm.UseNavigateStable),t=ym(gm.UseNavigateStable),l=b.useRef(!1);return mm(()=>{l.current=!0}),b.useCallback(function(n,s){s===void 0&&(s={}),l.current&&(typeof n=="number"?e.navigate(n):e.navigate(n,On({fromRouteId:t},s)))},[e,t])}const Vo={};function Sy(e,t,l){Vo[e]||(Vo[e]=!0)}function wy(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function bm(e){let{to:t,replace:l,state:a,relative:n}=e;Xn()||Se(!1);let{future:s,static:r}=b.useContext(Gn),{matches:c}=b.useContext(Kt),{pathname:u}=gi(),d=hm(),y=om(t,um(c,s.v7_relativeSplatPath),u,n==="path"),h=JSON.stringify(y);return b.useEffect(()=>d(JSON.parse(h),{replace:l,state:a,relative:n}),[d,h,n,l,a]),null}function Ey(e){return uy(e.context)}function Dt(e){Se(!1)}function Ty(e){let{basename:t="/",children:l=null,location:a,navigationType:n=ol.Pop,navigator:s,static:r=!1,future:c}=e;Xn()&&Se(!1);let u=t.replace(/^\/*/,"/"),d=b.useMemo(()=>({basename:u,navigator:s,static:r,future:On({v7_relativeSplatPath:!1},c)}),[u,c,s,r]);typeof a=="string"&&(a=Ha(a));let{pathname:y="/",search:h="",hash:m="",state:g=null,key:v="default"}=a,p=b.useMemo(()=>{let N=cm(y,u);return N==null?null:{location:{pathname:N,search:h,hash:m,state:g,key:v},navigationType:n}},[u,y,h,m,g,v,n]);return p==null?null:b.createElement(Gn.Provider,{value:d},b.createElement(xi.Provider,{children:l,value:p}))}function Ay(e){let{children:t,location:l}=e;return dy(ac(t),l)}new Promise(()=>{});function ac(e,t){t===void 0&&(t=[]);let l=[];return b.Children.forEach(e,(a,n)=>{if(!b.isValidElement(a))return;let s=[...t,n];if(a.type===b.Fragment){l.push.apply(l,ac(a.props.children,s));return}a.type!==Dt&&Se(!1),!a.props.index||!a.props.children||Se(!1);let r={id:a.props.id||s.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(r.children=ac(a.props.children,s)),l.push(r)}),l}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const Cy="6";try{window.__reactRouterVersion=Cy}catch{}const Oy="startTransition",Zo=Pm[Oy];function zy(e){let{basename:t,children:l,future:a,window:n}=e,s=b.useRef();s.current==null&&(s.current=Dg({window:n,v5Compat:!0}));let r=s.current,[c,u]=b.useState({action:r.action,location:r.location}),{v7_startTransition:d}=a||{},y=b.useCallback(h=>{d&&Zo?Zo(()=>u(h)):u(h)},[u,d]);return b.useLayoutEffect(()=>r.listen(y),[r,y]),b.useEffect(()=>wy(a),[a]),b.createElement(Ty,{basename:t,children:l,location:c.location,navigationType:c.action,navigator:r,future:a})}var Jo;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Jo||(Jo={}));var Ko;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Ko||(Ko={}));const pm=()=>{localStorage.removeItem("token"),window.dispatchEvent(new CustomEvent("auth:unauthorized"))},re=async(e,t={})=>{const l=localStorage.getItem("token"),a=new Headers(t.headers);l&&a.set("Authorization",`Bearer ${l}`);const n=await fetch(e,{...t,headers:a});return n.status===401&&pm(),n},_y=({user:e,navigateToUserProfile:t})=>{if(e.is_anonymous)return i.jsx("div",{className:"h-full flex items-center justify-center p-6 bg-gray-50",children:i.jsxs("div",{className:"text-center max-w-md",children:[i.jsx("div",{className:"w-20 h-20 bg-gray-300 rounded-full mx-auto mb-4 flex items-center justify-center",children:i.jsx("svg",{className:"w-10 h-10 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),i.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Chat Unavailable"}),i.jsx("p",{className:"text-gray-600",children:"Anonymous users cannot access the chat feature."}),i.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"This restriction is permanent for anonymous profiles."})]})});const l=T=>{t&&t(T)},[a,n]=b.useState([]),[s,r]=b.useState(""),[c,u]=b.useState(!1),[d,y]=b.useState(null),[h,m]=b.useState(null),g=b.useRef(null),v=b.useRef(null),[p,N]=b.useState("chat"),[f,o]=b.useState("public"),[x,j]=b.useState(""),[E,_]=b.useState([]),[S,A]=b.useState([]),[C,O]=b.useState([]),[B,P]=b.useState({action:null,username:null});b.useEffect(()=>(M(),()=>{v.current&&v.current.close()}),[e]);const M=()=>{try{if(e.is_anonymous){console.log(" Skipping SSE connection for anonymous user"),u(!1);return}const T=localStorage.getItem("token");if(console.log(" Token from localStorage:",T?"EXISTS":"MISSING"),!T){console.error(" No token found");return}console.log(" Connecting to SSE with token...");const G=`/api/chat/stream?token=${T}`;console.log(" SSE URL:",G);const D=new EventSource(G);v.current=D,D.onopen=()=>{console.log(" SSE onopen triggered"),u(!0)},D.onmessage=V=>{console.log(" SSE onmessage received:",V.data);try{const H=JSON.parse(V.data);switch(console.log(" Parsed data:",H),H.type){case"connected":console.log(" Connected event:",H),y(H.connectionId),L(H.connectionId),H.onlineUsers&&O(H.onlineUsers);break;case"history":console.log(" History received:",H.messages.length,"messages");const bi=H.messages.map(we=>({id:we.id,username:we.username,message:we.message,timestamp:new Date(we.timestamp),isPrivate:we.isPrivate,toUser:we.toUser}));n(bi);break;case"message":console.log(" New message:",H);const _m={id:H.id,username:H.username,message:H.message,timestamp:new Date(H.timestamp),isPrivate:H.isPrivate,toUser:H.toUser};n(we=>(console.log(" Adding message to state, total:",we.length+1),[...we,_m]));break;case"user_joined":console.log(" User joined:",H),n(we=>[...we,{id:Date.now().toString(),username:"",message:H.message,timestamp:new Date(H.timestamp)}]),H.username&&H.username.trim()!==""&&O(we=>we.includes(H.username)?we:[...we,H.username]);break;case"user_left":console.log(" User event:",H),n(we=>[...we,{id:Date.now().toString(),username:"",message:H.message,timestamp:new Date(H.timestamp)}]),H.username&&H.username.trim()!==""&&O(we=>we.filter(Mm=>Mm!==H.username));break;default:console.log(" Unknown message type:",H.type)}}catch(H){console.error(" Error parsing SSE message:",H)}},D.onerror=V=>{console.error(" SSE onerror:",V),console.log("readyState:",D.readyState),u(!1),setTimeout(()=>{D.readyState===EventSource.CLOSED&&(console.log(" Attempting reconnection..."),M())},3e3)}}catch(T){console.error(" Failed to connect SSE:",T)}},L=async T=>{try{console.log(" Joining chat with connectionId:",T);const G=await re("/api/chat/join",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({connectionId:T,userId:e.id,username:e.username})}),D=await G.json();console.log(" Join response:",D),G.ok?console.log(" Joined chat successfully"):console.error(" Failed to join chat:",G.statusText)}catch(G){console.error(" Error joining chat:",G)}},$=(T,G)=>{P({action:T,username:G})},z=()=>{if(B.action==="remove"&&B.username)_(T=>T.filter(G=>G.username!==B.username)),re("/api/friends/remove",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:B.username})}).catch(T=>console.error("Failed to remove friend:",T));else if(B.action==="block"&&B.username&&!S.includes(B.username)&&B.username!==e.username){const T=B.username;A(G=>[...G,T]),_(G=>G.filter(D=>D.username!==T)),re("/api/friends/block",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:T})}).catch(G=>console.error("Failed to block user:",G))}P({action:null,username:null})},R=()=>{P({action:null,username:null})},U=a.filter(T=>S.includes(T.username)?!1:f==="private"&&x?T.username===x&&T.toUser===e.username||T.username===e.username&&T.toUser===x:!T.isPrivate),I=()=>{var T;(T=g.current)==null||T.scrollIntoView({behavior:"smooth"})};b.useEffect(()=>{I()},[U]);const Y=T=>{if(T.preventDefault(),!s.trim()||!d||!c){console.log(" Cannot send: message=",s.trim(),"connId=",d,"connected=",c);return}const G=s.trim();console.log(" Sending message:",G),r(""),d&&(console.log(" POST /api/chat/send with connectionId:",d),re("/api/chat/send",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({connectionId:d,message:G,isPrivate:f==="private",toUser:f==="private"?x:void 0})}).then(D=>(console.log(" Send response status:",D.status),D.json())).then(D=>console.log(" Send response:",D)).catch(D=>console.error(" Failed to send message:",D)))},ht=T=>{if(!E.some(G=>G.username===T)&&T!==e.username){const G={id:Date.now().toString(),username:T,isOnline:C.includes(T)};_(D=>[...D,G]),re("/api/friends/add",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:T})}).catch(D=>console.error("Failed to add friend:",D))}},Ft=T=>{A(G=>G.filter(D=>D!==T)),re("/api/friends/unblock",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:T})}).catch(G=>console.error("Failed to unblock user:",G))},$t=T=>{o("private"),j(T),N("chat")},xt=()=>{o("public"),j("")},Wt=()=>Array.from(new Set(a.map(G=>G.username))).filter(G=>G!==e.username),yi=T=>{m(T),setTimeout(()=>m(null),2e3)};return i.jsxs("div",{className:"h-full flex flex-col overflow-hidden",children:[h&&i.jsx("div",{className:"absolute top-4 left-1/2 transform -translate-x-1/2 z-50 animate-fade-in",children:i.jsx("div",{className:"bg-gray-800 text-white text-sm px-4 py-2 rounded-lg shadow-lg",children:h})}),B.action&&i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white p-4 rounded shadow-md text-center",children:[i.jsxs("p",{className:"text-sm text-gray-800",children:["Are you sure you want to"," ",B.action==="remove"?"remove":"block"," ",i.jsx("strong",{children:B.username}),"?"]}),i.jsxs("div",{className:"mt-4 flex justify-center space-x-2",children:[i.jsx("button",{onClick:z,className:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700",children:"Yes"}),i.jsx("button",{onClick:R,className:"px-4 py-2 bg-gray-300 text-gray-800 rounded hover:bg-gray-400",children:"Cancel"})]})]})}),i.jsxs("div",{className:"flex border-b border-white/20 bg-white/30 backdrop-blur-sm flex-shrink-0",children:[i.jsx("button",{onClick:()=>N("chat"),className:`flex-1 py-2 px-3 text-xs font-medium transition-colors ${p==="chat"?"bg-blue-500/80 text-white":"text-gray-700 hover:text-gray-900 hover:bg-white/30"}`,children:"Chat"}),i.jsxs("button",{onClick:()=>N("friends"),className:`flex-1 py-2 px-3 text-xs font-medium transition-colors ${p==="friends"?"bg-blue-500/80 text-white":"text-gray-700 hover:text-gray-900 hover:bg-white/30"}`,children:["Friends (",E.length,")"]}),i.jsxs("button",{onClick:()=>N("blocked"),className:`flex-1 py-2 px-3 text-xs font-medium transition-colors ${p==="blocked"?"bg-blue-500/80 text-white":"text-gray-700 hover:text-gray-900 hover:bg-white/30"}`,children:["Blocked (",S.length,")"]})]}),p==="chat"&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"bg-white/20 backdrop-blur-sm px-3 py-2 border-b border-white/20 flex-shrink-0",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("div",{className:"flex items-center space-x-2",children:f==="private"?i.jsxs(i.Fragment,{children:[i.jsxs("span",{className:"text-xs text-purple-700 font-medium",children:["Private with ",x]}),i.jsx("button",{onClick:xt,className:"text-xs text-blue-600 hover:text-blue-800 underline",children:"Switch to Public"})]}):i.jsx("span",{className:"text-xs text-green-700 font-medium",children:"Public Chat"})}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:`w-2 h-2 rounded-full ${c?"bg-green-500":"bg-red-500"}`}),i.jsx("span",{className:"text-xs text-gray-600",children:c?"Connected":"Disconnected"})]})]})}),i.jsxs("div",{className:"flex-1 min-h-0 overflow-y-auto p-3 space-y-3",children:[U.length===0?i.jsx("div",{className:"text-center text-gray-500 py-8",children:"No messages yet. Start the conversation!"}):U.map(T=>i.jsx("div",{className:"text-sm group",children:i.jsxs("div",{className:"flex flex-col space-y-1",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsxs("span",{className:`font-medium text-xs cursor-pointer hover:underline ${T.isPrivate?"text-purple-700":"text-blue-700"}`,onClick:()=>{T.username!==e.username?l(T.username):yi("This is your own profile")},title:`View ${T.username}'s profile`,children:[T.username,T.isPrivate&&i.jsxs("span",{className:"ml-1 text-purple-500",children:[" ",T.toUser]})]}),i.jsx("span",{className:"text-xs text-gray-500",children:T.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),T.username!==e.username&&i.jsxs("div",{className:"opacity-0 group-hover:opacity-100 flex items-center space-x-1",children:[!E.some(G=>G.username===T.username)&&i.jsx("button",{onClick:()=>ht(T.username),className:"text-green-600 hover:text-green-800 text-xs bg-white/50 rounded px-1",title:"Add friend",children:"+"}),E.some(G=>G.username===T.username)&&i.jsx("button",{onClick:()=>$t(T.username),className:"text-purple-600 hover:text-purple-800 text-xs bg-white/50 rounded px-1",title:"Private message",children:""}),i.jsx("button",{onClick:()=>$("block",T.username),className:"text-red-600 hover:text-red-800 text-xs bg-white/50 rounded px-1",title:"Block user",children:""})]})]}),i.jsx("div",{className:`break-words pl-2 border-l-2 ${T.isPrivate?"border-purple-300 text-purple-900 bg-purple-50/50":"border-blue-300 text-gray-900 bg-white/30"} rounded-r px-2 py-1`,children:T.message})]})},T.id)),i.jsx("div",{ref:g})]}),i.jsx("div",{className:"border-t border-white/20 p-3 flex-shrink-0 bg-white/20 backdrop-blur-sm",children:i.jsxs("form",{onSubmit:Y,className:"flex space-x-2",children:[i.jsx("input",{type:"text",value:s,onChange:T=>r(T.target.value),placeholder:c?f==="private"?`Private message to ${x}...`:"Type message...":"Connecting...",className:"flex-1 text-sm border border-white/30 bg-white/50 backdrop-blur-sm rounded px-2 py-1 focus:outline-none focus:ring-1 focus:ring-blue-500 focus:bg-white/70",maxLength:200,disabled:!c}),i.jsx("button",{type:"submit",disabled:!s.trim()||!c,className:`px-3 py-1 rounded text-sm disabled:opacity-50 disabled:cursor-not-allowed flex-shrink-0 backdrop-blur-sm ${f==="private"?"bg-purple-500/80 text-white hover:bg-purple-600":"bg-blue-500/80 text-white hover:bg-blue-600"}`,children:"Send"})]})})]}),p==="friends"&&i.jsxs("div",{className:"flex-1 min-h-0 overflow-y-auto p-3",children:[i.jsx("div",{className:"space-y-2",children:E.length===0?i.jsx("div",{className:"text-center text-gray-700 text-sm py-4",children:"No friends yet. Add friends from chat messages!"}):E.map(T=>i.jsxs("div",{className:"flex items-center justify-between p-2 bg-white/30 backdrop-blur-sm border border-white/20 rounded",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:`w-2 h-2 rounded-full ${T.isOnline?"bg-green-500":"bg-gray-400"}`}),i.jsx("span",{className:"text-sm font-medium text-gray-900",children:T.username})]}),i.jsxs("div",{className:"flex items-center space-x-1",children:[i.jsx("button",{onClick:()=>$t(T.username),className:"text-purple-600 hover:text-purple-800 text-sm bg-white/50 rounded px-2 py-1",title:"Private chat",children:""}),i.jsx("button",{onClick:()=>$("remove",T.username),className:"text-red-600 hover:text-red-800 text-sm bg-white/50 rounded px-2 py-1",title:"Remove friend",children:""})]})]},T.id))}),i.jsxs("div",{className:"mt-4 pt-3 border-t border-white/20",children:[i.jsx("div",{className:"text-xs text-gray-700 mb-2",children:"Quick add from recent users:"}),i.jsx("div",{className:"space-y-1",children:Wt().filter(T=>!E.some(G=>G.username===T)).filter(T=>!S.includes(T)).slice(0,3).map(T=>i.jsxs("button",{onClick:()=>ht(T),className:"block w-full text-left text-sm text-blue-700 hover:text-blue-900 hover:bg-white/30 px-2 py-1 rounded bg-white/20",children:["+ Add ",T]},T))})]})]}),p==="blocked"&&i.jsx("div",{className:"flex-1 min-h-0 overflow-y-auto p-3",children:i.jsx("div",{className:"space-y-2",children:S.length===0?i.jsx("div",{className:"text-center text-gray-700 text-sm py-4",children:"No blocked users."}):S.map(T=>i.jsxs("div",{className:"flex items-center justify-between p-2 bg-red-100/50 backdrop-blur-sm border border-red-200/50 rounded",children:[i.jsx("span",{className:"text-sm font-medium text-red-800",children:T}),i.jsx("button",{onClick:()=>Ft(T),className:"text-green-600 hover:text-green-800 text-sm bg-white/50 rounded px-2 py-1",title:"Unblock user",children:"Unblock"})]},T))})}),i.jsx("div",{className:"px-3 py-1 border-t border-white/20 bg-white/30 backdrop-blur-sm flex-shrink-0",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("span",{className:"text-xs text-gray-700",children:[U.length," messages"]}),i.jsxs("span",{className:"text-xs text-gray-700",children:[C.length," online"]})]})})]})};function Fo({token:e,onVerifySuccess:t,onCancel:l}){const[a,n]=b.useState(""),[s,r]=b.useState(""),[c,u]=b.useState(!1),d=async y=>{y.preventDefault(),r(""),u(!0);try{const h=await fetch("/api/auth/2fa/verify",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({code:a})}),m=await h.json();h.ok&&m.success?t(m.token,m.user):r(m.error||"Invalid verification code")}catch(h){r("Network error. Please try again."),console.error("2FA verification error:",h)}finally{u(!1)}};return i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-black/95 border border-white/10 rounded-2xl shadow-2xl w-96 p-8",children:[i.jsx("h2",{className:"text-2xl font-bold text-white text-center mb-2",children:"Two-Factor Authentication"}),i.jsx("p",{className:"text-white/70 text-center mb-6",children:"Enter the 6-digit code from your authenticator app!"}),i.jsxs("form",{onSubmit:d,className:"space-y-4",children:[i.jsx("input",{type:"text",value:a,onChange:y=>n(y.target.value.replace(/\D/g,"").slice(0,6)),placeholder:"012345",maxLength:6,inputMode:"numeric",className:"w-full px-4 py-3 text-center text-2xl tracking-widest bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",autoFocus:!0}),i.jsx("button",{type:"submit",disabled:c||a.length!==6,className:"w-full bg-gradient-to-r from-blue-600 to-blue-500 text-white p-3 rounded-lg hover:from-blue-500 hover:to-blue-400 disabled:opacity-50 disabled:cursor-not-allowed transition-all font-medium shadow-lg shadow-blue-500/25",children:c?"Verifying...":"Verify Code"})]}),s&&i.jsx("div",{className:"bg-red-500/20 border border-red-500/30 text-red-300 px-4 py-3 rounded-lg text-sm text-center",children:s}),i.jsx("div",{className:"mt-6 text-center",children:i.jsx("button",{onClick:l,className:"text-blue-400 hover:text-blue-300 text-sm hover:underline transition-colors",children:" Back to login"})})]})})}const $o=void 0,My=void 0;function vm(){return typeof window<"u"?`http://backend:${$o}`:`http://${My}:${$o}`}const Dy=vm(),jm=({onLoginSuccess:e,onSwitchToRegister:t,isInPanel:l=!1})=>{const[a,n]=b.useState(""),[s,r]=b.useState(""),[c,u]=b.useState(""),[d,y]=b.useState(!1),[h,m]=b.useState(!1),[g,v]=b.useState(!1),[p,N]=b.useState(null),[f,o]=b.useState(null),x=async S=>{S.preventDefault(),y(!0),u("");try{console.log("Attempting login with:",{username:a}),console.log("API URL:",`${Dy}/api/auth/login`);let A;try{A=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:a,password:s})})}catch{console.log("Backend container not reachable, trying localhost..."),A=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:a,password:s})})}console.log("Response status:",A.status);const C=await A.json();console.log("Response data:",C),A.ok?C.requires2FA?(N(C.user),o(C.token),v(!0)):(e(C.user,C.token),n(""),r("")):u(C.error||"Login failed")}catch(A){console.error("Login error:",A),u("Network error. Please try again.")}finally{y(!1)}},j=(S,A)=>{e(A,S),v(!1),N(null),o(null),n(""),r("")},E=()=>{v(!1),N(null),o(null),n(""),r("")},_=async()=>{m(!0),u("");const S=`guest_${Math.random().toString(36).slice(2,8)}`;try{const A=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:S,isGuest:!0})}),C=await A.json();A.ok?e(C.user,C.token):u(C.error||"Guest sign-in failed")}catch(A){console.error("Guest sign-in error:",A),u("Network error. Please try again.")}finally{m(!1)}};return l?i.jsxs(i.Fragment,{children:[g&&p&&f&&i.jsx(Fo,{user:p,token:f,onVerifySuccess:j,onCancel:E}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("form",{onSubmit:x,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-white/70 text-sm font-medium mb-1.5",children:"Username"}),i.jsx("input",{type:"text",placeholder:"Enter your username",value:a,onChange:S=>n(S.target.value),className:"w-full p-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-white/70 text-sm font-medium mb-1.5",children:"Password"}),i.jsx("input",{type:"password",placeholder:"Enter your password",value:s,onChange:S=>r(S.target.value),className:"w-full p-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",required:!0})]}),i.jsx("button",{type:"submit",disabled:d,className:"w-full bg-gradient-to-r from-blue-600 to-blue-500 text-white p-3 rounded-lg hover:from-blue-500 hover:to-blue-400 disabled:opacity-50 transition-all font-medium shadow-lg shadow-blue-500/25",children:d?"Logging in...":"Login"})]}),c&&i.jsx("div",{className:"bg-red-500/20 border border-red-500/30 text-red-300 px-4 py-3 rounded-lg text-sm",children:c}),t&&i.jsxs("p",{className:"text-center text-sm text-white/60",children:["Don't have an account?"," ",i.jsx("button",{onClick:t,className:"text-blue-400 hover:text-blue-300 hover:underline transition-colors",children:"Register here"})]}),i.jsx("div",{className:"border-t border-white/10 pt-4 mt-4",children:i.jsx("button",{type:"button",onClick:_,disabled:h,className:"w-full bg-slate-600 hover:bg-slate-500 text-white p-3 rounded-lg disabled:opacity-50 transition-all font-medium text-sm border border-slate-500/50",children:h?"Signing in...":"Continue as Guest"})})]})]}):i.jsxs(i.Fragment,{children:[g&&p&&f&&i.jsx(Fo,{user:p,token:f,onVerifySuccess:j,onCancel:E}),i.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:i.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md w-96",children:[i.jsx("h2",{className:"text-2xl font-bold mb-6 text-center",children:"Login"}),c&&i.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:c}),i.jsxs("form",{onSubmit:x,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Username"}),i.jsx("input",{type:"text",value:a,onChange:S=>n(S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Password"}),i.jsx("input",{type:"password",value:s,onChange:S=>r(S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),i.jsx("button",{type:"submit",disabled:d,className:"w-full bg-blue-500 text-white py-2 px-4 rounded-md hover:bg-blue-600 disabled:opacity-50",children:d?"Logging in...":"Login"})]}),t&&i.jsxs("p",{className:"text-center mt-6",children:["Don't have an account?"," ",i.jsx("button",{onClick:t,className:"text-blue-500 hover:underline",children:"Register here"})]}),i.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200",children:i.jsx("button",{type:"button",onClick:_,disabled:h,className:"w-full bg-slate-500 text-white py-2 px-4 rounded-md hover:bg-slate-600 disabled:opacity-50 transition-colors",children:h?"Signing in...":"Continue as Guest"})})]})})]})},nc=({isModal:e=!1,onClose:t,embedded:l=!1,lightMode:a=!1})=>{const n=l||a,s=n?"bg-white border border-gray-200 rounded-lg shadow p-6 max-h-[60vh] overflow-y-auto text-gray-900 text-sm":"bg-black/95 border border-white/10 rounded-2xl shadow-2xl p-8 text-white/90 max-h-[80vh] overflow-y-auto flex-1 min-h-0",r=n?"text-lg font-semibold text-gray-900":"text-3xl font-bold text-white",c=n?"text-base font-semibold mb-3 text-gray-900":"text-2xl font-semibold mb-4 text-white",u=n?"text-sm font-semibold mb-2 text-gray-900":"text-xl font-medium mb-2 text-white/90",d=n?"text-sm text-gray-700 leading-relaxed":"text-white/80",y=n?"text-sm text-gray-600 mb-6":"text-white/70 mb-8",h=n?"border-gray-200 mb-6":"border-white/10 mb-8",m=n?"list-disc list-inside text-sm text-gray-700 space-y-1 ml-4":"list-disc list-inside text-white/80 space-y-2 ml-4",g=n?"list-decimal list-inside text-sm text-gray-700 ml-4 space-y-1":"list-decimal list-inside text-white/80 text-sm ml-4 space-y-1",v=n?"w-full text-sm text-gray-700 border-collapse border border-gray-200":"w-full text-white/80 border-collapse border border-white/20",p=n?"text-left py-2 px-3 border-b border-gray-200 font-semibold text-gray-900 text-sm":"text-left py-3 px-4 border-b border-white/20 font-semibold",N=n?"py-2 px-3 border-b border-gray-100 text-sm text-gray-700":"py-3 px-4 border-b border-white/10",f=n?"py-2 px-3 text-sm text-gray-700":"py-3 px-4",o=n?"bg-gray-100":"bg-white/10",x=n?"bg-emerald-50 border border-emerald-200 rounded-lg p-4 mb-4":"bg-emerald-500/20 border border-emerald-500/30 rounded-lg p-4 mb-4",j=n?"text-sm text-emerald-800 font-medium":"text-emerald-300 font-medium",E=n?"text-sm text-gray-800 bg-gray-100 px-1 rounded":"text-white/90",_=n?"text-sm text-blue-600 hover:text-blue-500 hover:underline transition-colors":"text-blue-400 hover:text-blue-300 hover:underline transition-colors",S=n?"text-sm text-gray-600 italic text-center":"text-white/70 italic text-center",A=n?"text-gray-500 hover:text-gray-700":"text-white/60 hover:text-white",C=i.jsxs("div",{className:s,children:[i.jsxs("div",{className:"flex justify-between items-start mb-2",children:[i.jsx("h1",{className:r,children:"Privacy Policy Ft_transcendence"}),e&&t&&i.jsx("button",{onClick:t,className:`${A} text-2xl font-bold leading-none transition-colors`,"aria-label":"Close",children:""})]}),i.jsx("p",{className:y,children:"Last Updated: 16-2-2026"}),i.jsx("hr",{className:h}),i.jsxs("section",{className:"mb-8",children:[i.jsx("h2",{className:c,children:"Your Rights Under GDPR"}),i.jsx("p",{className:d,children:"ft_transcendence respects your privacy and complies with the General Data Protection Regulation (GDPR). This document explains your rights regarding your personal data and how to exercise them."})]}),i.jsx("hr",{className:h}),i.jsxs("section",{className:"mb-8",children:[i.jsx("h2",{className:c,children:"1. What Data We Collect"}),i.jsx("p",{className:`${d} mb-4`,children:"When you use ft_transcendence, we collect and store:"}),i.jsxs("ul",{className:m,children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Account Information:"})," Username, email address, password (encrypted)"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Profile Data:"})," Display name, avatar, user preferences"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Game Data:"})," Tournament participation, match results, statistics, win/loss records"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Communication:"})," Direct messages and chat history with other users"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Technical Data:"})," Login times"]})]})]}),i.jsx("hr",{className:h}),i.jsxs("section",{className:"mb-8",children:[i.jsx("h2",{className:c,children:"2. Your Data Rights"}),i.jsxs("div",{className:"mb-6",children:[i.jsx("h3",{className:u,children:"2.1 Right to View Your Data"}),i.jsx("p",{className:`${d} mb-2`,children:"You can view all personal data we have stored about you at any time."}),i.jsx("p",{className:`${d} mb-1`,children:i.jsx("strong",{children:"How to exercise:"})}),i.jsxs("ol",{className:g,children:[i.jsxs("li",{children:["Navigate to ",i.jsx("strong",{children:"Avatar icon  Profile"})]}),i.jsx("li",{children:"You will see a complete overview of your stored information on the profile page"})]})]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("h3",{className:u,children:"2.2 Right to Edit Your Data"}),i.jsx("p",{className:`${d} mb-2`,children:"You can update or correct your personal information whenever needed."}),i.jsx("p",{className:`${d} mb-1`,children:i.jsx("strong",{children:"How to exercise:"})}),i.jsxs("ol",{className:g,children:[i.jsxs("li",{children:["Navigate to ",i.jsx("strong",{children:"Avatar icon  Settings"})," to update your information: such as Display name, Nickname, e-mail and avatar."]}),i.jsx("li",{children:"Changes take effect immediately"})]})]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("h3",{className:u,children:"2.3 Right to Anonymize Your Account"}),i.jsx("p",{className:`${d} mb-2`,children:"If you don't want your data to be shown using ft_transcendence, you can anonymize your account."}),i.jsx("p",{className:`${d} mb-2`,children:i.jsx("strong",{children:"What happens:"})}),i.jsxs("ul",{className:`${m} mb-2`,children:[i.jsx("li",{children:"Your email and personal identifiers are removed"}),i.jsxs("li",{children:["Your username is replaced with ",i.jsx("code",{className:E,children:"Anonymous User"})]}),i.jsx("li",{children:"Your match history remains visible but not linked to you"}),i.jsx("li",{children:"You will not have access to the chat"}),i.jsx("li",{children:"You cannot recover your account after anonymization"})]}),i.jsx("p",{className:`${d} mb-1`,children:i.jsx("strong",{children:"How to exercise:"})}),i.jsxs("ol",{className:g,children:[i.jsxs("li",{children:["Navigate to ",i.jsx("strong",{children:"Avatar icon  Settings  Privacy & Data  Anonymous Mode"})]}),i.jsx("li",{className:"text-amber-600",children:" This action is irreversible"})]})]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("h3",{className:u,children:"2.4 Right to Delete Your Account"}),i.jsx("p",{className:`${d} mb-2`,children:"You can permanently delete your account and all associated personal data."}),i.jsx("p",{className:`${d} mb-2`,children:i.jsx("strong",{children:"What gets deleted:"})}),i.jsxs("ul",{className:`${m} mb-2`,children:[i.jsx("li",{children:"Your account credentials and login information"}),i.jsx("li",{children:"Profile information (username, email, avatar)"}),i.jsx("li",{children:"Private messages and chat history"}),i.jsx("li",{children:"Personal preferences and settings"}),i.jsx("li",{children:"All game statistics and match history"})]}),i.jsx("p",{className:`${d} mb-1`,children:i.jsx("strong",{children:"How to exercise:"})}),i.jsxs("ol",{className:g,children:[i.jsxs("li",{children:["Navigate to ",i.jsx("strong",{children:"Avatar icon  Settings  Privacy & Data  Delete Account"})]}),i.jsx("li",{children:"Confirm your decision"}),i.jsx("li",{children:"Your data will be permanently deleted"})]})]})]}),i.jsx("hr",{className:h}),i.jsxs("section",{className:"mb-8",children:[i.jsx("h2",{className:c,children:"3. Data Retention"}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:v,children:[i.jsx("thead",{children:i.jsxs("tr",{className:o,children:[i.jsx("th",{className:p,children:"Account Status"}),i.jsx("th",{className:p,children:"Data Retention Policy"})]})}),i.jsxs("tbody",{children:[i.jsxs("tr",{children:[i.jsx("td",{className:N,children:"Active accounts"}),i.jsx("td",{className:N,children:"Your data is retained while your account is active"})]}),i.jsxs("tr",{children:[i.jsx("td",{className:N,children:"Deleted accounts"}),i.jsx("td",{className:N,children:"All personal data is permanently removed"})]}),i.jsxs("tr",{children:[i.jsx("td",{className:f,children:"Anonymized accounts"}),i.jsx("td",{className:f,children:"Personal identifiers removed immediately; anonymized statistics may be retained"})]})]})]})})]}),i.jsx("hr",{className:h}),i.jsxs("section",{className:"mb-8",children:[i.jsx("h2",{className:c,children:"4. How We Protect Your Data"}),i.jsx("p",{className:`${d} mb-4`,children:"We implement security measures to protect your information:"}),i.jsxs("ul",{className:m,children:[i.jsx("li",{children:"Passwords encrypted using bcrypt hashing"}),i.jsx("li",{children:"All connections use HTTPS encryption and wss"}),i.jsx("li",{children:"Authentication uses JWT tokens with optional 2FA"}),i.jsx("li",{children:"Database setup for to prevent SQL injections and Cross site scripting"})]})]}),i.jsx("hr",{className:h}),i.jsxs("section",{className:"mb-8",children:[i.jsx("h2",{className:c,children:"5. Data Sharing"}),i.jsx("div",{className:x,children:i.jsx("p",{className:j,children:"We do not sell or rent your personal data to third parties."})}),i.jsx("p",{className:`${d} mb-2`,children:i.jsx("strong",{children:"Your data may be visible to:"})}),i.jsxs("ul",{className:`${m} mb-4`,children:[i.jsx("li",{children:"Other users (username, display name, game statistics, match results)"}),i.jsx("li",{children:"Platform administrators (for technical support and moderation)"})]}),i.jsx("p",{className:`${d} mb-2`,children:i.jsx("strong",{children:"Your data remains private:"})}),i.jsxs("ul",{className:m,children:[i.jsx("li",{children:"Email address"}),i.jsx("li",{children:"Password"}),i.jsx("li",{children:"Private messages (only you and recipients)"}),i.jsx("li",{children:"Technical logs"})]})]}),i.jsx("hr",{className:h}),i.jsxs("section",{className:"mb-8",children:[i.jsx("h2",{className:c,children:"6. Contact"}),i.jsx("p",{className:`${d} mb-4`,children:"If you have questions about your data or need assistance exercising your rights:"}),i.jsx("p",{className:`${d} mb-2`,children:i.jsx("strong",{children:"Contact us:"})}),i.jsxs("p",{className:d,children:[" Email: ",i.jsx("a",{href:"mailto:qtrinh@student.codam.nl",className:_,children:"qtrinh@student.codam.nl"})]})]}),i.jsx("hr",{className:h}),i.jsxs("section",{className:"mb-8",children:[i.jsx("h2",{className:c,children:"7. Changes to This Document"}),i.jsx("p",{className:`${d} mb-4`,children:"We may update this document to reflect changes in our practices or legal requirements."}),i.jsx("p",{className:`${d} mb-2`,children:i.jsx("strong",{children:"Version History:"})}),i.jsxs("ul",{className:`${m} space-y-1`,children:[i.jsx("li",{children:"v1.1 - 16-2-2026 - Updated flow regarding exercising rights according to the technical architecture development"}),i.jsx("li",{children:"v1.0 - 16-12-2025 - Initial release"})]})]}),i.jsx("hr",{className:h}),i.jsx("p",{className:S,children:"By using ft_transcendence, you acknowledge your understanding of these rights and how to exercise them."}),e&&t&&i.jsx("div",{className:"mt-8 text-center",children:i.jsx("button",{onClick:t,className:"bg-gradient-to-r from-blue-600 to-blue-500 text-white px-6 py-3 rounded-lg hover:from-blue-500 hover:to-blue-400 transition-all font-medium shadow-lg shadow-blue-500/25",children:"Close"})})]});return l?i.jsx(i.Fragment,{children:C}):e?i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:O=>{O.target===O.currentTarget&&t&&t()},children:i.jsx("div",{className:"w-[95vw] min-w-[40rem] max-w-6xl h-[70vh] min-h-[360px] flex flex-col overflow-hidden rounded-2xl",children:C})}):i.jsx("div",{className:"min-h-screen bg-gray-100 py-12 px-4",children:i.jsx("div",{className:"max-w-4xl mx-auto",children:C})})},Ry=vm(),Nm=({onSwitchToLogin:e,isInPanel:t=!1})=>{const[l,a]=b.useState(""),[n,s]=b.useState(""),[r,c]=b.useState(""),[u,d]=b.useState(!1),[y,h]=b.useState(""),[m,g]=b.useState(""),[v,p]=b.useState(!1),N=async f=>{f.preventDefault(),d(!0),h("");try{console.log("Attempting registration with:",{username:l,email:r}),console.log("API URL:",`${Ry}/api/auth/register`);let o;try{o=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:l,password:n,email:r})})}catch{console.log("Backend container not reachable, trying localhost..."),o=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:l,password:n,email:r})})}console.log("Response status:",o.status);const x=await o.json();console.log("Response data:",x),o.ok?(g("Registration successful! You can now login."),a(""),s(""),c(""),t&&setTimeout(()=>e(),1500)):h(x.error||"Registration failed")}catch(o){console.error("Registration error:",o),h("Network error. Please try again.")}finally{d(!1)}};return t?i.jsxs("div",{className:"space-y-4",children:[m?i.jsxs("div",{className:"text-center py-4",children:[i.jsx("div",{className:"text-green-400 font-semibold mb-2",children:"Registration successful!"}),i.jsx("p",{className:"text-sm text-white/60",children:"Switching to login..."})]}):i.jsxs(i.Fragment,{children:[i.jsxs("form",{onSubmit:N,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-white/70 text-sm font-medium mb-1.5",children:"Username"}),i.jsx("input",{type:"text",placeholder:"Choose a username",value:l,onChange:f=>a(f.target.value),className:"w-full p-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all",required:!0,minLength:3})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-white/70 text-sm font-medium mb-1.5",children:"Email"}),i.jsx("input",{type:"email",placeholder:"Enter your email",value:r,onChange:f=>c(f.target.value),className:"w-full p-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-white/70 text-sm font-medium mb-1.5",children:"Password"}),i.jsx("input",{type:"password",placeholder:"Min 6 characters",value:n,onChange:f=>s(f.target.value),className:"w-full p-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all",required:!0,minLength:6})]}),i.jsx("button",{type:"submit",disabled:u,className:"w-full bg-gradient-to-r from-green-600 to-green-500 text-white p-3 rounded-lg hover:from-green-500 hover:to-green-400 disabled:opacity-50 transition-all font-medium shadow-lg shadow-green-500/25",children:u?"Creating account...":"Register"})]}),y&&i.jsx("div",{className:"bg-red-500/20 border border-red-500/30 text-red-300 px-4 py-3 rounded-lg text-sm",children:y}),i.jsxs("p",{className:"text-center text-sm text-white/60",children:["Already have an account?"," ",i.jsx("button",{onClick:e,className:"text-blue-400 hover:text-blue-300 hover:underline transition-colors",children:"Login here"})]}),i.jsxs("p",{className:"text-center text-xs text-white/40 mt-2",children:["By registering, you agree to our"," ",i.jsx("button",{type:"button",onClick:()=>p(!0),className:"text-blue-400 hover:text-blue-300 hover:underline transition-colors",children:"Privacy Policy"})]})]}),v&&i.jsx(nc,{isModal:!0,onClose:()=>p(!1)})]}):i.jsxs("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:[i.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md w-96",children:[i.jsx("h1",{className:"text-2xl font-bold mb-6 text-center",children:"Register"}),y&&i.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:y}),m&&i.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-4",children:m}),i.jsxs("form",{onSubmit:N,children:[i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Username"}),i.jsx("input",{type:"text",value:l,onChange:f=>a(f.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",required:!0,minLength:3})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),i.jsx("input",{type:"email",value:r,onChange:f=>c(f.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",required:!0})]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),i.jsx("input",{type:"password",value:n,onChange:f=>s(f.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",required:!0,minLength:6})]}),i.jsx("button",{type:"submit",disabled:u,className:"w-full bg-green-500 text-white py-2 px-4 rounded-lg hover:bg-green-600 disabled:opacity-50",children:u?"Registering...":"Register"})]}),i.jsx("div",{className:"mt-4 text-center",children:i.jsx("button",{onClick:e,className:"text-blue-500 hover:text-blue-600",children:"Already have an account? Login here"})}),i.jsxs("p",{className:"mt-4 text-center text-sm text-gray-500",children:["By registering, you agree to our"," ",i.jsx("button",{type:"button",onClick:()=>p(!0),className:"text-blue-500 hover:text-blue-600 hover:underline",children:"Privacy Policy"})]})]}),v&&i.jsx(nc,{isModal:!0,onClose:()=>p(!1)})]})},sc=async()=>{try{const e=await re("/api/users/profile/me");return e.ok?(await e.json()).profile:(e.status===404&&pm(),null)}catch(e){return console.error("Failed to fetch profile:",e),null}},uu=e=>{if(e)return e.includes("/uploads/avatars/")?`/api/avatars/${e.split("/").pop()}`:e.includes("/")?`/api/avatars/${e}`:`/api/avatars/${e}`},Uy=({user:e,currentView:t,setCurrentView:l,onLogin:a,onLogout:n,navigateToUserProfile:s,children:r})=>{const[c,u]=b.useState(!1),[d,y]=b.useState("login"),[h,m]=b.useState(!1),g=b.useRef(null),v=b.useRef(null),p=b.useRef(null),N=b.useRef(null);b.useEffect(()=>{console.log(" MainLayout user changed:",e),console.log(" MainLayout avatar_url:",e==null?void 0:e.avatar_url)},[e]);const f=(o,x)=>{a(o,x),u(!1)};return b.useEffect(()=>{const o=x=>{g.current&&v.current&&!g.current.contains(x.target)&&!v.current.contains(x.target)&&u(!1)};if(c)return document.addEventListener("mousedown",o),()=>{document.removeEventListener("mousedown",o)}},[c]),b.useEffect(()=>{const o=x=>{p.current&&N.current&&!p.current.contains(x.target)&&!N.current.contains(x.target)&&m(!1)};if(h)return document.addEventListener("mousedown",o),()=>{document.removeEventListener("mousedown",o)}},[h]),b.useEffect(()=>{const o=x=>{x.key==="Escape"&&(u(!1),m(!1))};if(c||h)return document.addEventListener("keydown",o),()=>{document.removeEventListener("keydown",o)}},[c,h]),b.useEffect(()=>{let o;return c&&(o=setTimeout(()=>{u(!1)},3e4)),()=>{o&&clearTimeout(o)}},[c]),i.jsxs("div",{className:"h-screen flex flex-col overflow-hidden relative",children:[i.jsx("header",{className:"bg-white/50 backdrop-blur-sm shadow-sm border-b border-white/20 h-16 flex-shrink-0 relative z-40",children:i.jsx("div",{className:"max-w-7xl mx-auto px-4 h-full",children:i.jsxs("div",{className:"flex items-center justify-between h-full",children:[i.jsx("div",{className:`px-4 py-2 rounded-md ${t==="home"}`,children:i.jsx("button",{onClick:()=>l("home"),className:`px-4 py-2 rounded-md border-2 transition-colors backdrop-blur-sm ${t==="home"?"bg-gray-900/80 text-white border-gray-900/80":"bg-white/30 text-gray-900 border-gray-900/50 hover:bg-white/40"}`,children:"TRANSCENDENCE"})}),i.jsxs("div",{className:"flex items-center space-x-6",children:[i.jsxs("button",{onClick:()=>l("game"),className:`relative px-6 py-2 rounded-lg font-black uppercase tracking-wider transition-all duration-300 ${t==="game"?"bg-yellow-400 text-black shadow-[0_0_20px_rgba(234,179,8,0.6)]":"bg-yellow-500 text-black hover:bg-yellow-400 hover:shadow-[0_0_15px_rgba(234,179,8,0.5)]"}`,style:{textShadow:t==="game"?"2px 2px 0px rgba(248, 4, 4, 0.34)":"none",transform:t==="game"?"translateY(-2px)":"none"},children:[i.jsx("span",{className:`${t==="game"?"animate-pulse":""}`,children:" GAME"}),t==="game"&&i.jsxs("span",{className:"absolute -top-1 -right-1 flex h-3 w-3",children:[i.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"}),i.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-red-500"})]})]}),i.jsxs("button",{onClick:()=>l("leaderboard"),className:`relative px-6 py-2 rounded-lg font-bold uppercase tracking-wide transition-all duration-300 ${t==="leaderboard"?"bg-gradient-to-r from-yellow-400 via-yellow-500 to-yellow-600 text-gray-900 shadow-[0_0_20px_rgba(251,191,36,0.6)] scale-105":"bg-gradient-to-r from-yellow-500 to-orange-500 text-white hover:shadow-[0_0_15px_rgba(251,191,36,0.5)] hover:scale-105"}`,style:{textShadow:t==="leaderboard"?"1px 1px 2px rgba(0,0,0,0.2)":"none",border:"2px solid rgba(255,255,255,0.3)"},children:[i.jsx("span",{className:"flex items-center gap-2",children:" LEADERBOARD"}),t==="leaderboard"&&i.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center animate-pulse",children:"1"})]})]}),i.jsx("div",{className:"flex items-center space-x-4 relative",children:e?i.jsxs("div",{className:"relative",children:[i.jsx("button",{ref:N,onClick:()=>m(!h),className:"w-20 h-15 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white font-semibold overflow-hidden border-2 border-white/50 hover:border-white transition-all shadow-md hover:shadow-lg cursor-pointer",children:e.avatar_url?i.jsx("img",{src:uu(e.avatar_url),alt:"Avatar",className:"w-full h-full object-cover",onError:o=>{o.currentTarget.style.display="none",o.currentTarget.parentElement.textContent=e.username.charAt(0).toUpperCase()}}):e.username.charAt(0).toUpperCase()}),h&&i.jsxs("div",{ref:p,className:"absolute right-0 mt-2 w-52 bg-white/95 backdrop-blur-lg rounded-lg shadow-xl border border-white/50 z-50 overflow-hidden",children:[i.jsx("div",{className:"px-4 pt-3 pb-2 border-b border-gray-100",children:i.jsxs("p",{className:"text-gray-800 font-medium",children:["Sup, ",e.username,"!"]})}),i.jsxs("div",{className:"py-1",children:[i.jsxs("button",{onClick:()=>{e!=null&&e.is_guest||(l("profile"),m(!1))},title:e!=null&&e.is_guest?"Register to access Profile":void 0,className:`w-full text-left px-4 py-2 transition-colors flex items-center space-x-2 ${e!=null&&e.is_guest?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-blue-50 cursor-pointer"}`,children:[i.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"}),i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),i.jsx("span",{children:"Profile"})]}),i.jsx("hr",{className:"my-1 border-gray-200"}),i.jsxs("button",{onClick:()=>{e!=null&&e.is_guest||(l("settings"),m(!1))},title:e!=null&&e.is_guest?"Register to access Settings":void 0,className:`w-full text-left px-4 py-2 transition-colors flex items-center space-x-2 ${e!=null&&e.is_guest?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-blue-50 cursor-pointer"}`,children:[i.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),i.jsx("span",{children:"Settings"})]}),i.jsx("hr",{className:"my-1 border-gray-200"}),i.jsxs("button",{onClick:()=>{n(),m(!1)},className:"w-full text-left px-4 py-2 text-red-600 hover:bg-red-50 transition-colors flex items-center space-x-2",children:[i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),i.jsx("span",{children:"Logout"})]})]})]})]}):i.jsx("button",{ref:v,onClick:()=>u(!c),className:"px-4 py-2 rounded-md border-2 border-blue-600 bg-blue-600/80 text-white hover:bg-blue-600 backdrop-blur-sm transition-colors",children:c?"Close":"Login / Register"})})]})})}),c&&!e&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-[1px] z-[998]",onClick:()=>u(!1)}),i.jsxs("div",{ref:g,className:"fixed top-20 right-4 bg-white/95 backdrop-blur-lg rounded-xl shadow-2xl border border-white/50 z-[999] w-96 max-w-[calc(100vw-2rem)] max-h-[calc(100vh-6rem)] overflow-hidden",children:[i.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-white/30 bg-white/80 rounded-t-xl",children:[i.jsxs("div",{className:"flex space-x-2",children:[i.jsx("button",{onClick:()=>y("login"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${d==="login"?"bg-blue-500 text-white shadow-md":"bg-white/60 text-gray-700 hover:bg-white/80"}`,children:"Login"}),i.jsx("button",{onClick:()=>y("register"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${d==="register"?"bg-blue-500 text-white shadow-md":"bg-white/60 text-gray-700 hover:bg-white/80"}`,children:"Register"})]}),i.jsx("div",{className:"flex items-center space-x-2",children:i.jsx("button",{onClick:()=>u(!1),className:"text-gray-400 hover:text-gray-600 text-sm bg-white/60 hover:bg-white/80 w-8 h-8 flex items-center justify-center rounded-full transition-all",title:"Close (ESC)",children:""})})]}),i.jsx("div",{className:"p-6 overflow-y-auto max-h-[60vh]",children:d==="login"?i.jsx(jm,{onLoginSuccess:f,onSwitchToRegister:()=>y("register"),isInPanel:!0}):i.jsx(Nm,{onSwitchToLogin:()=>y("login"),isInPanel:!0})}),i.jsx("div",{className:"px-4 py-2 border-t border-white/30 bg-white/60 rounded-b-xl",children:i.jsx("p",{className:"text-xs text-gray-500 text-center",children:"Press ESC or click outside to close  Auto-closes in 30s"})})]})]}),i.jsxs("main",{className:"flex-1 flex min-h-0 overflow-hidden",children:[i.jsx("div",{className:"flex-1 p-4 border-r border-white/20 overflow-hidden",children:i.jsx("div",{className:"bg-white/50 backdrop-blur-sm rounded-lg shadow-sm border border-white/20 h-full overflow-hidden",children:i.jsx("div",{className:"h-full overflow-y-auto",children:r})})}),i.jsxs("div",{className:"w-80 bg-white/50 backdrop-blur-sm border-l border-white/20 flex flex-col overflow-hidden",children:[i.jsx("div",{className:"p-4 border-b border-white/20 bg-white/30 backdrop-blur-sm flex-shrink-0",children:i.jsx("h3",{className:"font-semibold text-gray-900",children:"Chat"})}),i.jsx("div",{className:"flex-1 min-h-0 overflow-hidden",children:e?i.jsx(_y,{user:e,navigateToUserProfile:s}):i.jsx("div",{className:"h-full flex flex-col items-center justify-center text-gray-900 p-4",children:i.jsx("p",{className:"text-center mb-2",children:"Login to join the chat"})})})]})]}),i.jsx("footer",{className:"bg-gray-900/80 backdrop-blur-sm text-white h-6 flex items-center px-4 flex-shrink-0 border-t border-white/10 z-30",children:i.jsxs("div",{className:"text-xs",children:["Status: ",e?`Connected as ${e.username}`:"Browsing as guest"," | Current Page: ",t.charAt(0).toUpperCase()+t.slice(1),c&&" | Auth panel open"]})})]})},$l=["#00FFFF","#FF00FF","#00FF00","#FF6B6B","#9D4EDD","#FFE66D"],Ly=()=>{const e=b.useRef(null),t=b.useRef([]),l=b.useRef([]),a=b.useRef(),n=12,s=130,r=b.useCallback((y,h)=>{const m=[],g=[];for(let v=0;v<h;v++){m[v]=[],g[v]=[];for(let p=0;p<y;p++)m[v][p]=Math.random()>.75?1:0,g[v][p]=$l[Math.floor(Math.random()*$l.length)]}t.current=m,l.current=g},[]),c=b.useCallback((y,h,m,g,v)=>{let p=0;for(let N=-1;N<=1;N++)for(let f=-1;f<=1;f++){if(N===0&&f===0)continue;const o=(m+N+g)%g,x=(h+f+v)%v;p+=y[o][x]}return p},[]),u=b.useCallback(()=>{const y=t.current,h=l.current;if(!y.length)return;const m=y.length,g=y[0].length,v=[],p=[];for(let N=0;N<m;N++){v[N]=[],p[N]=[];for(let f=0;f<g;f++){const o=c(y,f,N,m,g),x=y[N][f];x&&(o===2||o===3)?(v[N][f]=1,p[N][f]=h[N][f]):!x&&o===3?(v[N][f]=1,p[N][f]=$l[Math.floor(Math.random()*$l.length)]):(v[N][f]=0,p[N][f]=h[N][f])}}if(Math.random()>.45){const N=Math.floor(Math.random()*m),f=Math.floor(Math.random()*g);for(let o=0;o<Math.min(3,m);o++)for(let x=0;x<Math.min(3,g);x++){const j=(N+o)%m,E=(f+x)%g;v[j][E]=1,p[j][E]=$l[Math.floor(Math.random()*$l.length)]}}t.current=v,l.current=p},[c]),d=b.useCallback(y=>{const h=t.current,m=l.current;if(!h.length)return;y.fillStyle="rgba(0, 0, 0, 0.18)",y.fillRect(0,0,y.canvas.width,y.canvas.height);const g=h.length,v=h[0].length;for(let p=0;p<g;p++)for(let N=0;N<v;N++)h[p][N]&&(y.beginPath(),y.fillStyle=m[p][N],y.shadowColor=m[p][N],y.shadowBlur=8,y.arc(N*n+n/2,p*n+n/2,n/3,0,Math.PI*2),y.fill(),y.shadowBlur=0)},[]);return b.useEffect(()=>{const y=e.current;if(!y)return;const h=y.getContext("2d");if(!h)return;const m=()=>{y.width=y.offsetWidth,y.height=y.offsetHeight;const p=Math.ceil(y.width/n),N=Math.ceil(y.height/n);r(p,N)};m(),window.addEventListener("resize",m);let g=0;const v=p=>{p-g>s&&(u(),g=p),d(h),a.current=requestAnimationFrame(v)};return a.current=requestAnimationFrame(v),()=>{window.removeEventListener("resize",m),a.current&&cancelAnimationFrame(a.current)}},[r,u,d]),i.jsx("canvas",{ref:e,className:"absolute inset-0 w-full h-full opacity-80"})},ar=({items:e,direction:t="left",speed:l=25})=>{const a=t==="left"?"animate-marquee-left":"animate-marquee-right",n=[...e,...e,...e,...e];return i.jsx("div",{className:"w-full overflow-hidden",children:i.jsx("div",{className:`flex w-max ${a}`,style:{animationDuration:`${l}s`},children:n.map((s,r)=>i.jsx("div",{className:"flex-shrink-0 px-6 py-3 mx-2 bg-black/40 backdrop-blur-xl border border-white/10 rounded-lg text-white/90 font-medium whitespace-nowrap",children:s},r))})})},nr=["#00FFFF","#FF00FF","#00FF00","#FF6B6B","#9D4EDD","#FFE66D"],By=({children:e})=>{const[t,l]=b.useState(0);b.useEffect(()=>{const r=setInterval(()=>{l(c=>(c+1)%nr.length)},2e3);return()=>clearInterval(r)},[]);const a=["Local Play","Tournament Mode","Online Functionalities","Leaderboards","AI Opponents"],n=["Customizable Avatars","Match History","Friend System","2FA Security","GDPR Compliance"],s=["Classic Pong","Pls pass us","Fast Matches","Chat","Anonymous Mode"];return i.jsxs("div",{className:"min-h-screen w-full relative overflow-hidden",children:[i.jsx("div",{className:"fixed inset-0 z-0",children:i.jsx(Ly,{})}),i.jsx("div",{className:"fixed inset-0 z-[1] bg-black/40"}),i.jsx("div",{className:"fixed top-6 left-6 z-50",children:i.jsx("img",{src:"/ping-pong-icon.png",alt:"Pong Logo",className:"h-16 w-auto object-contain transition-[filter] duration-700",style:{filter:`brightness(0) invert(1) drop-shadow(0 0 12px ${nr[t]}) drop-shadow(0 0 4px ${nr[t]})`}})}),i.jsx("div",{className:"relative z-30 min-h-screen flex flex-col items-center pt-20 px-4",children:i.jsxs("div",{className:"w-full max-w-md bg-black/30 backdrop-blur-xl border border-white/10 rounded-2xl p-8 shadow-2xl",children:[i.jsxs("div",{className:"mb-6 text-center",children:[i.jsx("h1",{className:"text-2xl font-bold text-white",children:"Transcendence"}),i.jsx("p",{className:"text-white/50 mt-1 text-sm",children:"A homage to the pioneer of games."})]}),e]})}),i.jsxs("div",{className:"fixed bottom-12 left-0 right-0 z-20 flex flex-col gap-3",children:[i.jsx(ar,{items:a,direction:"left",speed:30}),i.jsx(ar,{items:n,direction:"right",speed:35}),i.jsx(ar,{items:s,direction:"left",speed:28})]}),i.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-30 px-8 py-2",children:i.jsxs("div",{className:"flex items-center justify-center gap-2 text-white/80 text-xs",children:[i.jsx("span",{children:"Made at"}),i.jsx("img",{src:"/logo_codam_white.png",alt:"Codam Logo",className:"h-4 w-auto object-contain invert-0 opacity-70"})]})})]})},ky=({username:e})=>{const[t,l]=b.useState(null),[a,n]=b.useState(!0);b.useEffect(()=>{e&&s()},[e]);const s=async()=>{n(!0);try{const u=await re(`/api/users/profile/${e}`);if(u.ok){const d=await u.json();l(d.profile)}else u.status===404&&alert("User not found")}catch(u){console.error("Failed to fetch profile:",u)}finally{n(!1)}},r=u=>{if(u)return u.includes("/uploads/avatars/")?`/api/avatars/${u.split("/").pop()}`:u.includes("/")?`/api/avatars/${u}`:`/api/avatars/${u}`};if(a)return i.jsxs("div",{className:"p-6 text-center",children:[i.jsxs("div",{className:"animate-pulse",children:[i.jsx("div",{className:"bg-gray-200 h-8 w-48 mx-auto mb-4 rounded"}),i.jsx("div",{className:"bg-gray-200 h-20 w-20 mx-auto mb-4 rounded-full"})]}),i.jsx("p",{className:"text-gray-500 mt-4",children:"Loading profile..."})]});if(!t)return i.jsx("div",{className:"p-6 text-center",children:i.jsx("p",{className:"text-gray-500",children:"Profile not found"})});if(t.is_anonymous)return i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"bg-yellow-50 border-2 border-yellow-200 rounded-lg p-8 mb-6",children:[i.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[i.jsx("div",{className:"w-16 h-16 bg-gray-400 rounded-full flex items-center justify-center",children:i.jsx("svg",{className:"w-8 h-8 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-yellow-900",children:"Anonymous User"}),i.jsx("p",{className:"text-yellow-700",children:"This user has chosen to keep their profile private"})]})]}),t.anonymized_at&&i.jsxs("p",{className:"text-sm text-yellow-600 mt-2",children:["Anonymized on: ",new Date(t.anonymized_at).toLocaleDateString()]})]}),i.jsxs("div",{className:"bg-white p-6 rounded-lg shadow border border-gray-200",children:[i.jsx("h3",{className:"text-xl font-semibold mb-4 text-gray-900",children:"Game Statistics"}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"bg-green-50 p-4 rounded-lg text-center",children:[i.jsx("div",{className:"text-3xl font-bold text-green-600",children:t.wins||0}),i.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Wins"})]}),i.jsxs("div",{className:"bg-red-50 p-4 rounded-lg text-center",children:[i.jsx("div",{className:"text-3xl font-bold text-red-600",children:t.losses||0}),i.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Losses"})]}),i.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg text-center",children:[i.jsx("div",{className:"text-3xl font-bold text-blue-600",children:t.total_games||0}),i.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Total Games"})]}),i.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg text-center",children:[i.jsx("div",{className:"text-3xl font-bold text-purple-600",children:t.winRate||"0%"}),i.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Win Rate"})]})]})]})]});const c=r(t.avatar_url);return i.jsxs("div",{className:"p-6",children:[i.jsx("div",{className:"flex justify-between items-center mb-6",children:i.jsxs("h1",{className:"text-3xl font-bold text-gray-900",children:[t.username,"'s Profile"]})}),i.jsx("div",{className:"bg-gray-50 rounded-lg p-6 mb-6",children:i.jsxs("div",{className:"flex items-start space-x-6",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx("div",{className:"w-20 h-20 bg-blue-500 rounded-full flex items-center justify-center overflow-hidden",children:t.avatar_url?i.jsx("img",{src:c||void 0,alt:"Avatar",className:"w-full h-full object-cover"}):i.jsx("span",{className:"text-2xl font-bold text-white",children:t.username.charAt(0).toUpperCase()})})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:t.display_name||t.username}),t.nickname&&i.jsxs("p",{className:"text-lg text-gray-600",children:["@",t.nickname]}),i.jsxs("p",{className:"text-gray-500",children:["Username: ",t.username]})]})]})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"bg-white p-6 rounded-lg shadow border border-gray-200",children:[i.jsx("h3",{className:"text-xl font-semibold mb-4 text-gray-900",children:"Game Statistics"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded",children:[i.jsx("span",{className:"font-medium text-green-700",children:"Wins"}),i.jsx("span",{className:"text-2xl font-bold text-green-600",children:t.wins||0})]}),i.jsxs("div",{className:"flex justify-between items-center p-3 bg-red-50 rounded",children:[i.jsx("span",{className:"font-medium text-red-700",children:"Losses"}),i.jsx("span",{className:"text-2xl font-bold text-red-600",children:t.losses||0})]}),i.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded",children:[i.jsx("span",{className:"font-medium text-blue-700",children:"Total Games"}),i.jsx("span",{className:"text-2xl font-bold text-blue-600",children:t.total_games||0})]}),i.jsxs("div",{className:"flex justify-between items-center p-3 bg-purple-50 rounded",children:[i.jsx("span",{className:"font-medium text-purple-700",children:"Win Rate"}),i.jsx("span",{className:"text-2xl font-bold text-purple-600",children:t.winRate||"0%"})]})]})]}),i.jsxs("div",{className:"bg-white p-6 rounded-lg shadow border border-gray-200",children:[i.jsx("h3",{className:"text-xl font-semibold mb-4 text-gray-900",children:"User Information"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"border-b pb-2",children:[i.jsx("span",{className:"text-sm text-gray-500",children:"Username"}),i.jsx("p",{className:"font-medium",children:t.username})]}),t.nickname&&i.jsxs("div",{className:"border-b pb-2",children:[i.jsx("span",{className:"text-sm text-gray-500",children:"Nickname"}),i.jsxs("p",{className:"font-medium",children:["@",t.nickname]})]}),t.display_name&&i.jsxs("div",{className:"border-b pb-2",children:[i.jsx("span",{className:"text-sm text-gray-500",children:"Display Name"}),i.jsx("p",{className:"font-medium",children:t.display_name})]})]})]})]})]})},Hy=({user:e})=>i.jsxs("div",{className:"p-6",children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Welcome to ft_transcendence"}),e?i.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:i.jsxs("p",{className:"text-blue-800",children:["Hello, ",i.jsx("strong",{children:e.username}),"! Welcome back."]})}):i.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4 mb-6",children:i.jsx("p",{className:"text-gray-700",children:"Welcome! You're browsing as a guest. Login or register to access all features."})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"bg-white p-6 rounded-lg shadow border border-gray-200",children:[i.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Play Game"}),i.jsx("p",{className:"text-gray-600 mb-4",children:"Start a new Pong game with other players."}),i.jsx("button",{className:`px-4 py-2 rounded ${e?"bg-blue-500 text-white hover:bg-blue-600":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,disabled:!e,children:e?"Play Now":"Login to Play"})]}),i.jsxs("div",{className:"bg-white p-6 rounded-lg shadow border border-gray-200",children:[i.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Leaderboard"}),i.jsx("p",{className:"text-gray-600 mb-4",children:"Check rankings of all players."}),i.jsx("button",{className:"bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600",children:"View Rankings"})]}),i.jsxs("div",{className:"bg-white p-6 rounded-lg shadow border border-gray-200",children:[i.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Tournaments"}),i.jsx("p",{className:"text-gray-600 mb-4",children:"Browse competitive tournaments."}),i.jsx("button",{className:"bg-purple-500 text-white px-4 py-2 rounded hover:bg-purple-600",children:"Browse Tournaments"})]})]})]});class Yy{constructor(t,l,a,n,s,r,c,u,d){this.trailLen=9,this.x=t,this.y=l,this.dirVector=a,this.radius=n,this.movementSpeed=s,this.color=r,this.speedX=c,this.maxSpeed=u,this.trailPos=new Array(this.trailLen),this.trailColors=d}drawTrail(t){const l=this.trailLen/this.trailColors.length;let a=0,n=0;for(;n<this.trailLen;){const s=this.trailPos[n];s!==void 0&&(this.drawHelper(t,this.trailColors[a],s.x+this.radius,s.y+this.radius,this.radius*(n/this.trailLen)),n%l-1===0&&a++),n++}}appendPos(t){this.trailPos.shift(),this.trailPos[this.trailLen-1]=t}drawHelper(t,l,a,n,s){t.fillStyle=l,t.beginPath(),t.arc(a,n,s,0,Math.PI*2,!0),t.closePath(),t.fill()}draw(t){this.drawTrail(t),this.drawHelper(t,this.color,this.x+this.radius,this.y+this.radius,this.radius)}drawHitbox(t,l){mn(t),t.strokeStyle=l,t.strokeRect(this.x,this.y,this.radius*2,this.radius*2)}setStart(t){this.x=wt/2-this.radius,this.y=bt/2-this.radius,this.dirVector=t}reset(){this.trailPos=new Array(this.trailLen)}}class qy{constructor(t,l,a,n,s,r){this.upPressed=!1,this.downPressed=!1,this.x=t,this.y=l,this.width=a,this.height=n,this.yVector=s,this.color=r}moveUp(){let t=this.y-this.yVector;t<0&&(t=0),this.y=t}moveDown(){let t=this.y+this.yVector;t+this.height>bt&&(t=bt-this.height),this.y=t}update(){this.downPressed&&this.moveDown(),this.upPressed&&this.moveUp()}draw(t){t.fillStyle=this.color,t.fillRect(this.x,this.y,this.width,this.height)}}var Wo;(e=>{(t=>{t[t.Top=0]="Top",t[t.Bottom=1]="Bottom",t[t.Left=2]="Left",t[t.Right=3]="Right",t[t.None=4]="None"})(e.hitSide||(e.hitSide={}))})(Wo||(Wo={}));var Sm=(e=>(e[e.Easy=0]="Easy",e[e.Normal=1]="Normal",e[e.Hard=2]="Hard",e))(Sm||{});function Gy(e,t){let l=null;return l=dl(e,t,{x:wt-Le,y:-Le},{x:wt-Le,y:bt+Le},"right"),l!==null||(l=dl(e,t,{x:Le,y:-Le},{x:Le,y:bt+Le},"left"),l!==null)||(l=dl(e,t,{x:0,y:Le},{x:wt,y:Le},"top"),l!==null)||(l=dl(e,t,{x:0,y:bt-Le},{x:wt,y:bt-Le},"bottom")),l}class Xy{constructor(t,l){switch(this.msSinceLastAction=0,this.centreY=0,this.targetY=0,this.lastBallXDir=1,this.lastBallY=0,this.rayPoints=new Array,this.maxRayDistance=Math.sqrt(Math.pow(wt,2)+Math.pow(bt,2)),this.maxRayIters=10,this.centreY=bt/2-t.height/2,this.difficultyLevel=l,this.difficultyLevel){case 0:this.levelModifier=.2;break;case 1:this.levelModifier=.6;break;case 2:this.levelModifier=.8;break}}moveTo(t,l){if(this.coversCentreTargetY(t,l))return;t-(l.y+l.height/2)<0?l.moveUp():l.moveDown()}coversCentreTargetY(t,l){const a=l.height*.3333333333333333;return t>l.y+a&&t<l.y+a*2}moveToTargetPoint(t){this.moveTo(this.targetY,t)}getTargetPoint(t,l){let a=null,n=new Qe(t.x+t.radius,t.y+t.radius),s=new Am(t.dirVector.x,t.dirVector.y),r=new Qe(n.x,n.y),c=0;for(this.rayPoints=[],this.rayPoints.push(n);c<this.maxRayIters&&a===null;){const h=Math.atan2(s.y,s.x);r.x+=Math.cos(h)*this.maxRayDistance,r.y+=Math.sin(h)*this.maxRayDistance,this.rayPoints.push(r);const m=Gy(n,r);if(m===null)return null;switch(m[1]){case"bottom":case"top":s.y=-s.y;break;case"left":s.x=-s.x;break;case"right":a=m[0];break}n=m[0],this.rayPoints.push(n),r={x:n.x,y:n.y},c++}if(a===null)return null;if(!(Math.random()>this.levelModifier))return a.y;const d=Math.random()>.5,y=Math.random()*(l.height*2);return d?a.y-y:a.y+y}update(t,l,a){if(this.moveToTargetPoint(a),this.msSinceLastAction+=t,this.msSinceLastAction<1e3)return;this.lastBallXDir=l.dirVector.x,this.lastBallY=l.y,this.msSinceLastAction=0;const n=this.getTargetPoint(l,a);n===null?this.targetY=l.y+l.radius:this.targetY=n}drawRays(t){t.fillStyle="black";let l=0;if(this.rayPoints.length!==0){for(t.moveTo(this.rayPoints[0].x,this.rayPoints[0].y),l++;l<this.rayPoints.length;){const a=this.rayPoints[l];t.lineTo(a.x,a.y),l++}t.stroke()}}}class wm{constructor(t,l,a,n,s,r){this.roundScore=0,this.gameScore=0,this.paddle=new qy(t,l,a,n,s,r),this.humanControlled=!0,this.ai=void 0}setAI(t){this.humanControlled=!1,this.ai=new Xy(this.paddle,t)}}class Qy{constructor(t,l){this.gameOfflineUpdate=t,this.gameOnlineUpdate=l}reset(){this.gameOfflineUpdate!==void 0&&clearInterval(this.gameOfflineUpdate),this.gameOnlineUpdate!==void 0&&clearInterval(this.gameOnlineUpdate)}}const wt=1024,bt=768,Po=3,Le=15,pa=Le*2,Vy=60,Zy=3e3,vt=1e3/Vy,Jy=.25,Ky=.5,Em=Jy*vt,Tm=Ky*vt,se=new Yy(0,0,{x:1,y:1},Le,Em,"#160f29",0,7.5,new Array("#ffffff","#cdc3e9","#9c88d3")),Q=new wm(0,0,pa,pa*4,Tm,"#5885a2"),W=new wm(wt-pa,0,pa,pa*4,Tm,"#b8383b"),ou=new Qy,Io="#36454f";function Fy(){se.x=0,se.y=0,se.dirVector.x=1,se.dirVector.y=1,se.radius=Le,se.movementSpeed=Em,se.color="#160f29",se.speedX=0,se.maxSpeed=7.5,se.reset()}function $y(){Q.paddle.x=0,Q.paddle.y=0,Q.roundScore=0,Q.gameScore=0,Q.ai=void 0,Q.humanControlled=!0}function Wy(){W.paddle.x=wt-pa,W.paddle.y=0,W.roundScore=0,W.gameScore=0,W.ai=void 0,W.humanControlled=!0}function Py(){Fy(),$y(),Wy(),ou.reset()}class Am{constructor(t,l){this.x=t,this.y=l}}class Qe{constructor(t,l){this.x=t,this.y=l}}function mn(e){if(e===null)throw new Error("val cannot be null")}function dl(e,t,l,a,n){const s=(t.x-e.x)*(a.y-l.y)-(t.y-e.y)*(a.x-l.x);if(s===0)return null;const r=((e.y-l.y)*(a.x-l.x)-(e.x-l.x)*(a.y-l.y))/s,c=((e.y-l.y)*(t.x-e.x)-(e.x-l.x)*(t.y-e.y))/s;if(r>=0&&r<=1&&c>=0&&c<=1){const u=e.x+r*(t.x-e.x),d=e.y+r*(t.y-e.y);return[new Qe(u,d),n]}return null}function Iy(e,t,l,a){let n=null;return a.dirVector.x<0?n=dl(e,t,new Qe(l.x+l.width+a.radius,l.y-a.radius),new Qe(l.x+l.width+a.radius,l.y+l.height+a.radius),"right"):a.dirVector.x>0&&(n=dl(e,t,new Qe(l.x-a.radius,l.y-a.radius),new Qe(l.x-a.radius,l.y+l.height+a.radius),"left")),n===null&&(a.dirVector.y<0?n=dl(e,t,new Qe(l.x-a.radius,l.y+l.height+a.radius),new Qe(l.x+l.width+a.radius,l.y+l.height+a.radius),"bottom"):a.dirVector.y>0&&(n=dl(e,t,new Qe(l.x-a.radius,l.y-a.radius),new Qe(l.x+l.width+a.radius,l.y+l.width-a.radius),"top"))),n}function eb(e){return e.y+e.dirVector.y*e.movementSpeed>bt-e.radius*2||e.y+e.dirVector.y*e.movementSpeed<0}function tb(e){eb(e)&&(e.dirVector.y=-e.dirVector.y)}function lb(e,t,l,a,n,s,r){let c=0;for(const u of r)e.fillStyle=n,e.font=`${t}px ${s}`,e.fillText(u,l,a+c*t*1.1),c++;e.fillStyle=n}function Cm(e,t,l,a,n,s,r){t.font=`${l}px ${n}`,t.textAlign="center",t.fillStyle=a,t.fillText(r.toString(),e.width*.25,e.height*.1),t.fillText(s.toString(),e.width*.75,e.height*.1)}async function ab(e,t,l,a,n){const s=15.151515151515152;let r=0,c=0,u=0;function d(M){switch(M.key){case"ArrowDown":Q.paddle.downPressed=!0;break;case"ArrowUp":Q.paddle.upPressed=!0;break;case"s":Q.paddle.downPressed=!0;break;case"w":Q.paddle.upPressed=!0;break}M.preventDefault()}function y(M){switch(M.key){case"ArrowDown":Q.paddle.downPressed=!1;break;case"ArrowUp":Q.paddle.upPressed=!1;break;case"s":Q.paddle.downPressed=!1;break;case"w":Q.paddle.upPressed=!1;break}M.preventDefault()}function h(){const M=+new Date;if(Q.paddle.downPressed){const L={type:"MOVE_DOWN",timestamp:M};Q.paddle.moveDown(),n.send(JSON.stringify(L)),S.push(L)}if(Q.paddle.upPressed){const L={type:"MOVE_UP",timestamp:M};Q.paddle.moveUp(),n.send(JSON.stringify(L)),S.push(L)}}class m{constructor(L,$){this.x=L,this.y=$}}function g(M,L){return new m(M.x-L.x,M.y-L.y)}function v(M){if(E===void 0)return;const L=vt*(1+N/1e3);M.appendPos(new m(M.x,M.y)),M.x+=E.x*L,M.y+=E.y*L}function p(){if(_===void 0)return;const M=vt*(1+N/1e3);W.paddle.y+=_.y*M}let N,f,o;function x(){f=performance.now(),o===void 0&&(o=f),N=f-o,N>vt&&(h(),p(),o=f-N%vt,v(se));const M=Date.now();(r===0||M-r>Zy)&&(n.send(JSON.stringify({type:"HEARTBEAT",timestamp:M})),r=M)}function j(){requestAnimationFrame(j),t.clearRect(0,0,e.width,e.height),a.clearRect(0,0,e.width,e.height),a.fillStyle="white",a.fillRect(0,0,e.width,e.height),se.draw(a),Q.paddle.draw(a),W.paddle.draw(a),Cm(e,a,48,"#36454f","sans-serif",u,c),t.drawImage(l,0,0)}let E,_,S=new Array;function A(M){let L=0;if(S.length!==0){for(;L<S.length;){const $=S[L];if($.timestamp>=M)break;$.type==="MOVE_UP"?Q.paddle.moveUp():$.type==="MOVE_DOWN"&&Q.paddle.moveDown(),L++}S.splice(0,L)}}let C=0,O=!1,B=0;async function P(M){const L=JSON.parse(M.data);console.log(" WebSocket message received:",L.type,L);const $=L.p1,z=L.p2,R=L.ball;switch(L.type){case"STATE":E=g(new m(R.x,R.y),new m(se.x,se.y)),E.x/=s,E.y/=s,O&&B++,B===2&&(E.x=0,E.y=0,se.x=R.x,se.y=R.y,B=0,O=!1),C===1?(_=g(new m(z.x,z.y),new m(W.paddle.x,W.paddle.y)),Q.paddle.x=$.x,Q.paddle.y=$.y,A($.last_ts)):(_=g(new m($.x,$.y),new m(W.paddle.x,W.paddle.y)),Q.paddle.x=z.x,Q.paddle.y=z.y,A(z.last_ts)),_.y/=s;break;case"LOBBY_WAIT":console.log("Waiting for other players to connect...");break;case"ID":if(C=L.player_id,C===2){const U=Q.paddle.color;Q.paddle.x=e.width-Q.paddle.width,Q.paddle.y=0,Q.paddle.color=W.paddle.color,W.paddle.x=0,W.paddle.y=0,W.paddle.color=U}console.log(`You are player ${C}`);break;case"SCORE":switch(O=!0,L.scored_by){case"p1":c++;break;case"p2":u++;break}break;case"OPPONENT_DISCONNECT":alert("Your opponent disconnected, giving you a default win");break;default:console.log(`Unrecognized message type: ${L.type}`)}}n.onmessage=P,e.addEventListener("keydown",d),e.addEventListener("keyup",y),se.x=e.width/2,se.y=e.height/2,requestAnimationFrame(j),ou.gameOnlineUpdate=setInterval(x,vt)}async function nb(e,t,l,a,n){let s,r,c,u=!1;function d(x){switch(x.key){case"ArrowDown":Q.paddle.downPressed=!0;break;case"ArrowUp":Q.paddle.upPressed=!0;break;case"s":W.paddle.downPressed=!0;break;case"w":W.paddle.upPressed=!0;break;case" ":if(o.state!==1)break;u=!0;break}x.preventDefault()}function y(x){switch(x.key){case"ArrowDown":Q.paddle.downPressed=!1;break;case"ArrowUp":Q.paddle.upPressed=!1;break;case"s":W.paddle.downPressed=!1;break;case"w":W.paddle.upPressed=!1;break;case" ":if(o.state!==1)break;u=!1}x.preventDefault()}function h(x,j,E){const _=new Qe(x.x+x.radius,x.y+x.radius),S=new Qe(_.x+x.dirVector.x*x.movementSpeed,_.y+x.dirVector.y*x.movementSpeed);x.appendPos(new Qe(x.x,x.y)),x.x=S.x-x.radius,x.y=S.y-x.radius;let A=null;if(x.dirVector.x<0?A=j:x.dirVector.x>0&&(A=E),A===null)return;const C=Iy(_,S,A,x);if(C===null){tb(x);return}const O=C[0];switch(C[1]){case"left":case"right":x.dirVector.x*=-1,x.x=O.x-x.radius;break;case"bottom":case"top":x.dirVector.y*=-1,x.y=O.y-x.radius;break}}function m(){return se.x+se.radius*4<0}function g(){return se.x-se.radius*4>wt}function v(){return new Am(Math.random()<.5?-1:1,Math.random()<.5?-1:1)}let p;(x=>{x[x.Start=0]="Start",x[x.RoundEnd=1]="RoundEnd",x[x.GameEnd=2]="GameEnd",x[x.ActiveRound=3]="ActiveRound"})(p||(p={}));function N(){if(c=performance.now(),r===void 0&&(r=c),s=c-r,s>vt){if(r=c-s%vt,o.state===1)if(u)o.state=3,Q.roundScore=0,W.roundScore=0,se.movementSpeed=5,u=!1;else return;h(se,Q.paddle,W.paddle),Q.paddle.update(),W.humanControlled?W.paddle.update():(mn(W.ai),W.ai.update(s,se,W.paddle)),m()&&(Q.roundScore++,o.state=1),g()&&(W.roundScore++,o.state=1),o.state===1&&(se.setStart(v()),o.state=3),(Q.roundScore===Po||W.roundScore===Po)&&(o.state=1)}}function f(){requestAnimationFrame(f),l.clearRect(0,0,t.width,t.height),n.clearRect(0,0,t.width,t.height),n.fillStyle="white",n.fillRect(0,0,t.width,t.height),se.draw(n),Q.paddle.draw(n),W.paddle.draw(n),Cm(t,n,48,Io,"sans-serif",Q.roundScore,W.roundScore),o.state===1&&(n.textAlign="center",lb(n,48,wt/2,bt*.8,Io,"sans-serif",Array("Press spacebar to continue..."))),l.drawImage(a,0,0)}t.addEventListener("keydown",d),t.addEventListener("keyup",y),e==="singleplayer"&&W.setAI(Sm.Normal);const o={state:0};se.setStart(v()),requestAnimationFrame(f),ou.gameOfflineUpdate=setInterval(N,vt)}async function sb(e,t){let l=document.getElementById("game-canvas");if(l===null){console.error("Canvas element not found! GameCanvas component must render first.");return}const a=l.getContext("2d",{alpha:!1});mn(a);const n=document.createElement("canvas");mn(n),l.setAttribute("tabindex","0"),l.setAttribute("width","1024"),l.setAttribute("height","768"),n.width=l.width,n.height=l.height;const s=n.getContext("2d",{alpha:!1});switch(mn(s),console.log(`GAMING MODE: ${e}`),e){case"singleplayer":case"multiplayer":await nb(e,l,a,n,s);break;case"online":await ab(l,a,n,s,t)}}function ib({mode:e,websocket:t}){return b.useEffect(()=>{async function l(){await sb(e,t.current)}return l(),()=>{const a=document.getElementById("game-canvas");a!==null&&a.remove(),Py()}},[]),i.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-900",children:i.jsx("canvas",{id:"game-canvas",className:"border-4 border-indigo-500 bg-white"})})}function Re({id:e,className:t,buttonName:l,onClick:a}){return i.jsx("button",{id:e,className:t,onClick:a,children:l})}function rb({onPlayLocal:e,onPlayOnline:t}){return i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-900 via-gray-800 to-black p-4",children:i.jsx("div",{className:"w-full max-w-md",children:i.jsxs("div",{className:"bg-gray-800 rounded-lg p-8 shadow-2xl border border-gray-700",children:[i.jsx("h2",{className:"text-3xl font-bold text-white mb-8 text-center",children:"Main Menu"}),i.jsxs("div",{className:"space-y-4",children:[i.jsx(Re,{id:"btn-play-local",className:"w-full p-4 bg-indigo-500 hover:bg-indigo-700 text-white font-bold rounded-lg",buttonName:"Play Local",onClick:e}),i.jsx(Re,{id:"btn-play-online",className:"w-full p-4 bg-indigo-500 hover:bg-indigo-700 text-white font-bold rounded-lg",buttonName:"Play Online",onClick:t})]})]})})})}function cb({onPlayRandom:e,onHostLobby:t,onJoinLobby:l,onTournament:a,onBack:n}){return i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-900 via-gray-800 to-black p-4",children:i.jsxs("div",{className:"w-full max-w-md",children:[i.jsx("button",{onClick:n,className:"text-gray-400 hover:text-white transition-colors mb-6 flex items-center gap-2",children:" Back"}),i.jsxs("div",{className:"bg-gray-800 rounded-lg p-8 shadow-2xl border border-gray-700",children:[i.jsx("h2",{className:"text-3xl font-bold text-white mb-8 text-center",children:"Online Multiplayer"}),i.jsxs("div",{className:"space-y-4",children:[i.jsx(Re,{id:"btn-play-random",className:"w-full p-4 bg-green-600 hover:bg-green-700 text-white font-bold rounded-lg",buttonName:"Play Random",onClick:e}),i.jsx(Re,{id:"btn-host-lobby",className:"w-full p-4 bg-blue-600 hover:bg-blue-700 text-white font-bold rounded-lg",buttonName:"Host Lobby",onClick:t}),i.jsx(Re,{id:"btn-join-lobby",className:"w-full p-4 bg-purple-600 hover:bg-purple-700 text-white font-bold rounded-lg",buttonName:"Join Lobby",onClick:l}),i.jsx(Re,{id:"btn-tournament",className:"w-full p-4 bg-yellow-600 hover:bg-yellow-700 text-white font-bold rounded-lg",buttonName:"Tournament",onClick:a})]})]})]})})}function ub({onSinglePlayer:e,onMultiPlayer:t,onBack:l}){return i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-900 via-gray-800 to-black p-4",children:i.jsxs("div",{className:"w-full max-w-md",children:[i.jsx("button",{onClick:l,className:"text-gray-400 hover:text-white transition-colors mb-6 flex items-center gap-2",children:" Back"}),i.jsxs("div",{className:"bg-gray-800 rounded-lg p-8 shadow-2xl border border-gray-700",children:[i.jsx("h2",{className:"text-3xl font-bold text-white mb-8 text-center",children:"Local Play"}),i.jsxs("div",{className:"space-y-4",children:[i.jsx(Re,{id:"btn-singleplayer",className:"w-full p-4 bg-blue-600 hover:bg-blue-700 text-white font-bold rounded-lg",buttonName:"Single Player",onClick:e}),i.jsx(Re,{id:"btn-multiplayer",className:"w-full p-4 bg-purple-600 hover:bg-purple-700 text-white font-bold rounded-lg",buttonName:"Multiplayer",onClick:t})]})]})]})})}function ob({onCopyLobby:e,onJoinOwn:t,lobbyId:l}){return i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-900 via-gray-800 to-black p-4",children:i.jsxs("div",{className:"w-full max-w-md bg-gray-800 rounded-lg p-8 shadow-2xl border border-gray-700",children:[i.jsx("h2",{className:"text-3xl font-bold text-white mb-6 text-center",children:"Host Lobby"}),i.jsx("input",{value:l,readOnly:!0,id:"req-lobby-id",className:"w-full border-2 border-indigo-500 p-3 rounded-lg text-center mb-4",placeholder:"requesting lobby..."}),i.jsxs("div",{className:"space-y-4",children:[i.jsx(Re,{id:"btn-copy-lobby",className:"w-full p-4 bg-indigo-500 hover:bg-indigo-700 text-white font-bold rounded-lg",buttonName:"Copy Lobby Code",onClick:e}),i.jsx(Re,{id:"btn-join-self",className:"w-full p-4 bg-green-600 hover:bg-green-700 text-white font-bold rounded-lg",buttonName:"Join",onClick:t})]})]})})}function db({onJoin:e}){return i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-900 via-gray-800 to-black p-4",children:i.jsxs("div",{className:"w-full max-w-md bg-gray-800 rounded-lg p-8 shadow-2xl border border-gray-700",children:[i.jsx("h2",{className:"text-3xl font-bold text-white mb-6 text-center",children:"Join Lobby"}),i.jsx("input",{id:"input-lobby-id",className:"w-full border-2 border-indigo-500 p-3 rounded-lg text-center mb-4",placeholder:"enter lobby code"}),i.jsx(Re,{id:"btn-join-other",className:"w-full p-4 bg-indigo-500 hover:bg-indigo-700 text-white font-bold rounded-lg",buttonName:"Join",onClick:e})]})})}function fb({onCancel:e}){const[t,l]=b.useState(0),[a,n]=b.useState(".");b.useEffect(()=>{const r=setInterval(()=>{l(c=>c+1)},1e3);return()=>clearInterval(r)},[]),b.useEffect(()=>{const r=setInterval(()=>{n(c=>c.length>=3?".":c+".")},500);return()=>clearInterval(r)},[]);const s=r=>{const c=Math.floor(r/60),u=r%60;return`${c.toString().padStart(2,"0")}:${u.toString().padStart(2,"0")}`};return i.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-black p-4",style:{backgroundImage:"linear-gradient(45deg, #1a1a2e 25%, transparent 25%, transparent 75%, #1a1a2e 75%, #1a1a2e), linear-gradient(45deg, #1a1a2e 25%, transparent 25%, transparent 75%, #1a1a2e 75%, #1a1a2e)",backgroundSize:"40px 40px",backgroundPosition:"0 0, 20px 20px"},children:[i.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{backgroundImage:"repeating-linear-gradient(0deg, rgba(0,0,0,0.15) 0px, rgba(0,0,0,0.15) 1px, transparent 1px, transparent 2px)"}}),i.jsxs("div",{className:"relative z-10 text-center max-w-2xl",children:[i.jsx("h1",{className:"text-6xl font-black mb-8 text-center",style:{color:"#00ff00",textShadow:"0 0 10px #00ff00, 0 0 20px #00ff00, 3px 3px 0 #ff00ff",fontFamily:"monospace",letterSpacing:"4px"},children:"SEARCHING"}),i.jsxs("div",{className:"border-4 border-cyan-400 p-12 mb-8 bg-gray-900",style:{boxShadow:"inset 0 0 10px rgba(0,255,255,0.3), 0 0 20px rgba(0,255,255,0.5)"},children:[i.jsxs("div",{className:"mb-8",children:[i.jsxs("div",{className:"flex justify-center gap-4 mb-8",children:[i.jsx("div",{className:"w-6 h-6 border-2 border-cyan-400 rounded-full",style:{animation:"pulse 1s ease-in-out infinite",animationDelay:"0s"}}),i.jsx("div",{className:"w-6 h-6 border-2 border-cyan-400 rounded-full",style:{animation:"pulse 1s ease-in-out infinite",animationDelay:"0.2s"}}),i.jsx("div",{className:"w-6 h-6 border-2 border-cyan-400 rounded-full",style:{animation:"pulse 1s ease-in-out infinite",animationDelay:"0.4s"}})]}),i.jsxs("p",{className:"text-cyan-300 text-2xl font-bold uppercase",style:{fontFamily:"monospace",textShadow:"0 0 10px #00ffff",letterSpacing:"2px",height:"40px"},children:["Looking for opponent",a]})]}),i.jsxs("div",{className:"bg-purple-900 border-4 border-purple-500 rounded-none p-6 mb-8",style:{boxShadow:"0 0 15px rgba(168,85,247,0.5)",fontFamily:"monospace"},children:[i.jsx("p",{className:"text-purple-200 text-sm font-bold mb-2 uppercase",children:" SEARCHING TIME"}),i.jsx("p",{className:"text-purple-300 text-4xl font-black",style:{textShadow:"0 0 10px #a855f7"},children:s(t)})]}),i.jsx("div",{className:"bg-green-900 border-4 border-green-400 rounded-none p-4 mb-8",style:{boxShadow:"0 0 15px rgba(0,255,0,0.3)",fontFamily:"monospace"},children:i.jsx("p",{className:"text-green-300 text-sm font-bold uppercase",children:" MATCHMAKING IN PROGRESS"})}),i.jsx("button",{onClick:e,className:"w-full p-4 bg-red-900 hover:bg-red-700 border-4 border-red-400 font-black text-red-300 uppercase transition-all duration-200 transform hover:scale-105 active:scale-95",style:{fontFamily:"monospace",boxShadow:"0 0 15px rgba(255,0,0,0.5)",textShadow:"2px 2px 0 #000"},children:"CANCEL SEARCH"})]}),i.jsx("p",{className:"text-green-400 font-bold text-sm",style:{fontFamily:"monospace",textShadow:"0 0 10px #00ff00"},children:">>> WAITING FOR OPPONENT <<<"}),i.jsx("style",{children:`
                    @keyframes pulse {
                        0%, 100% { 
                            transform: scale(1);
                            opacity: 1;
                        }
                        50% { 
                            transform: scale(1.2);
                            opacity: 0.5;
                        }
                    }
                `})]})]})}var Om=(e=>(e[e.Bad=0]="Bad",e[e.Neutral=1]="Neutral",e[e.Good=2]="Good",e))(Om||{});function mb({type:e,children:t}){let l,a,n;switch(e){case 0:l="bg-red-50",a="text-red-900",n="border-red-200";break;case 1:l="bg-yellow-50",a="text-yellow-900",n="border-yellow-200";break;case 2:l="bg-green-50",a="text-green-900",n="border-green-200";break}const s=`${l} ${a} ${n} rounded-lg p-4 flex flex-col space-y-2 items-center m-auto w-[60%]`;return i.jsx("div",{className:s,children:t})}function hb({onExit:e,onRetry:t}){return i.jsxs(mb,{type:Om.Neutral,children:[i.jsx("p",{children:"No player found"}),i.jsx(Re,{id:"btn-retry",className:"bg-indigo-500 text-white py-2 px-8 uppercase rounded-xl w-[20%]",buttonName:"retry",onClick:t}),i.jsx(Re,{id:"btn-exit",className:"bg-indigo-500 text-white py-2 px-8 uppercase rounded-xl w-[20%]",buttonName:"exit",onClick:e})]})}function xb({onTournamentCreated:e,onBack:t}){const[l,a]=b.useState(""),[n,s]=b.useState(""),[r,c]=b.useState(4),[u,d]=b.useState(!1),[y,h]=b.useState(null),m=async()=>{if(!l.trim()){h("Tournament name is required");return}d(!0),h(null);try{const g=await re("/api/tournaments",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:l,description:n,max_participants:r})});if(!g.ok){const p=await g.json();throw new Error(p.error||"Failed to create tournament")}const v=await g.json();console.log(" Tournament created:",v.data.id),e(v.data.id,v.data.max_participants)}catch(g){h(g.message),console.error(" Failed to create tournament:",g)}finally{d(!1)}};return i.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 p-4",children:i.jsxs("div",{className:"w-full max-w-md bg-gray-900 border-4 border-cyan-400 rounded-xl p-10 shadow-2xl shadow-cyan-500/20",children:[i.jsx("h1",{className:"text-4xl font-bold text-cyan-400 text-center mb-8 uppercase tracking-widest font-arcade",children:"CREATE TOURNAMENT"}),y&&i.jsx("div",{className:"bg-red-500/10 border-2 border-red-500 text-red-400 p-4 rounded-lg mb-6 font-arcade text-center text-sm",children:y}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-cyan-400 font-bold mb-2 uppercase font-arcade text-sm",children:"Tournament Name"}),i.jsx("input",{type:"text",value:l,onChange:g=>a(g.target.value),disabled:u,className:"w-full bg-gray-800 border-2 border-cyan-400 text-white px-4 py-2 rounded-lg focus:outline-none focus:bg-gray-700 font-arcade disabled:opacity-50",placeholder:"Enter tournament name"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-cyan-400 font-bold mb-2 uppercase font-arcade text-sm",children:"Description (Optional)"}),i.jsx("textarea",{value:n,onChange:g=>s(g.target.value),disabled:u,className:"w-full bg-gray-800 border-2 border-cyan-400 text-white px-4 py-2 rounded-lg focus:outline-none focus:bg-gray-700 font-arcade h-20 disabled:opacity-50",placeholder:"Enter tournament description"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-cyan-400 font-bold mb-2 uppercase font-arcade text-sm",children:"Max Players"}),i.jsxs("select",{value:r,onChange:g=>c(parseInt(g.target.value)),disabled:u,className:"w-full bg-gray-800 border-2 border-cyan-400 text-white px-4 py-2 rounded-lg focus:outline-none focus:bg-gray-700 font-arcade disabled:opacity-50",children:[i.jsx("option",{value:4,children:"4 Players"}),i.jsx("option",{value:8,children:"8 Players"}),i.jsx("option",{value:16,children:"16 Players"})]})]})]}),i.jsxs("div",{className:"flex gap-4 mt-8",children:[i.jsx("button",{onClick:m,disabled:u||!l.trim(),className:"flex-1 bg-cyan-600 hover:bg-cyan-700 disabled:bg-gray-600 text-white font-bold py-3 px-4 rounded-lg transition-all duration-200 uppercase tracking-wide font-arcade border-2 border-cyan-500",children:u?"CREATING...":"CREATE"}),i.jsx("button",{onClick:t,disabled:u,className:"flex-1 bg-transparent border-2 border-gray-500 text-gray-400 hover:border-gray-400 hover:text-gray-300 font-bold py-3 px-4 rounded-lg transition-all duration-200 uppercase tracking-wide font-arcade disabled:opacity-50",children:"BACK"})]})]})})}function gb({tournamentId:e,onTournamentJoined:t,onCreateNew:l,onBack:a}){const[n,s]=b.useState([]),[r,c]=b.useState(!0),[u,d]=b.useState(null),[y,h]=b.useState(null);b.useEffect(()=>{const g=async()=>{try{const p=await fetch("/api/tournaments");if(!p.ok)throw new Error("Failed to fetch tournaments");const N=await p.json();console.log(" Available tournaments:",N.data);const f=N.data.filter(o=>o.status==="open");s(f),d(null)}catch(p){console.error(" Failed to fetch tournaments:",p),d(String(p))}finally{c(!1)}};g();const v=setInterval(g,3e3);return()=>clearInterval(v)},[]),b.useEffect(()=>{e&&(console.log(" Auto-joining tournament:",e),m(e))},[e]);const m=async g=>{h(g);try{const v=await re(`/api/tournaments/${g}/join`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({})});if(!v.ok){const o=await v.json();throw new Error(o.error||"Failed to join tournament")}const p=await v.json();console.log(" Joined tournament:",p);const f=await(await fetch(`/api/tournaments/${g}`)).json();t(g,f.data.max_participants)}catch(v){console.error(" Failed to join:",v),d(v.message),h(null)}};return r?i.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900",children:i.jsx("p",{className:"text-cyan-400 text-xl animate-pulse font-arcade",children:"SEARCHING FOR TOURNAMENTS..."})}):i.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 p-4",children:i.jsxs("div",{className:"w-full max-w-2xl",children:[i.jsxs("div",{className:"text-center mb-12",children:[i.jsx("h1",{className:"text-5xl font-bold text-cyan-400 uppercase tracking-widest font-arcade mb-2",children:"TOURNAMENTS"}),i.jsx("p",{className:"text-gray-400 text-sm font-arcade",children:"Join an existing tournament or create your own"})]}),u&&i.jsx("div",{className:"bg-red-500/10 border-2 border-red-500 text-red-400 p-4 rounded-lg mb-8 font-arcade text-center text-sm",children:u}),i.jsx("div",{className:"mb-12",children:i.jsx("button",{onClick:l,className:"w-full bg-gradient-to-r from-cyan-600 to-cyan-500 hover:from-cyan-700 hover:to-cyan-600 text-white font-bold py-4 px-6 rounded-lg transition-all duration-200 uppercase tracking-wide font-arcade border-2 border-cyan-400",children:"+ CREATE NEW TOURNAMENT"})}),i.jsxs("div",{children:[i.jsxs("h2",{className:"text-2xl font-bold text-cyan-400 uppercase mb-6 tracking-wider font-arcade",children:["OPEN TOURNAMENTS (",n.length,")"]}),n.length===0?i.jsxs("div",{className:"text-center py-12 bg-gray-900 border-4 border-cyan-400/20 rounded-xl",children:[i.jsx("p",{className:"text-gray-400 text-lg font-arcade mb-6",children:"No open tournaments available"}),i.jsx("p",{className:"text-gray-500 text-sm font-arcade",children:"Be the first to create one!"})]}):i.jsx("div",{className:"grid gap-4",children:n.map(g=>i.jsx("div",{className:"bg-gray-900 border-4 border-cyan-400 rounded-lg p-6 hover:shadow-lg hover:shadow-cyan-500/20 transition-all duration-200",children:i.jsxs("div",{className:"flex items-center justify-between gap-6",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"text-2xl font-bold text-white mb-2 font-arcade",children:g.name}),i.jsx("p",{className:"text-gray-400 text-sm mb-3 font-arcade",children:g.description||"No description"}),i.jsxs("div",{className:"flex gap-4 text-xs font-arcade",children:[i.jsxs("span",{className:"text-cyan-400 font-bold",children:[g.max_participants,"-PLAYER TOURNAMENT"]}),i.jsx("span",{className:"text-green-400 font-bold",children:"STATUS: OPEN"})]})]}),i.jsx("button",{onClick:()=>m(g.id),disabled:y===g.id,className:"bg-green-600 hover:bg-green-700 disabled:bg-gray-600 text-white font-bold py-3 px-8 rounded-lg transition-all duration-200 uppercase tracking-wide font-arcade border-2 border-green-500 whitespace-nowrap",children:y===g.id?"JOINING...":"JOIN"})]})},g.id))})]}),i.jsx("div",{className:"mt-8",children:i.jsx("button",{onClick:a,className:"w-full bg-transparent border-2 border-gray-500 text-gray-400 hover:border-gray-400 hover:text-gray-300 font-bold py-3 px-4 rounded-lg transition-all duration-200 uppercase tracking-wide font-arcade",children:"BACK"})})]})})}function yb({tournamentId:e,maxParticipants:t,onStartTournament:l,onLeaveTournament:a,websocket:n}){const[s,r]=b.useState(null),[c,u]=b.useState([]),[d,y]=b.useState(!0),[h,m]=b.useState(null);b.useEffect(()=>{if(!(n!=null&&n.current)){console.log(" WebSocket not available, will use polling fallback");return}const f=o=>{try{const x=JSON.parse(o.data);x.type==="tournament_started"&&x.tournamentId===e&&(console.log(" WebSocket: Tournament started event received!"),console.log(" Moving all users to bracket..."),l())}catch(x){console.error("Failed to parse WebSocket message:",x)}};return n.current.addEventListener("message",f),()=>{var o;(o=n.current)==null||o.removeEventListener("message",f)}},[e,l,n]),b.useEffect(()=>{if(!e)return;const f=async()=>{try{const x=await fetch(`/api/tournaments/${e}`);if(!x.ok)throw new Error("Failed to fetch tournament");const j=await x.json();console.log(" Tournament data:",j),r(j.data),u(j.participants||[]),m(null),y(!1),j.data.status==="ongoing"&&(console.log(" Polling: Tournament status is ongoing, moving to bracket..."),l())}catch(x){console.error(" Failed to fetch tournament status:",x),m(String(x))}};f();const o=setInterval(f,2e3);return()=>clearInterval(o)},[e,l]);const g=async()=>{try{if(!e)throw new Error("Tournament ID is required");if(c.length<2)throw new Error("Need at least 2 participants");console.log(" Starting tournament with participants:",c);const f=await re(`/api/tournaments/${parseInt(String(e))}/start`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({})}),o=await f.json();if(console.log(" Start response:",o),!f.ok)throw console.error(" Server error:",o),new Error(o.error||"Failed to start tournament");console.log(" Tournament started successfully"),l()}catch(f){console.error(" Failed to start tournament:",f),m(String(f))}},v=async()=>{try{if(!(await re(`/api/tournaments/${e}/leave`,{method:"DELETE",headers:{"Content-Type":"application/json"}})).ok)throw new Error("Failed to leave tournament");console.log(" Left tournament"),a()}catch(f){console.error(" Failed to leave tournament:",f),m(String(f))}};if(d)return i.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900",children:i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-cyan-400 text-xl animate-pulse font-arcade mb-4",children:"LOADING TOURNAMENT..."}),i.jsxs("p",{className:"text-gray-400 text-sm",children:["Tournament ID: ",e]})]})});if(h)return i.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900",children:i.jsxs("div",{className:"text-center bg-red-500/10 border-2 border-red-500 p-8 rounded-lg",children:[i.jsx("p",{className:"text-red-400 text-lg font-arcade mb-4",children:"ERROR"}),i.jsx("p",{className:"text-gray-400 text-sm",children:h})]})});const p=c.length===t,N=t-c.length;return i.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 p-4",children:i.jsxs("div",{className:"w-full max-w-2xl bg-gray-900 border-4 border-cyan-400 rounded-xl p-10 shadow-2xl shadow-cyan-500/20",children:[i.jsx("h1",{className:"text-4xl font-bold text-cyan-400 text-center mb-2 uppercase tracking-widest font-arcade",children:"TOURNAMENT LOBBY"}),i.jsxs("p",{className:"text-center text-gray-400 text-sm mb-8 font-arcade",children:["ID: ",e]}),s&&i.jsxs("div",{className:"bg-gradient-to-r from-cyan-500/10 to-cyan-400/5 border-2 border-cyan-400/30 rounded-lg p-6 mb-8",children:[i.jsx("h2",{className:"text-2xl font-bold text-white mb-3 font-arcade",children:s.name}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("p",{className:"text-cyan-400 font-semibold text-lg font-arcade",children:[t,"-PLAYER TOURNAMENT"]}),i.jsxs("p",{className:"text-sm text-gray-400 font-arcade",children:["STATUS: ",i.jsx("span",{className:"text-cyan-400 font-bold",children:s.status.toUpperCase()})]})]})]}),i.jsxs("div",{className:"mb-8",children:[i.jsxs("h3",{className:"text-cyan-400 text-lg font-bold uppercase mb-4 tracking-wide font-arcade",children:["PARTICIPANTS (",c.length,"/",t,")"]}),i.jsx("div",{className:"bg-black/50 border-2 border-cyan-400/30 rounded-lg max-h-96 overflow-y-auto",children:c.length===0?i.jsx("div",{className:"p-4 text-center text-gray-500 font-arcade",children:"Waiting for players to join..."}):i.jsxs(i.Fragment,{children:[c.map((f,o)=>i.jsxs("div",{className:"flex items-center gap-4 px-4 py-3 border-b border-cyan-400/10 hover:bg-cyan-400/5 transition-colors font-arcade",children:[i.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-cyan-400 text-gray-900 rounded font-bold text-sm flex-shrink-0",children:o+1}),i.jsx("span",{className:"flex-1 text-white font-bold",children:f.display_name||f.username}),i.jsx("span",{className:"text-green-400 text-xs font-bold",children:" JOINED"})]},f.user_id)),Array.from({length:N}).map((f,o)=>i.jsxs("div",{className:"flex items-center gap-4 px-4 py-3 border-b border-cyan-400/10 opacity-40 font-arcade",children:[i.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-gray-700 text-gray-500 rounded font-bold text-sm flex-shrink-0",children:c.length+o+1}),i.jsx("span",{className:"flex-1 text-gray-500 italic",children:"WAITING FOR PLAYER..."}),i.jsx("span",{className:"text-gray-700 text-xs",children:""})]},`empty-${o}`))]})})]}),i.jsx("div",{className:`rounded-lg p-4 mb-8 border-l-4 font-arcade font-bold text-center ${p?"bg-green-500/10 border-green-500 text-green-400":"bg-cyan-500/10 border-cyan-500 text-cyan-400"}`,children:p?" TOURNAMENT FULL! READY TO START":` WAITING FOR ${N} MORE PLAYER${N!==1?"S":""}...`}),i.jsxs("div",{className:"flex gap-4",children:[p&&i.jsx(Re,{id:"btn-start-tournament",onClick:g,className:"flex-1 bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-4 rounded-lg transition-all duration-200 uppercase tracking-wide font-arcade border-2 border-green-500",buttonName:"START TOURNAMENT"}),i.jsx(Re,{id:"btn-leave-tournament",onClick:v,className:`${p?"flex-1":"w-full"} bg-transparent border-2 border-cyan-400 text-cyan-400 hover:bg-cyan-400/10 font-bold py-3 px-4 rounded-lg transition-all duration-200 uppercase tracking-wide font-arcade`,buttonName:"LEAVE TOURNAMENT"})]})]})})}function bb({tournamentId:e,onPlayMatch:t,onTournamentFinished:l,currentUserId:a}){var f;const[n,s]=b.useState([]),[r,c]=b.useState(1),[u,d]=b.useState(!0),[y,h]=b.useState(new Map);b.useEffect(()=>{const o=async()=>{var j;try{const E=await fetch(`/api/tournaments/${e}/games`);if(!E.ok)throw new Error("Failed to fetch games");const _=await E.json();console.log(" Fetched games:",_.data),s(_.data||[]),d(!1);const S=new Set;(j=_.data)==null||j.forEach(C=>{S.add(C.player1_id),S.add(C.player2_id)});const A=new Map;for(const C of Array.from(S))try{const B=await(await fetch(`/api/users/${C}`)).json();B.data&&A.set(C,B.data)}catch(O){console.error("Failed to fetch player:",O)}h(A)}catch(E){console.error("Failed to fetch games:",E)}};o();const x=setInterval(o,2e3);return()=>clearInterval(x)},[e]);const m=n.filter(o=>o.round===r),g=Math.max(...n.map(o=>o.round),1),v=n.every(o=>o.status==="finished"),p=o=>{var x;return((x=y.get(o))==null?void 0:x.display_name)||`Player ${o}`},N=o=>{console.log(" Play match clicked - Game ID:",o.id,"Status:",o.status),t(o.id)};if(u)return i.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900",children:i.jsx("p",{className:"text-cyan-400 text-xl animate-pulse font-arcade",children:"LOADING BRACKET..."})});if(v){const o=(f=n.find(x=>x.round===g))==null?void 0:f.winner_id;return i.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 p-4",children:i.jsxs("div",{className:"w-full max-w-md bg-gray-900 border-4 border-green-400 rounded-xl p-10 text-center shadow-2xl",children:[i.jsx("h1",{className:"text-4xl font-bold text-green-400 mb-4 font-arcade",children:"TOURNAMENT FINISHED!"}),i.jsxs("p",{className:"text-xl text-white mb-6 font-arcade",children:[" CHAMPION: ",p(o||0)]}),i.jsx(Re,{id:"btn-return-menu",onClick:()=>l(o||0),buttonName:"RETURN TO MENU",className:"w-full bg-green-500 hover:bg-green-600 text-white font-bold py-3 rounded-lg font-arcade"})]})})}return i.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 p-4",children:i.jsxs("div",{className:"w-full max-w-2xl bg-gray-900 border-4 border-cyan-400 rounded-xl p-10 shadow-2xl",children:[i.jsx("h1",{className:"text-4xl font-bold text-cyan-400 text-center mb-8 uppercase font-arcade",children:"TOURNAMENT BRACKET"}),i.jsx("div",{className:"bg-cyan-500/10 border-2 border-cyan-400/30 rounded-lg p-4 mb-8 text-center",children:i.jsxs("p",{className:"text-cyan-400 font-arcade font-bold text-xl",children:["ROUND ",r," OF ",g]})}),i.jsx("div",{className:"space-y-4 mb-8",children:m.length===0?i.jsx("p",{className:"text-gray-400 text-center font-arcade",children:"NO MATCHES THIS ROUND"}):m.map(o=>i.jsxs("div",{className:"bg-black/50 border-2 border-cyan-400/30 rounded-lg p-6 font-arcade",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-white font-bold text-lg",children:p(o.player1_id)}),i.jsx("p",{className:"text-gray-500 text-sm",children:"Player 1"})]}),i.jsx("div",{className:"text-cyan-400 font-bold text-2xl mx-4",children:"VS"}),i.jsxs("div",{className:"flex-1 text-right",children:[i.jsx("p",{className:"text-white font-bold text-lg",children:p(o.player2_id)}),i.jsx("p",{className:"text-gray-500 text-sm",children:"Player 2"})]})]}),i.jsx("div",{className:"text-center mb-4",children:o.status==="finished"&&o.winner_id?i.jsxs("p",{className:"text-green-400 font-bold",children:[" WINNER: ",p(o.winner_id)]}):o.status==="ongoing"?i.jsx("p",{className:"text-yellow-400 font-bold animate-pulse",children:" MATCH IN PROGRESS..."}):i.jsxs("p",{className:"text-gray-400",children:["Ready to play (status: ",o.status,")"]})}),o.status==="ready"&&(o.player1_id===a||o.player2_id===a)&&i.jsx(Re,{id:`btn-play-match-${o.id}`,onClick:()=>N(o),buttonName:"PLAY MATCH",className:"w-full bg-cyan-500 hover:bg-cyan-600 text-white font-bold py-2 rounded-lg"}),(o.status!=="ready"||o.player1_id!==a&&o.player2_id!==a)&&i.jsxs("p",{className:"text-center text-gray-500 text-xs",children:["Status: ",o.status]})]},o.id))}),i.jsxs("div",{className:"flex gap-4 justify-center",children:[i.jsx("button",{onClick:()=>c(Math.max(1,r-1)),disabled:r===1,className:"px-6 py-2 bg-gray-700 hover:bg-gray-600 disabled:opacity-50 text-white rounded-lg font-arcade font-bold",children:"PREV ROUND"}),i.jsx("button",{onClick:()=>c(Math.min(g,r+1)),disabled:r===g,className:"px-6 py-2 bg-gray-700 hover:bg-gray-600 disabled:opacity-50 text-white rounded-lg font-arcade font-bold",children:"NEXT ROUND"})]})]})})}function pb({gameData:e,websocket:t,onCountdownComplete:l,gameMode:a,currentUserId:n}){const[s,r]=b.useState(3),[c,u]=b.useState(!1),[d,y]=b.useState(!1),[h,m]=b.useState(!1),[g,v]=b.useState(!1),[p,N]=b.useState(null),f=n===(e==null?void 0:e.player1_id),o=n===(e==null?void 0:e.player2_id);b.useEffect(()=>{!e||!n||e.player1_id!==n&&e.player2_id!==n&&(N(" You are not assigned to this game!"),console.error("User not authorized for this game"))},[e,n]),b.useEffect(()=>{if(!(t!=null&&t.current))return;const j=E=>{try{const _=JSON.parse(E.data);_.type==="player_ready"&&(console.log(" Player ready status:",_),u(_.player1_ready),y(_.player2_ready),_.player1_ready&&_.player2_ready&&(console.log(" Both players ready! Starting countdown..."),v(!0)))}catch(_){console.error("Failed to parse ready event:",_)}};return t.current.addEventListener("message",j),()=>{var E;return(E=t.current)==null?void 0:E.removeEventListener("message",j)}},[t]),b.useEffect(()=>{if(!g||s<=0){s<=0&&g&&l();return}const j=setTimeout(()=>{r(s-1)},1e3);return()=>clearTimeout(j)},[s,g,l]);const x=async()=>{try{const j=await re(`/api/games/${e.id}/ready`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({})});if(!j.ok){const E=await j.json();throw new Error(E.error||"Failed to mark as ready")}m(!0),console.log(" You marked as ready")}catch(j){N(` ${String(j)}`),console.error("Failed to mark ready:",j)}};return p?i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-black p-4",children:i.jsx("div",{className:"w-full max-w-md bg-gray-900 border-4 border-red-500 rounded-xl p-10 text-center",children:i.jsx("p",{className:"text-red-400 text-xl font-arcade",children:p})})}):g?i.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-black p-4",style:{backgroundImage:"linear-gradient(45deg, #1a1a2e 25%, transparent 25%, transparent 75%, #1a1a2e 75%, #1a1a2e), linear-gradient(45deg, #1a1a2e 25%, transparent 25%, transparent 75%, #1a1a2e 75%, #1a1a2e)",backgroundSize:"40px 40px",backgroundPosition:"0 0, 20px 20px"},children:[i.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{backgroundImage:"repeating-linear-gradient(0deg, rgba(0,0,0,0.15) 0px, rgba(0,0,0,0.15) 1px, transparent 1px, transparent 2px)"}}),i.jsxs("div",{className:"relative z-10 text-center",children:[i.jsx("p",{className:"text-cyan-400 text-2xl font-bold mb-8 uppercase",style:{fontFamily:"monospace",textShadow:"0 0 10px #00ffff"},children:a==="singleplayer"?" Preparing AI Opponent":" Game Starting"}),i.jsx("div",{className:"text-9xl font-black mb-8",style:{color:s===1?"#ff0000":"#00ff00",textShadow:s===1?"0 0 30px #ff0000, 0 0 60px #ff0000":"0 0 30px #00ff00, 0 0 60px #00ff00",fontFamily:"monospace",transition:"all 0.3s ease",animation:s===0?"none":"pulse 1s infinite"},children:s>0?s:"GO!"}),i.jsx("div",{className:"border-4 border-green-400 p-8 bg-gray-900 inline-block",style:{boxShadow:"0 0 20px rgba(0,255,0,0.5)"},children:i.jsx("p",{className:"text-green-400 font-bold uppercase",style:{fontFamily:"monospace",textShadow:"0 0 10px #00ff00"},children:"Get Ready!"})}),i.jsx("style",{children:`
          @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
          }
        `})]})]}):i.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-black p-4",style:{backgroundImage:"linear-gradient(45deg, #1a1a2e 25%, transparent 25%, transparent 75%, #1a1a2e 75%, #1a1a2e), linear-gradient(45deg, #1a1a2e 25%, transparent 25%, transparent 75%, #1a1a2e 75%, #1a1a2e)",backgroundSize:"40px 40px",backgroundPosition:"0 0, 20px 20px"},children:[i.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{backgroundImage:"repeating-linear-gradient(0deg, rgba(0,0,0,0.15) 0px, rgba(0,0,0,0.15) 1px, transparent 1px, transparent 2px)"}}),i.jsxs("div",{className:"relative z-10 w-full max-w-md",children:[i.jsx("h1",{className:"text-4xl font-bold text-cyan-400 text-center mb-8 font-arcade",children:"GET READY!"}),i.jsxs("div",{className:"mb-6 p-4 bg-cyan-500/10 border-2 border-cyan-400 rounded-lg",children:[i.jsx("p",{className:"text-white font-bold mb-2 font-arcade",children:f?"YOU (Player 1)":o?"YOU (Player 2)":"YOU"}),i.jsx("button",{onClick:x,disabled:h,className:`w-full font-bold py-3 rounded-lg font-arcade transition-all ${h?"bg-green-600 text-white cursor-default":"bg-cyan-600 hover:bg-cyan-700 text-white"}`,children:h?" READY":"CLICK TO BE READY"})]}),i.jsxs("div",{className:"mb-8 p-4 bg-gray-800 border-2 border-gray-600 rounded-lg",children:[i.jsx("p",{className:"text-gray-400 font-bold mb-2 font-arcade",children:f?"OPPONENT (Player 2)":o?"OPPONENT (Player 1)":"OPPONENT"}),f&&d?i.jsx("p",{className:"text-green-400 font-arcade font-bold",children:" READY"}):o&&c?i.jsx("p",{className:"text-green-400 font-arcade font-bold",children:" READY"}):i.jsx("p",{className:"text-yellow-400 font-arcade animate-pulse",children:" WAITING..."})]}),i.jsx("p",{className:"text-gray-400 text-sm font-arcade text-center",children:"Both players must click READY to start"})]})]})}function vb(e){const t=document.getElementById(e);if(t===null)throw Error("lobbyEle cannot be null");if(t.value.length===0)throw Error("lobby ID cannot be empty");return t.value}function sr(e){const t=e.style.display,l=.75;e.setAttribute("style",`height:${e.offsetWidth*l}px`),e.setAttribute("style",`display:${t}`),e.style.height=String(e.offsetWidth*l)+"px"}function jb({screen:e,gameMode:t,lobbyId:l,error:a,websocket:n,setScreen:s,setGameMode:r,handleRandomPlayer:c,handleHostReq:u,joinLobbyReq:d,resetPlayerStatus:y,gameData:h,tournamentId:m,selectedBracketSize:g,currentUser:v,setTournamentId:p,setGameData:N,setError:f,onTournamentMenu:o,onTournamentJoined:x,onTournamentCreated:j,onTournamentStarted:E,onTournamentLeft:_,onCreateTournament:S,onBackFromCreate:A}){b.useEffect(()=>{const O=document.getElementById("game-ui");if(O!==null)return sr(O),window.addEventListener("resize",()=>{sr(O)}),()=>{removeEventListener("resize",()=>{sr(O)})}},[]);const C=async O=>{(await re("/api/auth/validate")).ok&&O()};switch(e){case"main":return i.jsx(rb,{onPlayLocal:()=>C(()=>s("local")),onPlayOnline:()=>C(()=>s("online"))});case"local":return i.jsx(ub,{onSinglePlayer:()=>{r("singleplayer"),s("game")},onMultiPlayer:()=>{r("multiplayer"),s("game")},onBack:()=>{r("none"),s("main")}});case"online":return i.jsx(cb,{onPlayRandom:c,onHostLobby:()=>{u()},onJoinLobby:()=>s("join-lobby"),onTournament:()=>s("tournament"),onBack:()=>s("main")});case"host-lobby":return i.jsx(ob,{lobbyId:l,onCopyLobby:()=>{const O=document.getElementById("req-lobby-id");O!==null&&navigator.clipboard.writeText(O.value)},onJoinOwn:()=>{n.current.send(JSON.stringify({type:"HOST_LOBBY",lobby_id:l})),r("online"),s("game")}});case"join-lobby":return i.jsx(db,{onJoin:()=>{let O=null;try{O=vb("input-lobby-id")}catch(B){alert(B);return}d(O)}});case"tournament":return i.jsx(gb,{tournamentId:m,onTournamentJoined:x,onCreateNew:S,onBack:o});case"create-tournament":return i.jsx(xb,{onTournamentCreated:j,onBack:A});case"tournament-lobby":return i.jsx(yb,{tournamentId:m,maxParticipants:g,websocket:n,onStartTournament:E,onLeaveTournament:_});case"tournament-bracket":return i.jsx(bb,{tournamentId:m,onPlayMatch:async O=>{console.log(" Playing tournament match - Game ID:",O);try{const B=await re(`/api/games/${O}`);if(!B.ok)throw new Error("Failed to fetch game");const P=await B.json();console.log("Game data:",P.data),r("online"),N(P.data),s("countdown")}catch(B){console.error("Failed to start match:",B),f(String(B)),s("error")}},onTournamentFinished:()=>{r("none"),p(null),s("main"),y()},currentUserId:v==null?void 0:v.id});case"countdown":return i.jsx(pb,{gameData:h,websocket:n,onCountdownComplete:()=>s("game"),gameMode:t,currentUserId:v==null?void 0:v.id});case"searching":return i.jsx(fb,{onCancel:()=>{r("none"),s("online"),y()}});case"game":return i.jsx(ib,{mode:t,websocket:n});case"timeout":return i.jsx(hb,{onExit:()=>{r("none"),s("main"),y()},onRetry:async()=>{await y(),c()}});case"error":return i.jsx("div",{className:"flex items-center justify-center min-h-screen bg-red-900",children:i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-white text-2xl mb-4",children:a}),i.jsx("button",{onClick:()=>{r("none"),s("main"),y()},className:"bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-4 rounded",children:"Return to Main Menu"})]})})}}function Nb(){const[e,t]=b.useState("none"),[l,a]=b.useState("main"),[n,s]=b.useState(null),[r,c]=b.useState(""),[u,d]=b.useState(null),y=b.useRef(null),[h,m]=b.useState(null),[g,v]=b.useState(0),[p,N]=b.useState(null);b.useEffect(()=>{(async()=>{try{const L=await re("/api/users/me");if(!L.ok)throw new Error("Failed to fetch user");const $=await L.json();N($.data),console.log(" Current user loaded:",$.data)}catch(L){console.error("Failed to fetch current user:",L)}})()},[]);const f=()=>{a("tournament")},o=M=>{console.log(" Joined tournament:",M),m(M),a("tournament-lobby")},x=M=>{console.log(" Created tournament:",M),m(M),a("tournament-lobby")},j=()=>{console.log(" Tournament started"),a("tournament-bracket")},E=()=>{console.log(" Left tournament"),m(null),a("online")},_=()=>{a("create-tournament")},S=()=>{a("tournament")},A=()=>{a("tournament")},C=async()=>{try{const M=await re("/api/lobbies/random",{method:"POST"});if(!M.ok)throw new Error("no available player");const L=await M.json();c(L.data.id),t("online"),a("searching"),y.current.send(JSON.stringify({type:"JOIN_LOBBY",lobby_id:L.data.id}))}catch(M){d(String(M)),a("error")}},O=async()=>{try{const M=await re("/api/lobbies",{method:"POST"});if(!M.ok)throw new Error("failed to create lobby");const L=await M.json();c(L.data.id),t("online"),a("host-lobby")}catch(M){d(String(M)),a("error")}},B=async M=>{try{if(!(await re(`/api/lobbies/${M}`,{method:"GET"})).ok)throw new Error("failed to fetch lobby");c(M),t("online"),a("searching"),y.current.send(JSON.stringify({type:"JOIN_LOBBY",lobby_id:M}))}catch(L){d(String(L)),a("error")}},P=async()=>{try{await re("/api/lobbies/reset",{method:"POST"})}catch(M){console.error("reset failed:",M)}};return b.useEffect(()=>{const L=`${window.location.protocol==="https:"?"wss:":"ws:"}//${window.location.host}/ws`,$=new WebSocket(L);return $.onopen=()=>{console.log(" WebSocket connected")},$.onmessage=z=>{const R=JSON.parse(z.data);console.log(" WebSocket message:",R),R.type==="WAITING"&&l!=="searching"?a("searching"):R.type==="GAME_FOUND"||R.type==="game_found"?(s(R.data),a("countdown")):R.type==="GAME_CANCELLED"&&(d("Game was cancelled"),a("error"))},$.onerror=()=>{console.error(" WebSocket error")},$.onclose=()=>{console.log(" WebSocket closed")},y.current=$,()=>{$.readyState===WebSocket.OPEN&&$.close()}},[l]),i.jsx(jb,{screen:l,gameMode:e,lobbyId:r,error:u,websocket:y,gameData:n,tournamentId:h,selectedBracketSize:g,currentUser:p,setScreen:a,setGameMode:t,setTournamentId:m,setGameData:s,setError:d,setSelectedBracketSize:v,handleRandomPlayer:C,handleHostReq:O,joinLobbyReq:B,resetPlayerStatus:P,onTournamentMenu:f,onTournamentJoined:o,onTournamentCreated:x,onTournamentStarted:j,onTournamentLeft:E,onCreateTournament:_,onBackFromCreate:S,onBackFromJoin:A})}const Sb=()=>{const e=[{id:1,username:"Player1",wins:15,losses:3,rank:1},{id:2,username:"Player2",wins:12,losses:5,rank:2},{id:3,username:"Player3",wins:10,losses:7,rank:3},{id:4,username:"Player4",wins:8,losses:9,rank:4},{id:5,username:"Player5",wins:6,losses:11,rank:5}];return i.jsxs("div",{className:"p-6",children:[i.jsx("h1",{className:"text-4xl font-bold text-center mb-8 text-white",children:"Leaderboard"}),i.jsx("div",{className:"max-w-4xl mx-auto",children:i.jsxs("div",{className:"bg-white/50 backdrop-blur-sm rounded-lg shadow-md overflow-hidden border border-white/20",children:[i.jsx("div",{className:"bg-white/30 backdrop-blur-sm px-6 py-4 border-b border-white/20",children:i.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Top Players"})}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{className:"bg-white/20 backdrop-blur-sm",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Rank"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Player"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Wins"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Losses"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Win Rate"})]})}),i.jsx("tbody",{className:"divide-y divide-white/20",children:e.map(t=>i.jsxs("tr",{className:"hover:bg-white/20 backdrop-blur-sm",children:[i.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["#",t.rank]}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:t.username}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-green-600",children:t.wins}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-red-600",children:t.losses}),i.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[(t.wins/(t.wins+t.losses)*100).toFixed(1),"%"]})]},t.id))})]})})]})})]})},wb=({user:e})=>{const[t,l]=b.useState(null),[a,n]=b.useState(!0);b.useEffect(()=>{e&&!e.is_guest&&s()},[e]);const s=async()=>{n(!0);const u=await sc();console.log("Profile response:",u),u&&l(u),n(!1)};if(e!=null&&e.is_guest)return i.jsx(bm,{to:"/",replace:!0});if(a&&!t)return i.jsxs("div",{className:"p-6 text-center",children:[i.jsxs("div",{className:"animate-pulse",children:[i.jsx("div",{className:"bg-gray-200 h-8 w-48 mx-auto mb-4 rounded"}),i.jsx("div",{className:"bg-gray-200 h-20 w-20 mx-auto mb-4 rounded-full"}),i.jsx("div",{className:"bg-gray-200 h-4 w-32 mx-auto mb-2 rounded"})]}),i.jsx("p",{className:"text-gray-500 mt-4",children:"Loading profile..."})]});const r=t||e;if(!r)return i.jsx("div",{className:"p-6 text-center text-gray-500",children:"No user data available"});const c=uu(r.avatar_url);return i.jsxs("div",{className:"p-6",children:[i.jsx("div",{className:"bg-white rounded-lg shadow border border-gray-200 p-6 mb-6",children:i.jsxs("div",{className:"flex items-center gap-6",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx("div",{className:"w-24 h-24 bg-blue-500 rounded-full flex items-center justify-center overflow-hidden",children:c?i.jsx("img",{src:c,alt:"Avatar",className:"w-full h-full object-cover"}):i.jsx("span",{className:"text-white text-3xl font-bold",children:r.username.charAt(0).toUpperCase()})})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:r.display_name||r.username}),r.nickname&&i.jsxs("p",{className:"text-gray-600 text-lg mt-1",children:["@",r.nickname]}),i.jsxs("p",{className:"text-gray-500 mt-1",children:["Username: ",r.username]}),r.email&&i.jsx("p",{className:"text-gray-500 mt-1",children:r.email})]})]})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"bg-white p-6 rounded-lg shadow border border-gray-200",children:[i.jsx("h3",{className:"text-xl font-semibold mb-4 text-gray-900",children:"Game Statistics"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded",children:[i.jsx("span",{className:"text-gray-700 font-medium",children:"Wins"}),i.jsx("span",{className:"text-green-600 font-bold text-xl",children:r.wins||0})]}),i.jsxs("div",{className:"flex justify-between items-center p-3 bg-red-50 rounded",children:[i.jsx("span",{className:"text-gray-700 font-medium",children:"Losses"}),i.jsx("span",{className:"text-red-600 font-bold text-xl",children:r.losses||0})]}),i.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded",children:[i.jsx("span",{className:"text-gray-700 font-medium",children:"Total Games"}),i.jsx("span",{className:"text-blue-600 font-bold text-xl",children:r.total_games||0})]}),i.jsxs("div",{className:"flex justify-between items-center p-3 bg-purple-50 rounded",children:[i.jsx("span",{className:"text-gray-700 font-medium",children:"Win Rate"}),i.jsx("span",{className:"text-purple-600 font-bold text-xl",children:r.winRate||"0%"})]})]}),(r.total_games||0)===0&&i.jsx("p",{className:"text-center text-gray-500 mt-4 text-sm",children:"No games played yet"})]}),i.jsxs("div",{className:"bg-white p-6 rounded-lg shadow border border-gray-200",children:[i.jsx("h3",{className:"text-xl font-semibold mb-4 text-gray-900",children:"Account Information"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"p-3 bg-gray-50 rounded",children:[i.jsx("div",{className:"text-sm text-gray-600",children:"User ID"}),i.jsx("div",{className:"font-mono text-gray-900",children:r.id})]}),i.jsxs("div",{className:"p-3 bg-gray-50 rounded",children:[i.jsx("div",{className:"text-sm text-gray-600",children:"Username"}),i.jsx("div",{className:"font-medium text-gray-900",children:r.username})]}),r.email&&i.jsxs("div",{className:"p-3 bg-gray-50 rounded",children:[i.jsx("div",{className:"text-sm text-gray-600",children:"Email"}),i.jsx("div",{className:"font-medium text-gray-900",children:r.email})]}),r.nickname&&i.jsxs("div",{className:"p-3 bg-gray-50 rounded",children:[i.jsx("div",{className:"text-sm text-gray-600",children:"Nickname"}),i.jsxs("div",{className:"font-medium text-gray-900",children:["@",r.nickname]})]}),r.display_name&&i.jsxs("div",{className:"p-3 bg-gray-50 rounded",children:[i.jsx("div",{className:"text-sm text-gray-600",children:"Display Name"}),i.jsx("div",{className:"font-medium text-gray-900",children:r.display_name})]})]})]})]})]})};function Eb({onSuccess:e}){const[t,l]=b.useState(null),[a,n]=b.useState(!1),[s,r]=b.useState(""),[c,u]=b.useState(""),[d,y]=b.useState(""),h=async()=>{n(!0),r("");try{const g=localStorage.getItem("token");if(!g){r("You must be logged in to setup 2FA!"),n(!1);return}const v=await fetch("/api/auth/2fa/setup",{method:"POST",headers:{Authorization:`Bearer ${g}`}}),p=await v.json();if(v.ok&&p.success){l(p.qrCode),u(p.message);//! add this in later, delete current message
}else r(p.error||"Failed to setup 2FA")}catch{r("An error occurred while setting up 2FA")}n(!1)},m=async()=>{if(d.length!==6){r("Please enter a 6-digit code");return}n(!0),r("");try{const g=localStorage.getItem("token"),v=await fetch("/api/auth/2fa/enable",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${g}`},body:JSON.stringify({code:d})}),p=await v.json();v.ok&&p.success?(u(" 2FA successfully enabled!"),l(null),y(""),e&&e()):r(p.error||"Invalid code. Please try again.")}catch(g){r("Failed to verify code"),console.error("2FA verification error:",g)}finally{n(!1)}};return i.jsxs("div",{className:"space-y-4",children:[t?i.jsx("div",{className:"space-y-4",children:i.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[i.jsx("p",{className:"text-sm text-gray-700 mb-3",children:c}),i.jsx("div",{className:"flex justify-center mb-4",children:i.jsx("img",{src:t,alt:"2FA QR Code",className:"border-4 border-white shadow-lg rounded"})}),i.jsxs("div",{className:"space-y-3 mt-4",children:[i.jsx("p",{className:"text-sm text-gray-700 font-semibold",children:"Enter the code from your authenticator app:"}),i.jsx("input",{type:"text",value:d,onChange:g=>y(g.target.value.replace(/\D/g,"").slice(0,6)),placeholder:"000000",maxLength:6,inputMode:"numeric",className:"w-full px-4 py-2 text-center text-xl tracking-widest border rounded-md focus:ring-2 focus:ring-blue-500"}),i.jsx("button",{onClick:m,disabled:a||d.length!==6,className:"w-full bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600 disabled:bg-gray-400 transition-colors",children:a?"Verifying...":"Verify & Enable 2FA"})]})]})}):i.jsx("button",{onClick:h,disabled:a,className:"w-full bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 disabled:bg-gray-400 transition-colors",children:a?"Generating QR Code...":"Generate QR Code"}),s&&i.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:i.jsx("p",{className:"text-red-700 text-sm",children:s})})]})}const Tb=({user:e,onUserUpdate:t})=>{const[l,a]=b.useState("profile"),[n,s]=b.useState(!1),[r,c]=b.useState(null),[u,d]=b.useState(!1),[y,h]=b.useState(!1),[m,g]=b.useState(""),[v,p]=b.useState(!1),[N,f]=b.useState(!1),[o,x]=b.useState(!1),[j,E]=b.useState(""),[_,S]=b.useState(""),[A,C]=b.useState(""),[O,B]=b.useState({display_name:"",nickname:"",email:""}),[P,M]=b.useState({current_password:"",new_password:"",confirm_password:""}),[L,$]=b.useState(null),[z,R]=b.useState(null),[U,I]=b.useState(null);b.useEffect(()=>{e&&B({display_name:e.display_name||"",nickname:e.nickname||"",email:e.email||""})},[e]);const Y=(D,V)=>{c({type:D,text:V}),setTimeout(()=>c(null),5e3)},ht=async D=>{D.preventDefault(),s(!0);try{const V={};U==="display_name"?V.display_name=O.display_name:U==="nickname"?V.nickname=O.nickname:U==="email"&&(V.email=O.email);const H=await re("/api/users/profile/me",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(V)}),bi=await H.json();H.ok?(Y("success","Profile updated successfully"),I(null),t&&t({...e,...V})):Y("error",bi.error||"Failed to update profile")}catch{Y("error","Network error. Please try again.")}finally{s(!1)}},Ft=async D=>{if(D.preventDefault(),P.new_password!==P.confirm_password){Y("error","New passwords do not match");return}if(P.new_password.length<8){Y("error","Password must be at least 8 characters long");return}s(!0);try{const V=await re("/api/users/change-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({current_password:P.current_password,new_password:P.new_password})}),H=await V.json();V.ok?(Y("success","Password changed successfully"),M({current_password:"",new_password:"",confirm_password:""})):Y("error",H.error||"Failed to change password")}catch{Y("error","Network error. Please try again.")}finally{s(!1)}},$t=async()=>{if(L){s(!0);try{const D=new FormData;D.append("file",L);const V=await re("/api/users/profile/avatar",{method:"POST",body:D}),H=await V.json();V.ok?(Y("success","Avatar uploaded successfully"),$(null),R(null),t&&t({...e,avatar_url:H.avatar_url})):Y("error",H.error||"Failed to upload avatar")}catch{Y("error","Network error. Please try again.")}finally{s(!1)}}},xt=D=>{var H;const V=(H=D.target.files)==null?void 0:H[0];if(V){if(V.type!=="image/jpg"){Y("error","Only JPG files are allowed"),D.target.value="";return}if(V.size>5*1024*1024){Y("error","File size must be less than 5MB"),D.target.value="";return}$(V),R(URL.createObjectURL(V))}},Wt=async D=>{if(D.preventDefault(),m.length!==6){Y("error","Please enter a valid 6-digit code");return}s(!0);try{const V=await re("/api/auth/2fa/disable",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:m})}),H=await V.json();V.ok?(Y("success","2FA disabled successfully"),h(!1),g(""),t&&t({...e,two_factor_enabled:!1})):Y("error",H.error||"Failed to disable 2FA")}catch{Y("error","Network error. Please try again.")}finally{s(!1)}},yi=async()=>{console.log(" handleAnonymizeProfile called"),s(!0);try{console.log(" Sending request to /api/users/anonymize");const D=await re("/api/users/anonymize",{method:"POST"});console.log(" Response status:",D.status);const V=await D.json();console.log(" Response data:",V),D.ok?(Y("success","Profile anonymized successfully. Logging out..."),t&&t({...e,is_anonymous:!0})):Y("error",V.error||"Failed to anonymize profile")}catch(D){console.error(" Error:",D),Y("error","Network error. Please try again.")}finally{s(!1),p(!1)}},T=async D=>{if(D.preventDefault(),!j){Y("error","Please enter your password to confirm deletion");return}s(!0);try{const V=await re("/api/users/me",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:j})});if(V.ok)S(""),C("Account deleted. Going back to the login page..."),setTimeout(()=>{localStorage.removeItem("token"),window.location.href="/"},2e3);else{const H=await V.json();S(H.error||"Failed to delete account")}}catch{S("Network error. Please try again.")}finally{s(!1)}};if(!e)return i.jsx("div",{className:"p-6 text-center",children:i.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6 max-w-md mx-auto",children:[i.jsx("h2",{className:"text-xl font-semibold text-yellow-800 mb-2",children:"Authentication Required"}),i.jsx("p",{className:"text-yellow-700 mb-4",children:"Please log in to access settings."}),i.jsx("button",{onClick:()=>window.location.reload(),className:"bg-yellow-600 text-white px-4 py-2 rounded hover:bg-yellow-700",children:"Go to Login"})]})});if(e.is_guest)return i.jsx(bm,{to:"/",replace:!0});const G=uu(e.avatar_url);return i.jsxs("div",{className:"p-6",children:[r&&i.jsx("div",{className:`mb-6 p-4 rounded-lg ${r.type==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:r.text}),o&&i.jsx(nc,{isModal:!0,lightMode:!0,onClose:()=>x(!1)}),N&&i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-xl max-w-md w-full",children:[i.jsxs("div",{className:"text-center mb-6",children:[i.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full mx-auto mb-4 flex items-center justify-center",children:i.jsx("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})}),i.jsx("p",{className:"text-2xl font-bold text-red-600 mb-2",children:"!FINAL WARNING!"}),i.jsx("h2",{className:"text-2xl font-bold text-red-600 mb-2",children:"Delete Account"}),i.jsx("p",{className:"text-gray-600 text-sm",children:"This action is permanent and cannot be undone"})]}),i.jsxs("div",{className:"bg-red-50 rounded-lg p-4 mb-6",children:[i.jsx("h3",{className:"font-semibold text-red-900 mb-3",children:"This will permanently:"}),i.jsxs("ul",{className:"space-y-2 text-sm text-red-800",children:[i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("svg",{className:"w-5 h-5 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),i.jsx("span",{children:"Delete your account and all data"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("svg",{className:"w-5 h-5 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),i.jsx("span",{children:"Remove all game history"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("svg",{className:"w-5 h-5 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),i.jsx("span",{children:"Clear all profile information"})]})]})]}),i.jsxs("form",{onSubmit:T,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"If you are still absolutely sure, enter your password to confirm"}),i.jsx("input",{type:"password",value:j,onChange:D=>{E(D.target.value),S("")},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Your password",required:!0,disabled:!!A}),_&&i.jsx("p",{className:"mt-2 text-sm text-red-600",role:"alert",children:_}),A&&i.jsx("p",{className:"mt-2 text-sm text-green-600",role:"status",children:A})]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("button",{type:"submit",disabled:n||!j||!!A,className:"flex-1 bg-red-500 text-white py-3 px-4 rounded-lg font-medium hover:bg-red-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:n?"Deleting...":"Delete Account"}),i.jsx("button",{type:"button",onClick:()=>{f(!1),E(""),S(""),C("")},disabled:n,className:"flex-1 bg-gray-200 text-gray-800 py-3 px-4 rounded-lg font-medium hover:bg-gray-300 transition-colors disabled:opacity-50",children:"Cancel"})]})]})]})}),v&&i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-xl max-w-md w-full",children:[i.jsxs("div",{className:"text-center mb-6",children:[i.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full mx-auto mb-4 flex items-center justify-center",children:i.jsx("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),i.jsx("h2",{className:"text-2xl font-bold text-red-600 mb-2",children:"Anonymize Profile"}),i.jsx("p",{className:"text-gray-600 text-sm",children:"This action is permanent and cannot be undone"})]}),i.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[i.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"This will:"}),i.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("svg",{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),i.jsx("span",{children:"Hide your personal information"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("svg",{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),i.jsx("span",{children:"Permanently restrict chat access"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("svg",{className:"w-5 h-5 text-green-500 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),i.jsx("span",{children:"Keep your game statistics"})]})]})]}),i.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 mb-6",children:i.jsx("p",{className:"text-red-800 text-sm font-semibold text-center",children:" This cannot be reversed!"})}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("button",{onClick:yi,disabled:n,className:"flex-1 bg-red-500 text-white py-3 px-4 rounded-lg font-medium hover:bg-red-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:n?"Processing...":"Yes, Anonymize"}),i.jsx("button",{onClick:()=>p(!1),disabled:n,className:"flex-1 bg-gray-200 text-gray-800 py-3 px-4 rounded-lg font-medium hover:bg-gray-300 transition-colors",children:"Cancel"})]})]})}),u&&i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl max-w-md w-full",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h2",{className:"text-xl font-bold",children:"Enable Two-Factor Authentication"}),i.jsx("button",{onClick:()=>d(!1),className:"text-gray-500 hover:text-gray-700 text-2xl leading-none",children:""})]}),i.jsx(Eb,{onSuccess:()=>{d(!1),Y("success","2FA enabled successfully!"),t&&e&&t({...e,two_factor_enabled:!0})}})]})}),y&&i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl max-w-md w-full",children:[i.jsx("h2",{className:"text-xl font-bold mb-4",children:"Disable Two-Factor Authentication"}),i.jsxs("form",{onSubmit:Wt,children:[i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Enter your 6-digit code"}),i.jsx("input",{type:"text",value:m,onChange:D=>g(D.target.value.replace(/\D/g,"").slice(0,6)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"000000",maxLength:6})]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("button",{type:"submit",disabled:n||m.length!==6,className:"flex-1 bg-red-500 text-white py-2 px-4 rounded hover:bg-red-600 disabled:opacity-50",children:n?"Disabling...":"Disable 2FA"}),i.jsx("button",{type:"button",onClick:()=>{h(!1),g("")},className:"flex-1 bg-gray-500 text-white py-2 px-4 rounded hover:bg-gray-600",children:"Cancel"})]})]})]})}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[i.jsx("div",{className:"lg:col-span-1",children:i.jsxs("nav",{className:"bg-white rounded-lg shadow border border-gray-200 overflow-hidden",children:[i.jsx("button",{onClick:()=>a("profile"),className:`w-full px-4 py-3 text-left transition-colors border-l-4 ${l==="profile"?"bg-blue-50 border-blue-500 text-blue-700":"border-transparent text-gray-700 hover:bg-gray-50"}`,children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:1.5,children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"})}),i.jsx("span",{className:"font-medium",children:"Profile"})]})}),i.jsx("button",{onClick:()=>a("security"),className:`w-full px-4 py-3 text-left transition-colors border-l-4 ${l==="security"?"bg-blue-50 border-blue-500 text-blue-700":"border-transparent text-gray-700 hover:bg-gray-50"}`,children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:1.5,children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"})}),i.jsx("span",{className:"font-medium",children:"Security"})]})}),i.jsx("button",{onClick:()=>a("privacy"),className:`w-full px-4 py-3 text-left transition-colors border-l-4 ${l==="privacy"?"bg-blue-50 border-blue-500 text-blue-700":"border-transparent text-gray-700 hover:bg-gray-50"}`,children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:1.5,children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z"})}),i.jsx("span",{className:"font-medium",children:"Privacy & Data"})]})})]})}),i.jsxs("div",{className:"lg:col-span-3",children:[l==="profile"&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-white rounded-lg shadow border border-gray-200",children:[i.jsx("div",{className:"p-4 border-b border-gray-200",children:i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Avatar"})}),i.jsx("div",{className:"p-4",children:i.jsxs("div",{className:"flex items-center gap-6",children:[i.jsx("div",{className:"w-20 h-20 bg-blue-500 rounded-full flex items-center justify-center overflow-hidden flex-shrink-0",children:z?i.jsx("img",{src:z,alt:"Preview",className:"w-full h-full object-cover"}):G?i.jsx("img",{src:G,alt:"Avatar",className:"w-full h-full object-cover"}):i.jsx("span",{className:"text-white text-2xl font-bold",children:e.username.charAt(0).toUpperCase()})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("input",{type:"file",accept:".jpg,image/jpg",onChange:xt,className:"hidden",id:"avatar-upload"}),i.jsx("label",{htmlFor:"avatar-upload",className:"inline-block bg-gray-100 hover:bg-gray-200 text-gray-800 px-4 py-2 rounded cursor-pointer transition-colors",children:"Choose File"}),L&&i.jsx("button",{onClick:$t,disabled:n,className:"ml-2 bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded disabled:opacity-50",children:n?"Uploading...":"Upload"}),i.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"JPG Max 5MB."})]})]})})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow border border-gray-200",children:[i.jsx("div",{className:"p-4 border-b border-gray-200",children:i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Profile Information"})}),i.jsxs("div",{className:"p-4 space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Display Name"}),U==="display_name"?i.jsxs("form",{onSubmit:ht,className:"flex gap-2",children:[i.jsx("input",{type:"text",value:O.display_name,onChange:D=>B({...O,display_name:D.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"}),i.jsx("button",{type:"submit",disabled:n,className:"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 disabled:opacity-50",children:"Save"}),i.jsx("button",{type:"button",onClick:()=>I(null),className:"bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600",children:"Cancel"})]}):i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-gray-900",children:e.display_name||"Not set"}),i.jsx("button",{onClick:()=>I("display_name"),className:"text-blue-500 hover:text-blue-600 text-sm",children:"Edit"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nickname"}),U==="nickname"?i.jsxs("form",{onSubmit:ht,className:"flex gap-2",children:[i.jsx("input",{type:"text",value:O.nickname,onChange:D=>B({...O,nickname:D.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"}),i.jsx("button",{type:"submit",disabled:n,className:"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 disabled:opacity-50",children:"Save"}),i.jsx("button",{type:"button",onClick:()=>I(null),className:"bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600",children:"Cancel"})]}):i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-gray-900",children:e.nickname||"Not set"}),i.jsx("button",{onClick:()=>I("nickname"),className:"text-blue-500 hover:text-blue-600 text-sm",children:"Edit"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),U==="email"?i.jsxs("form",{onSubmit:ht,className:"flex gap-2",children:[i.jsx("input",{type:"email",value:O.email,onChange:D=>B({...O,email:D.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"}),i.jsx("button",{type:"submit",disabled:n,className:"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 disabled:opacity-50",children:"Save"}),i.jsx("button",{type:"button",onClick:()=>I(null),className:"bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600",children:"Cancel"})]}):i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-gray-900",children:e.email||"Not set"}),i.jsx("button",{onClick:()=>I("email"),className:"text-blue-500 hover:text-blue-600 text-sm",children:"Edit"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Username"}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-gray-900",children:e.username}),i.jsx("span",{className:"text-xs text-gray-500",children:"Cannot be changed"})]})]})]})]})]}),l==="security"&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-white rounded-lg shadow border border-gray-200",children:[i.jsx("div",{className:"p-4 border-b border-gray-200",children:i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Change Password"})}),i.jsx("div",{className:"p-4",children:i.jsxs("form",{onSubmit:Ft,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Current Password"}),i.jsx("input",{type:"password",value:P.current_password,onChange:D=>M({...P,current_password:D.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"New Password"}),i.jsx("input",{type:"password",value:P.new_password,onChange:D=>M({...P,new_password:D.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0,minLength:8})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm New Password"}),i.jsx("input",{type:"password",value:P.confirm_password,onChange:D=>M({...P,confirm_password:D.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0,minLength:8})]}),i.jsx("button",{type:"submit",disabled:n,className:"w-full bg-blue-500 text-white py-2 px-4 rounded-lg hover:bg-blue-600 disabled:opacity-50",children:n?"Changing Password...":"Change Password"})]})})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow border border-gray-200",children:[i.jsxs("div",{className:"p-4 border-b border-gray-200",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Two-Factor Authentication"}),i.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Add an extra layer of security to your account"})]}),i.jsx("div",{className:"p-4",children:e.two_factor_enabled?i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center",children:i.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-gray-900",children:"2FA Enabled"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Your account is protected"})]})]}),i.jsx("button",{onClick:()=>h(!0),className:"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg transition-colors",children:"Disable"})]}):i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 bg-gray-100 rounded-full flex items-center justify-center",children:i.jsx("svg",{className:"w-6 h-6 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:1.5,children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z"})})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-gray-900",children:"2FA Disabled"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Enable for better security"})]})]}),i.jsx("button",{onClick:()=>d(!0),className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg transition-colors",children:"Enable"})]})})]})]}),l==="privacy"&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-white rounded-lg shadow border border-gray-200",children:[i.jsx("div",{className:"p-4 border-b border-gray-200",children:i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Privacy policy Ft_transcendence"})}),i.jsx("div",{className:"p-6",children:i.jsxs("p",{className:"text-sm text-gray-700 leading-relaxed",children:["If you want to read the privacy policy,"," ",i.jsx("button",{type:"button",onClick:()=>x(!0),className:"text-sm text-blue-600 hover:text-blue-500 font-medium underline focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-1 rounded",children:"click here"}),"."]})})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow border border-gray-200",children:[i.jsx("div",{className:"p-4 border-b border-gray-200",children:i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Anonymous Mode"})}),i.jsx("div",{className:"p-6",children:e.is_anonymous?i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:i.jsxs("div",{className:"flex gap-3",children:[i.jsx("svg",{className:"w-6 h-6 text-green-600 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-green-900 font-semibold mb-2",children:" Anonymous Mode Enabled"}),i.jsx("p",{className:"text-sm text-green-800 leading-relaxed",children:"Your profile is now in anonymous mode. Your personal information has been hidden and chat access is permanently restricted."})]})]})}),i.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[i.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Current Status:"}),i.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-green-500 font-bold",children:""}),i.jsx("span",{children:"Personal information is hidden"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-green-500 font-bold",children:""}),i.jsx("span",{children:"Chat access is permanently restricted"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-blue-500 font-bold",children:""}),i.jsx("span",{children:"Game statistics are preserved"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-blue-500 font-bold",children:""}),i.jsx("span",{children:"You can still play games"})]})]})]}),i.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:i.jsx("p",{className:"text-red-800 text-sm text-center font-semibold",children:" This action cannot be reversed"})})]}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6",children:i.jsxs("div",{className:"flex gap-3",children:[i.jsx("svg",{className:"w-6 h-6 text-yellow-600 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-yellow-900 font-semibold mb-2",children:"Warning: Permanent Action"}),i.jsxs("p",{className:"text-sm text-yellow-800 leading-relaxed",children:["Enabling anonymous mode is ",i.jsx("strong",{children:"permanent and cannot be reversed"}),". Your profile will be hidden, personal information removed, and chat access will be permanently restricted."]})]})]})}),i.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[i.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"What happens:"}),i.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-red-500 font-bold",children:""}),i.jsx("span",{children:"Personal information (email, display name) will be removed"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-red-500 font-bold",children:""}),i.jsx("span",{children:"Chat access will be permanently restricted"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-green-500 font-bold",children:""}),i.jsx("span",{children:"Game statistics will be preserved"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-green-500 font-bold",children:""}),i.jsx("span",{children:"You can still play games"})]})]})]}),i.jsxs("button",{onClick:()=>p(!0),className:"w-full bg-red-500 hover:bg-red-600 text-white px-6 py-3 rounded-lg font-medium transition-colors flex items-center justify-center gap-2",children:[i.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),"Enable Anonymous Mode"]})]})})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow border border-gray-200",children:[i.jsx("div",{className:"p-4 border-b border-gray-200",children:i.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:"Delete Account"})}),i.jsx("div",{className:"p-6",children:i.jsxs("div",{className:"bg-red-50 rounded-lg p-4",children:[i.jsx("p",{className:"text-sm text-red-800 mb-4",children:"Permanently delete your account and all associated data. This action cannot be undone."}),i.jsxs("button",{onClick:()=>{f(!0),S(""),C("")},className:"w-full bg-red-500 hover:bg-red-600 text-white px-6 py-3 rounded-lg font-medium transition-colors flex items-center justify-center gap-2",children:[i.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Delete Account"]})]})})]})]})]})]})]})},zm=()=>i.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("h1",{className:"text-9xl font-bold text-gray-300",children:"404"}),i.jsx("h2",{className:"text-4xl font-bold text-gray-700 mb-4",children:"Page Not Found"}),i.jsx("p",{className:"text-gray-600 mb-8",children:"Sorry, the page you're looking for doesn't exist."}),i.jsx("button",{onClick:()=>window.location.href="/",className:"bg-blue-500 text-white px-6 py-3 rounded-lg hover:bg-blue-600 transition-colors",children:"Go Home"})]})});function Ab(){const{username:e}=oy();return e?i.jsx(ky,{username:e}):i.jsx(zm,{})}function Cb({user:e,onLogin:t,onLogout:l}){const a=hm(),n=gi(),s=()=>{const u=n.pathname;return u==="/"?"home":u.startsWith("/user/")?"userProfile":u==="/game"?"game":u==="/leaderboard"?"leaderboard":u==="/profile"?"profile":u==="/settings"?"settings":"home"},r=u=>{a(u==="home"?"/":`/${u}`)},c=u=>{a(`/user/${u}`)};return i.jsx(Uy,{user:e,currentView:s(),setCurrentView:r,onLogin:t,onLogout:l,navigateToUserProfile:c,children:i.jsx(Ey,{})})}function Ob(){const[e,t]=b.useState(!1),[l,a]=b.useState(!0),[n,s]=b.useState(null),[r,c]=b.useState(!0);b.useEffect(()=>{u()},[]),b.useEffect(()=>{const h=()=>{document.visibilityState==="visible"&&u()};return document.addEventListener("visibilitychange",h),()=>document.removeEventListener("visibilitychange",h)},[]),b.useEffect(()=>{const h=()=>{s(null),t(!1)};return window.addEventListener("auth:unauthorized",h),()=>window.removeEventListener("auth:unauthorized",h)},[]);const u=async()=>{try{if(!localStorage.getItem("token")){c(!1);return}const m=await re("/api/auth/validate");if(m.ok){const g=await m.json();s(g.user),t(!0);const v=await sc();v&&s(p=>p?{...p,...v}:v)}else localStorage.removeItem("token"),s(null),t(!1)}catch(h){console.error("Session check failed:",h)}c(!1)},d=async(h,m)=>{localStorage.setItem("token",m),s(h),t(!0);const g=await sc();g&&s(v=>v?{...v,...g}:g)},y=async()=>{try{const h=localStorage.getItem("token");h&&await fetch("/api/auth/logout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:h})})}catch(h){console.error("Logout failed:",h)}localStorage.removeItem("token"),s(null),t(!1)};return r?i.jsx("div",{className:"min-h-screen bg-gradient-to-b from-slate-800 via-blue-950 to-slate-950 flex items-center justify-center",children:i.jsx("div",{className:"text-xl text-white",children:"Loading..."})}):e?i.jsx(zy,{children:i.jsx("div",{className:"min-h-screen bg-gradient-to-b from-slate-800 via-blue-950 to-slate-950",children:i.jsx(Ay,{children:i.jsxs(Dt,{path:"/",element:i.jsx(Cb,{user:n,onLogin:d,onLogout:y}),children:[i.jsx(Dt,{index:!0,element:i.jsx(Hy,{user:n})}),i.jsx(Dt,{path:"/game",element:i.jsx(Nb,{})}),i.jsx(Dt,{path:"/leaderboard",element:i.jsx(Sb,{})}),i.jsx(Dt,{path:"/profile",element:i.jsx(wb,{user:n})}),i.jsx(Dt,{path:"/settings",element:i.jsx(Tb,{user:n,onUserUpdate:s})}),i.jsx(Dt,{path:"/user/:username",element:i.jsx(Ab,{})}),i.jsx(Dt,{path:"*",element:i.jsx(zm,{})})]})})})}):i.jsx(By,{onLoginSuccess:d,children:l?i.jsx(jm,{onLoginSuccess:d,onSwitchToRegister:()=>a(!1),isInPanel:!0}):i.jsx(Nm,{onSwitchToLogin:()=>a(!0),isInPanel:!0})})}Mg.createRoot(document.getElementById("root")).render(i.jsx(od.StrictMode,{children:i.jsx(Ob,{})}));
