function Rm(e,t){for(var l=0;l<t.length;l++){const a=t[l];if(typeof a!="string"&&!Array.isArray(a)){for(const n in a)if(n!=="default"&&!(n in e)){const i=Object.getOwnPropertyDescriptor(a,n);i&&Object.defineProperty(e,n,i.get?i:{enumerable:!0,get:()=>a[n]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const r of i.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&a(r)}).observe(document,{childList:!0,subtree:!0});function l(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(n){if(n.ep)return;n.ep=!0;const i=l(n);fetch(n.href,i)}})();function ed(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var td={exports:{}},$s={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dm=Symbol.for("react.transitional.element"),Um=Symbol.for("react.fragment");function ld(e,t,l){var a=null;if(l!==void 0&&(a=""+l),t.key!==void 0&&(a=""+t.key),"key"in t){l={};for(var n in t)n!=="key"&&(l[n]=t[n])}else l=t;return t=l.ref,{$$typeof:Dm,type:e,key:a,ref:t!==void 0?t:null,props:l}}$s.Fragment=Um;$s.jsx=ld;$s.jsxs=ld;td.exports=$s;var s=td.exports,ad={exports:{}},q={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ic=Symbol.for("react.transitional.element"),km=Symbol.for("react.portal"),Lm=Symbol.for("react.fragment"),Bm=Symbol.for("react.strict_mode"),Hm=Symbol.for("react.profiler"),Ym=Symbol.for("react.consumer"),Gm=Symbol.for("react.context"),qm=Symbol.for("react.forward_ref"),Xm=Symbol.for("react.suspense"),Qm=Symbol.for("react.memo"),nd=Symbol.for("react.lazy"),Vm=Symbol.for("react.activity"),fo=Symbol.iterator;function Zm(e){return e===null||typeof e!="object"?null:(e=fo&&e[fo]||e["@@iterator"],typeof e=="function"?e:null)}var sd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},id=Object.assign,rd={};function _a(e,t,l){this.props=e,this.context=t,this.refs=rd,this.updater=l||sd}_a.prototype.isReactComponent={};_a.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};_a.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function cd(){}cd.prototype=_a.prototype;function rc(e,t,l){this.props=e,this.context=t,this.refs=rd,this.updater=l||sd}var cc=rc.prototype=new cd;cc.constructor=rc;id(cc,_a.prototype);cc.isPureReactComponent=!0;var mo=Array.isArray;function ir(){}var fe={H:null,A:null,T:null,S:null},od=Object.prototype.hasOwnProperty;function oc(e,t,l){var a=l.ref;return{$$typeof:ic,type:e,key:t,ref:a!==void 0?a:null,props:l}}function Jm(e,t){return oc(e.type,t,e.props)}function uc(e){return typeof e=="object"&&e!==null&&e.$$typeof===ic}function Km(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(l){return t[l]})}var ho=/\/+/g;function bi(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Km(""+e.key):t.toString(36)}function Fm(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(ir,ir):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function $l(e,t,l,a,n){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var r=!1;if(e===null)r=!0;else switch(i){case"bigint":case"string":case"number":r=!0;break;case"object":switch(e.$$typeof){case ic:case km:r=!0;break;case nd:return r=e._init,$l(r(e._payload),t,l,a,n)}}if(r)return n=n(e),r=a===""?"."+bi(e,0):a,mo(n)?(l="",r!=null&&(l=r.replace(ho,"$&/")+"/"),$l(n,t,l,"",function(d){return d})):n!=null&&(uc(n)&&(n=Jm(n,l+(n.key==null||e&&e.key===n.key?"":(""+n.key).replace(ho,"$&/")+"/")+r)),t.push(n)),1;r=0;var c=a===""?".":a+":";if(mo(e))for(var o=0;o<e.length;o++)a=e[o],i=c+bi(a,o),r+=$l(a,t,l,i,n);else if(o=Zm(e),typeof o=="function")for(e=o.call(e),o=0;!(a=e.next()).done;)a=a.value,i=c+bi(a,o++),r+=$l(a,t,l,i,n);else if(i==="object"){if(typeof e.then=="function")return $l(Fm(e),t,l,a,n);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return r}function Qn(e,t,l){if(e==null)return e;var a=[],n=0;return $l(e,a,"","",function(i){return t.call(l,i,n++)}),a}function $m(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(l){(e._status===0||e._status===-1)&&(e._status=1,e._result=l)},function(l){(e._status===0||e._status===-1)&&(e._status=2,e._result=l)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var xo=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Wm={map:Qn,forEach:function(e,t,l){Qn(e,function(){t.apply(this,arguments)},l)},count:function(e){var t=0;return Qn(e,function(){t++}),t},toArray:function(e){return Qn(e,function(t){return t})||[]},only:function(e){if(!uc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};q.Activity=Vm;q.Children=Wm;q.Component=_a;q.Fragment=Lm;q.Profiler=Hm;q.PureComponent=rc;q.StrictMode=Bm;q.Suspense=Xm;q.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=fe;q.__COMPILER_RUNTIME={__proto__:null,c:function(e){return fe.H.useMemoCache(e)}};q.cache=function(e){return function(){return e.apply(null,arguments)}};q.cacheSignal=function(){return null};q.cloneElement=function(e,t,l){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var a=id({},e.props),n=e.key;if(t!=null)for(i in t.key!==void 0&&(n=""+t.key),t)!od.call(t,i)||i==="key"||i==="__self"||i==="__source"||i==="ref"&&t.ref===void 0||(a[i]=t[i]);var i=arguments.length-2;if(i===1)a.children=l;else if(1<i){for(var r=Array(i),c=0;c<i;c++)r[c]=arguments[c+2];a.children=r}return oc(e.type,n,a)};q.createContext=function(e){return e={$$typeof:Gm,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:Ym,_context:e},e};q.createElement=function(e,t,l){var a,n={},i=null;if(t!=null)for(a in t.key!==void 0&&(i=""+t.key),t)od.call(t,a)&&a!=="key"&&a!=="__self"&&a!=="__source"&&(n[a]=t[a]);var r=arguments.length-2;if(r===1)n.children=l;else if(1<r){for(var c=Array(r),o=0;o<r;o++)c[o]=arguments[o+2];n.children=c}if(e&&e.defaultProps)for(a in r=e.defaultProps,r)n[a]===void 0&&(n[a]=r[a]);return oc(e,i,n)};q.createRef=function(){return{current:null}};q.forwardRef=function(e){return{$$typeof:qm,render:e}};q.isValidElement=uc;q.lazy=function(e){return{$$typeof:nd,_payload:{_status:-1,_result:e},_init:$m}};q.memo=function(e,t){return{$$typeof:Qm,type:e,compare:t===void 0?null:t}};q.startTransition=function(e){var t=fe.T,l={};fe.T=l;try{var a=e(),n=fe.S;n!==null&&n(l,a),typeof a=="object"&&a!==null&&typeof a.then=="function"&&a.then(ir,xo)}catch(i){xo(i)}finally{t!==null&&l.types!==null&&(t.types=l.types),fe.T=t}};q.unstable_useCacheRefresh=function(){return fe.H.useCacheRefresh()};q.use=function(e){return fe.H.use(e)};q.useActionState=function(e,t,l){return fe.H.useActionState(e,t,l)};q.useCallback=function(e,t){return fe.H.useCallback(e,t)};q.useContext=function(e){return fe.H.useContext(e)};q.useDebugValue=function(){};q.useDeferredValue=function(e,t){return fe.H.useDeferredValue(e,t)};q.useEffect=function(e,t){return fe.H.useEffect(e,t)};q.useEffectEvent=function(e){return fe.H.useEffectEvent(e)};q.useId=function(){return fe.H.useId()};q.useImperativeHandle=function(e,t,l){return fe.H.useImperativeHandle(e,t,l)};q.useInsertionEffect=function(e,t){return fe.H.useInsertionEffect(e,t)};q.useLayoutEffect=function(e,t){return fe.H.useLayoutEffect(e,t)};q.useMemo=function(e,t){return fe.H.useMemo(e,t)};q.useOptimistic=function(e,t){return fe.H.useOptimistic(e,t)};q.useReducer=function(e,t,l){return fe.H.useReducer(e,t,l)};q.useRef=function(e){return fe.H.useRef(e)};q.useState=function(e){return fe.H.useState(e)};q.useSyncExternalStore=function(e,t,l){return fe.H.useSyncExternalStore(e,t,l)};q.useTransition=function(){return fe.H.useTransition()};q.version="19.2.4";ad.exports=q;var p=ad.exports;const ud=ed(p),Pm=Rm({__proto__:null,default:ud},[p]);var dd={exports:{}},Ws={},fd={exports:{}},md={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,U){var L=T.length;T.push(U);e:for(;0<L;){var I=L-1>>>1,G=T[I];if(0<n(G,U))T[I]=U,T[L]=G,L=I;else break e}}function l(T){return T.length===0?null:T[0]}function a(T){if(T.length===0)return null;var U=T[0],L=T.pop();if(L!==U){T[0]=L;e:for(var I=0,G=T.length,mt=G>>>1;I<mt;){var Kt=2*(I+1)-1,Ft=T[Kt],ht=Kt+1,$t=T[ht];if(0>n(Ft,L))ht<G&&0>n($t,Ft)?(T[I]=$t,T[ht]=L,I=ht):(T[I]=Ft,T[Kt]=L,I=Kt);else if(ht<G&&0>n($t,L))T[I]=$t,T[ht]=L,I=ht;else break e}}return U}function n(T,U){var L=T.sortIndex-U.sortIndex;return L!==0?L:T.id-U.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var r=Date,c=r.now();e.unstable_now=function(){return r.now()-c}}var o=[],d=[],y=1,x=null,m=3,g=!1,v=!1,b=!1,N=!1,f=typeof setTimeout=="function"?setTimeout:null,u=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;function j(T){for(var U=l(d);U!==null;){if(U.callback===null)a(d);else if(U.startTime<=T)a(d),U.sortIndex=U.expirationTime,t(o,U);else break;U=l(d)}}function E(T){if(b=!1,j(T),!v)if(l(o)!==null)v=!0,_||(_=!0,R());else{var U=l(d);U!==null&&W(E,U.startTime-T)}}var _=!1,S=-1,C=5,z=-1;function O(){return N?!0:!(e.unstable_now()-z<C)}function H(){if(N=!1,_){var T=e.unstable_now();z=T;var U=!0;try{e:{v=!1,b&&(b=!1,u(S),S=-1),g=!0;var L=m;try{t:{for(j(T),x=l(o);x!==null&&!(x.expirationTime>T&&O());){var I=x.callback;if(typeof I=="function"){x.callback=null,m=x.priorityLevel;var G=I(x.expirationTime<=T);if(T=e.unstable_now(),typeof G=="function"){x.callback=G,j(T),U=!0;break t}x===l(o)&&a(o),j(T)}else a(o);x=l(o)}if(x!==null)U=!0;else{var mt=l(d);mt!==null&&W(E,mt.startTime-T),U=!1}}break e}finally{x=null,m=L,g=!1}U=void 0}}finally{U?R():_=!1}}}var R;if(typeof h=="function")R=function(){h(H)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,k=D.port2;D.port1.onmessage=H,R=function(){k.postMessage(null)}}else R=function(){f(H,0)};function W(T,U){S=f(function(){T(e.unstable_now())},U)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_next=function(T){switch(m){case 1:case 2:case 3:var U=3;break;default:U=m}var L=m;m=U;try{return T()}finally{m=L}},e.unstable_requestPaint=function(){N=!0},e.unstable_runWithPriority=function(T,U){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var L=m;m=T;try{return U()}finally{m=L}},e.unstable_scheduleCallback=function(T,U,L){var I=e.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?I+L:I):L=I,T){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=L+G,T={id:y++,callback:U,priorityLevel:T,startTime:L,expirationTime:G,sortIndex:-1},L>I?(T.sortIndex=L,t(d,T),l(o)===null&&T===l(d)&&(b?(u(S),S=-1):b=!0,W(E,L-I))):(T.sortIndex=G,t(o,T),v||g||(v=!0,_||(_=!0,R()))),T},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(T){var U=m;return function(){var L=m;m=U;try{return T.apply(this,arguments)}finally{m=L}}}})(md);fd.exports=md;var Im=fd.exports,hd={exports:{}},Be={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eh=p;function xd(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)t+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Wt(){}var Le={d:{f:Wt,r:function(){throw Error(xd(522))},D:Wt,C:Wt,L:Wt,m:Wt,X:Wt,S:Wt,M:Wt},p:0,findDOMNode:null},th=Symbol.for("react.portal");function lh(e,t,l){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:th,key:a==null?null:""+a,children:e,containerInfo:t,implementation:l}}var Pa=eh.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Ps(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}Be.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Le;Be.createPortal=function(e,t){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(xd(299));return lh(e,t,null,l)};Be.flushSync=function(e){var t=Pa.T,l=Le.p;try{if(Pa.T=null,Le.p=2,e)return e()}finally{Pa.T=t,Le.p=l,Le.d.f()}};Be.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,Le.d.C(e,t))};Be.prefetchDNS=function(e){typeof e=="string"&&Le.d.D(e)};Be.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var l=t.as,a=Ps(l,t.crossOrigin),n=typeof t.integrity=="string"?t.integrity:void 0,i=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;l==="style"?Le.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:a,integrity:n,fetchPriority:i}):l==="script"&&Le.d.X(e,{crossOrigin:a,integrity:n,fetchPriority:i,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};Be.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var l=Ps(t.as,t.crossOrigin);Le.d.M(e,{crossOrigin:l,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&Le.d.M(e)};Be.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var l=t.as,a=Ps(l,t.crossOrigin);Le.d.L(e,l,{crossOrigin:a,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};Be.preloadModule=function(e,t){if(typeof e=="string")if(t){var l=Ps(t.as,t.crossOrigin);Le.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:l,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else Le.d.m(e)};Be.requestFormReset=function(e){Le.d.r(e)};Be.unstable_batchedUpdates=function(e,t){return e(t)};Be.useFormState=function(e,t,l){return Pa.H.useFormState(e,t,l)};Be.useFormStatus=function(){return Pa.H.useHostTransitionStatus()};Be.version="19.2.4";function gd(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(gd)}catch(e){console.error(e)}}gd(),hd.exports=Be;var ah=hd.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Te=Im,yd=p,nh=ah;function w(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)t+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function pd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function zn(e){var t=e,l=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(l=t.return),e=t.return;while(e)}return t.tag===3?l:null}function bd(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function vd(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function go(e){if(zn(e)!==e)throw Error(w(188))}function sh(e){var t=e.alternate;if(!t){if(t=zn(e),t===null)throw Error(w(188));return t!==e?null:e}for(var l=e,a=t;;){var n=l.return;if(n===null)break;var i=n.alternate;if(i===null){if(a=n.return,a!==null){l=a;continue}break}if(n.child===i.child){for(i=n.child;i;){if(i===l)return go(n),e;if(i===a)return go(n),t;i=i.sibling}throw Error(w(188))}if(l.return!==a.return)l=n,a=i;else{for(var r=!1,c=n.child;c;){if(c===l){r=!0,l=n,a=i;break}if(c===a){r=!0,a=n,l=i;break}c=c.sibling}if(!r){for(c=i.child;c;){if(c===l){r=!0,l=i,a=n;break}if(c===a){r=!0,a=i,l=n;break}c=c.sibling}if(!r)throw Error(w(189))}}if(l.alternate!==a)throw Error(w(190))}if(l.tag!==3)throw Error(w(188));return l.stateNode.current===l?e:t}function jd(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=jd(e),t!==null)return t;e=e.sibling}return null}var me=Object.assign,ih=Symbol.for("react.element"),Vn=Symbol.for("react.transitional.element"),Ja=Symbol.for("react.portal"),Il=Symbol.for("react.fragment"),Nd=Symbol.for("react.strict_mode"),rr=Symbol.for("react.profiler"),Sd=Symbol.for("react.consumer"),Ut=Symbol.for("react.context"),dc=Symbol.for("react.forward_ref"),cr=Symbol.for("react.suspense"),or=Symbol.for("react.suspense_list"),fc=Symbol.for("react.memo"),Pt=Symbol.for("react.lazy"),ur=Symbol.for("react.activity"),rh=Symbol.for("react.memo_cache_sentinel"),yo=Symbol.iterator;function Ya(e){return e===null||typeof e!="object"?null:(e=yo&&e[yo]||e["@@iterator"],typeof e=="function"?e:null)}var ch=Symbol.for("react.client.reference");function dr(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ch?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Il:return"Fragment";case rr:return"Profiler";case Nd:return"StrictMode";case cr:return"Suspense";case or:return"SuspenseList";case ur:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Ja:return"Portal";case Ut:return e.displayName||"Context";case Sd:return(e._context.displayName||"Context")+".Consumer";case dc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case fc:return t=e.displayName||null,t!==null?t:dr(e.type)||"Memo";case Pt:t=e._payload,e=e._init;try{return dr(e(t))}catch{}}return null}var Ka=Array.isArray,B=yd.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=nh.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,_l={pending:!1,data:null,method:null,action:null},fr=[],ea=-1;function Et(e){return{current:e}}function Oe(e){0>ea||(e.current=fr[ea],fr[ea]=null,ea--)}function oe(e,t){ea++,fr[ea]=e.current,e.current=t}var wt=Et(null),hn=Et(null),dl=Et(null),js=Et(null);function Ns(e,t){switch(oe(dl,t),oe(hn,e),oe(wt,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Su(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Su(t),e=Q0(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Oe(wt),oe(wt,e)}function ba(){Oe(wt),Oe(hn),Oe(dl)}function mr(e){e.memoizedState!==null&&oe(js,e);var t=wt.current,l=Q0(t,e.type);t!==l&&(oe(hn,e),oe(wt,l))}function Ss(e){hn.current===e&&(Oe(wt),Oe(hn)),js.current===e&&(Oe(js),En._currentValue=_l)}var vi,po;function Al(e){if(vi===void 0)try{throw Error()}catch(l){var t=l.stack.trim().match(/\n( *(at )?)/);vi=t&&t[1]||"",po=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+vi+e+po}var ji=!1;function Ni(e,t){if(!e||ji)return"";ji=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var x=function(){throw Error()};if(Object.defineProperty(x.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(x,[])}catch(g){var m=g}Reflect.construct(e,[],x)}else{try{x.call()}catch(g){m=g}e.call(x.prototype)}}else{try{throw Error()}catch(g){m=g}(x=e())&&typeof x.catch=="function"&&x.catch(function(){})}}catch(g){if(g&&m&&typeof g.stack=="string")return[g.stack,m.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var n=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");n&&n.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=a.DetermineComponentFrameRoot(),r=i[0],c=i[1];if(r&&c){var o=r.split(`
`),d=c.split(`
`);for(n=a=0;a<o.length&&!o[a].includes("DetermineComponentFrameRoot");)a++;for(;n<d.length&&!d[n].includes("DetermineComponentFrameRoot");)n++;if(a===o.length||n===d.length)for(a=o.length-1,n=d.length-1;1<=a&&0<=n&&o[a]!==d[n];)n--;for(;1<=a&&0<=n;a--,n--)if(o[a]!==d[n]){if(a!==1||n!==1)do if(a--,n--,0>n||o[a]!==d[n]){var y=`
`+o[a].replace(" at new "," at ");return e.displayName&&y.includes("<anonymous>")&&(y=y.replace("<anonymous>",e.displayName)),y}while(1<=a&&0<=n);break}}}finally{ji=!1,Error.prepareStackTrace=l}return(l=e?e.displayName||e.name:"")?Al(l):""}function oh(e,t){switch(e.tag){case 26:case 27:case 5:return Al(e.type);case 16:return Al("Lazy");case 13:return e.child!==t&&t!==null?Al("Suspense Fallback"):Al("Suspense");case 19:return Al("SuspenseList");case 0:case 15:return Ni(e.type,!1);case 11:return Ni(e.type.render,!1);case 1:return Ni(e.type,!0);case 31:return Al("Activity");default:return""}}function bo(e){try{var t="",l=null;do t+=oh(e,l),l=e,e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var hr=Object.prototype.hasOwnProperty,mc=Te.unstable_scheduleCallback,Si=Te.unstable_cancelCallback,uh=Te.unstable_shouldYield,dh=Te.unstable_requestPaint,We=Te.unstable_now,fh=Te.unstable_getCurrentPriorityLevel,wd=Te.unstable_ImmediatePriority,Ed=Te.unstable_UserBlockingPriority,ws=Te.unstable_NormalPriority,mh=Te.unstable_LowPriority,Td=Te.unstable_IdlePriority,hh=Te.log,xh=Te.unstable_setDisableYieldValue,_n=null,Pe=null;function nl(e){if(typeof hh=="function"&&xh(e),Pe&&typeof Pe.setStrictMode=="function")try{Pe.setStrictMode(_n,e)}catch{}}var Ie=Math.clz32?Math.clz32:ph,gh=Math.log,yh=Math.LN2;function ph(e){return e>>>=0,e===0?32:31-(gh(e)/yh|0)|0}var Zn=256,Jn=262144,Kn=4194304;function Cl(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Is(e,t,l){var a=e.pendingLanes;if(a===0)return 0;var n=0,i=e.suspendedLanes,r=e.pingedLanes;e=e.warmLanes;var c=a&134217727;return c!==0?(a=c&~i,a!==0?n=Cl(a):(r&=c,r!==0?n=Cl(r):l||(l=c&~e,l!==0&&(n=Cl(l))))):(c=a&~i,c!==0?n=Cl(c):r!==0?n=Cl(r):l||(l=a&~e,l!==0&&(n=Cl(l)))),n===0?0:t!==0&&t!==n&&!(t&i)&&(i=n&-n,l=t&-t,i>=l||i===32&&(l&4194048)!==0)?t:n}function Mn(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function bh(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ad(){var e=Kn;return Kn<<=1,!(Kn&62914560)&&(Kn=4194304),e}function wi(e){for(var t=[],l=0;31>l;l++)t.push(e);return t}function Rn(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function vh(e,t,l,a,n,i){var r=e.pendingLanes;e.pendingLanes=l,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=l,e.entangledLanes&=l,e.errorRecoveryDisabledLanes&=l,e.shellSuspendCounter=0;var c=e.entanglements,o=e.expirationTimes,d=e.hiddenUpdates;for(l=r&~l;0<l;){var y=31-Ie(l),x=1<<y;c[y]=0,o[y]=-1;var m=d[y];if(m!==null)for(d[y]=null,y=0;y<m.length;y++){var g=m[y];g!==null&&(g.lane&=-536870913)}l&=~x}a!==0&&Cd(e,a,0),i!==0&&n===0&&e.tag!==0&&(e.suspendedLanes|=i&~(r&~t))}function Cd(e,t,l){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-Ie(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|l&261930}function Od(e,t){var l=e.entangledLanes|=t;for(e=e.entanglements;l;){var a=31-Ie(l),n=1<<a;n&t|e[a]&t&&(e[a]|=t),l&=~n}}function zd(e,t){var l=t&-t;return l=l&42?1:hc(l),l&(e.suspendedLanes|t)?0:l}function hc(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function xc(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function _d(){var e=le.p;return e!==0?e:(e=window.event,e===void 0?32:tm(e.type))}function vo(e,t){var l=le.p;try{return le.p=e,t()}finally{le.p=l}}var wl=Math.random().toString(36).slice(2),_e="__reactFiber$"+wl,Ve="__reactProps$"+wl,Ma="__reactContainer$"+wl,xr="__reactEvents$"+wl,jh="__reactListeners$"+wl,Nh="__reactHandles$"+wl,jo="__reactResources$"+wl,Dn="__reactMarker$"+wl;function gc(e){delete e[_e],delete e[Ve],delete e[xr],delete e[jh],delete e[Nh]}function ta(e){var t=e[_e];if(t)return t;for(var l=e.parentNode;l;){if(t=l[Ma]||l[_e]){if(l=t.alternate,t.child!==null||l!==null&&l.child!==null)for(e=Cu(e);e!==null;){if(l=e[_e])return l;e=Cu(e)}return t}e=l,l=e.parentNode}return null}function Ra(e){if(e=e[_e]||e[Ma]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Fa(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(w(33))}function da(e){var t=e[jo];return t||(t=e[jo]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ce(e){e[Dn]=!0}var Md=new Set,Rd={};function ql(e,t){va(e,t),va(e+"Capture",t)}function va(e,t){for(Rd[e]=t,e=0;e<t.length;e++)Md.add(t[e])}var Sh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),No={},So={};function wh(e){return hr.call(So,e)?!0:hr.call(No,e)?!1:Sh.test(e)?So[e]=!0:(No[e]=!0,!1)}function is(e,t,l){if(wh(t))if(l===null)e.removeAttribute(t);else{switch(typeof l){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+l)}}function Fn(e,t,l){if(l===null)e.removeAttribute(t);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+l)}}function At(e,t,l,a){if(a===null)e.removeAttribute(l);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(l);return}e.setAttributeNS(t,l,""+a)}}function nt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Dd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Eh(e,t,l){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var n=a.get,i=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(r){l=""+r,i.call(this,r)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(r){l=""+r},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function gr(e){if(!e._valueTracker){var t=Dd(e)?"checked":"value";e._valueTracker=Eh(e,t,""+e[t])}}function Ud(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var l=t.getValue(),a="";return e&&(a=Dd(e)?e.checked?"true":"false":e.value),e=a,e!==l?(t.setValue(e),!0):!1}function Es(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Th=/[\n"\\]/g;function rt(e){return e.replace(Th,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function yr(e,t,l,a,n,i,r,c){e.name="",r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"?e.type=r:e.removeAttribute("type"),t!=null?r==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+nt(t)):e.value!==""+nt(t)&&(e.value=""+nt(t)):r!=="submit"&&r!=="reset"||e.removeAttribute("value"),t!=null?pr(e,r,nt(t)):l!=null?pr(e,r,nt(l)):a!=null&&e.removeAttribute("value"),n==null&&i!=null&&(e.defaultChecked=!!i),n!=null&&(e.checked=n&&typeof n!="function"&&typeof n!="symbol"),c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"?e.name=""+nt(c):e.removeAttribute("name")}function kd(e,t,l,a,n,i,r,c){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.type=i),t!=null||l!=null){if(!(i!=="submit"&&i!=="reset"||t!=null)){gr(e);return}l=l!=null?""+nt(l):"",t=t!=null?""+nt(t):l,c||t===e.value||(e.value=t),e.defaultValue=t}a=a??n,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=c?e.checked:!!a,e.defaultChecked=!!a,r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(e.name=r),gr(e)}function pr(e,t,l){t==="number"&&Es(e.ownerDocument)===e||e.defaultValue===""+l||(e.defaultValue=""+l)}function fa(e,t,l,a){if(e=e.options,t){t={};for(var n=0;n<l.length;n++)t["$"+l[n]]=!0;for(l=0;l<e.length;l++)n=t.hasOwnProperty("$"+e[l].value),e[l].selected!==n&&(e[l].selected=n),n&&a&&(e[l].defaultSelected=!0)}else{for(l=""+nt(l),t=null,n=0;n<e.length;n++){if(e[n].value===l){e[n].selected=!0,a&&(e[n].defaultSelected=!0);return}t!==null||e[n].disabled||(t=e[n])}t!==null&&(t.selected=!0)}}function Ld(e,t,l){if(t!=null&&(t=""+nt(t),t!==e.value&&(e.value=t),l==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=l!=null?""+nt(l):""}function Bd(e,t,l,a){if(t==null){if(a!=null){if(l!=null)throw Error(w(92));if(Ka(a)){if(1<a.length)throw Error(w(93));a=a[0]}l=a}l==null&&(l=""),t=l}l=nt(t),e.defaultValue=l,a=e.textContent,a===l&&a!==""&&a!==null&&(e.value=a),gr(e)}function ja(e,t){if(t){var l=e.firstChild;if(l&&l===e.lastChild&&l.nodeType===3){l.nodeValue=t;return}}e.textContent=t}var Ah=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function wo(e,t,l){var a=t.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,l):typeof l!="number"||l===0||Ah.has(t)?t==="float"?e.cssFloat=l:e[t]=(""+l).trim():e[t]=l+"px"}function Hd(e,t,l){if(t!=null&&typeof t!="object")throw Error(w(62));if(e=e.style,l!=null){for(var a in l)!l.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var n in t)a=t[n],t.hasOwnProperty(n)&&l[n]!==a&&wo(e,n,a)}else for(var i in t)t.hasOwnProperty(i)&&wo(e,i,t[i])}function yc(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ch=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Oh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function rs(e){return Oh.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function kt(){}var br=null;function pc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var la=null,ma=null;function Eo(e){var t=Ra(e);if(t&&(e=t.stateNode)){var l=e[Ve]||null;e:switch(e=t.stateNode,t.type){case"input":if(yr(e,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),t=l.name,l.type==="radio"&&t!=null){for(l=e;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+rt(""+t)+'"][type="radio"]'),t=0;t<l.length;t++){var a=l[t];if(a!==e&&a.form===e.form){var n=a[Ve]||null;if(!n)throw Error(w(90));yr(a,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name)}}for(t=0;t<l.length;t++)a=l[t],a.form===e.form&&Ud(a)}break e;case"textarea":Ld(e,l.value,l.defaultValue);break e;case"select":t=l.value,t!=null&&fa(e,!!l.multiple,t,!1)}}}var Ei=!1;function Yd(e,t,l){if(Ei)return e(t,l);Ei=!0;try{var a=e(t);return a}finally{if(Ei=!1,(la!==null||ma!==null)&&(di(),la&&(t=la,e=ma,ma=la=null,Eo(t),e)))for(t=0;t<e.length;t++)Eo(e[t])}}function xn(e,t){var l=e.stateNode;if(l===null)return null;var a=l[Ve]||null;if(a===null)return null;l=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(l&&typeof l!="function")throw Error(w(231,t,typeof l));return l}var Gt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vr=!1;if(Gt)try{var Ga={};Object.defineProperty(Ga,"passive",{get:function(){vr=!0}}),window.addEventListener("test",Ga,Ga),window.removeEventListener("test",Ga,Ga)}catch{vr=!1}var sl=null,bc=null,cs=null;function Gd(){if(cs)return cs;var e,t=bc,l=t.length,a,n="value"in sl?sl.value:sl.textContent,i=n.length;for(e=0;e<l&&t[e]===n[e];e++);var r=l-e;for(a=1;a<=r&&t[l-a]===n[i-a];a++);return cs=n.slice(e,1<a?1-a:void 0)}function os(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function $n(){return!0}function To(){return!1}function Ze(e){function t(l,a,n,i,r){this._reactName=l,this._targetInst=n,this.type=a,this.nativeEvent=i,this.target=r,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(l=e[c],this[c]=l?l(i):i[c]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?$n:To,this.isPropagationStopped=To,this}return me(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=$n)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=$n)},persist:function(){},isPersistent:$n}),t}var Xl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ei=Ze(Xl),Un=me({},Xl,{view:0,detail:0}),zh=Ze(Un),Ti,Ai,qa,ti=me({},Un,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==qa&&(qa&&e.type==="mousemove"?(Ti=e.screenX-qa.screenX,Ai=e.screenY-qa.screenY):Ai=Ti=0,qa=e),Ti)},movementY:function(e){return"movementY"in e?e.movementY:Ai}}),Ao=Ze(ti),_h=me({},ti,{dataTransfer:0}),Mh=Ze(_h),Rh=me({},Un,{relatedTarget:0}),Ci=Ze(Rh),Dh=me({},Xl,{animationName:0,elapsedTime:0,pseudoElement:0}),Uh=Ze(Dh),kh=me({},Xl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Lh=Ze(kh),Bh=me({},Xl,{data:0}),Co=Ze(Bh),Hh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qh(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Gh[e])?!!t[e]:!1}function vc(){return qh}var Xh=me({},Un,{key:function(e){if(e.key){var t=Hh[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=os(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Yh[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vc,charCode:function(e){return e.type==="keypress"?os(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?os(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Qh=Ze(Xh),Vh=me({},ti,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Oo=Ze(Vh),Zh=me({},Un,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vc}),Jh=Ze(Zh),Kh=me({},Xl,{propertyName:0,elapsedTime:0,pseudoElement:0}),Fh=Ze(Kh),$h=me({},ti,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Wh=Ze($h),Ph=me({},Xl,{newState:0,oldState:0}),Ih=Ze(Ph),ex=[9,13,27,32],jc=Gt&&"CompositionEvent"in window,Ia=null;Gt&&"documentMode"in document&&(Ia=document.documentMode);var tx=Gt&&"TextEvent"in window&&!Ia,qd=Gt&&(!jc||Ia&&8<Ia&&11>=Ia),zo=" ",_o=!1;function Xd(e,t){switch(e){case"keyup":return ex.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var aa=!1;function lx(e,t){switch(e){case"compositionend":return Qd(t);case"keypress":return t.which!==32?null:(_o=!0,zo);case"textInput":return e=t.data,e===zo&&_o?null:e;default:return null}}function ax(e,t){if(aa)return e==="compositionend"||!jc&&Xd(e,t)?(e=Gd(),cs=bc=sl=null,aa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return qd&&t.locale!=="ko"?null:t.data;default:return null}}var nx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!nx[e.type]:t==="textarea"}function Vd(e,t,l,a){la?ma?ma.push(a):ma=[a]:la=a,t=Xs(t,"onChange"),0<t.length&&(l=new ei("onChange","change",null,l,a),e.push({event:l,listeners:t}))}var en=null,gn=null;function sx(e){G0(e,0)}function li(e){var t=Fa(e);if(Ud(t))return e}function Ro(e,t){if(e==="change")return t}var Zd=!1;if(Gt){var Oi;if(Gt){var zi="oninput"in document;if(!zi){var Do=document.createElement("div");Do.setAttribute("oninput","return;"),zi=typeof Do.oninput=="function"}Oi=zi}else Oi=!1;Zd=Oi&&(!document.documentMode||9<document.documentMode)}function Uo(){en&&(en.detachEvent("onpropertychange",Jd),gn=en=null)}function Jd(e){if(e.propertyName==="value"&&li(gn)){var t=[];Vd(t,gn,e,pc(e)),Yd(sx,t)}}function ix(e,t,l){e==="focusin"?(Uo(),en=t,gn=l,en.attachEvent("onpropertychange",Jd)):e==="focusout"&&Uo()}function rx(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return li(gn)}function cx(e,t){if(e==="click")return li(t)}function ox(e,t){if(e==="input"||e==="change")return li(t)}function ux(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var tt=typeof Object.is=="function"?Object.is:ux;function yn(e,t){if(tt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var l=Object.keys(e),a=Object.keys(t);if(l.length!==a.length)return!1;for(a=0;a<l.length;a++){var n=l[a];if(!hr.call(t,n)||!tt(e[n],t[n]))return!1}return!0}function ko(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Lo(e,t){var l=ko(e);e=0;for(var a;l;){if(l.nodeType===3){if(a=e+l.textContent.length,e<=t&&a>=t)return{node:l,offset:t-e};e=a}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=ko(l)}}function Kd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Kd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Fd(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Es(e.document);t instanceof e.HTMLIFrameElement;){try{var l=typeof t.contentWindow.location.href=="string"}catch{l=!1}if(l)e=t.contentWindow;else break;t=Es(e.document)}return t}function Nc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var dx=Gt&&"documentMode"in document&&11>=document.documentMode,na=null,jr=null,tn=null,Nr=!1;function Bo(e,t,l){var a=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Nr||na==null||na!==Es(a)||(a=na,"selectionStart"in a&&Nc(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),tn&&yn(tn,a)||(tn=a,a=Xs(jr,"onSelect"),0<a.length&&(t=new ei("onSelect","select",null,t,l),e.push({event:t,listeners:a}),t.target=na)))}function Tl(e,t){var l={};return l[e.toLowerCase()]=t.toLowerCase(),l["Webkit"+e]="webkit"+t,l["Moz"+e]="moz"+t,l}var sa={animationend:Tl("Animation","AnimationEnd"),animationiteration:Tl("Animation","AnimationIteration"),animationstart:Tl("Animation","AnimationStart"),transitionrun:Tl("Transition","TransitionRun"),transitionstart:Tl("Transition","TransitionStart"),transitioncancel:Tl("Transition","TransitionCancel"),transitionend:Tl("Transition","TransitionEnd")},_i={},$d={};Gt&&($d=document.createElement("div").style,"AnimationEvent"in window||(delete sa.animationend.animation,delete sa.animationiteration.animation,delete sa.animationstart.animation),"TransitionEvent"in window||delete sa.transitionend.transition);function Ql(e){if(_i[e])return _i[e];if(!sa[e])return e;var t=sa[e],l;for(l in t)if(t.hasOwnProperty(l)&&l in $d)return _i[e]=t[l];return e}var Wd=Ql("animationend"),Pd=Ql("animationiteration"),Id=Ql("animationstart"),fx=Ql("transitionrun"),mx=Ql("transitionstart"),hx=Ql("transitioncancel"),ef=Ql("transitionend"),tf=new Map,Sr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Sr.push("scrollEnd");function pt(e,t){tf.set(e,t),ql(t,[e])}var Ts=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},at=[],ia=0,Sc=0;function ai(){for(var e=ia,t=Sc=ia=0;t<e;){var l=at[t];at[t++]=null;var a=at[t];at[t++]=null;var n=at[t];at[t++]=null;var i=at[t];if(at[t++]=null,a!==null&&n!==null){var r=a.pending;r===null?n.next=n:(n.next=r.next,r.next=n),a.pending=n}i!==0&&lf(l,n,i)}}function ni(e,t,l,a){at[ia++]=e,at[ia++]=t,at[ia++]=l,at[ia++]=a,Sc|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function wc(e,t,l,a){return ni(e,t,l,a),As(e)}function Vl(e,t){return ni(e,null,null,t),As(e)}function lf(e,t,l){e.lanes|=l;var a=e.alternate;a!==null&&(a.lanes|=l);for(var n=!1,i=e.return;i!==null;)i.childLanes|=l,a=i.alternate,a!==null&&(a.childLanes|=l),i.tag===22&&(e=i.stateNode,e===null||e._visibility&1||(n=!0)),e=i,i=i.return;return e.tag===3?(i=e.stateNode,n&&t!==null&&(n=31-Ie(l),e=i.hiddenUpdates,a=e[n],a===null?e[n]=[t]:a.push(t),t.lane=l|536870912),i):null}function As(e){if(50<dn)throw dn=0,Qr=null,Error(w(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var ra={};function xx(e,t,l,a){this.tag=e,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fe(e,t,l,a){return new xx(e,t,l,a)}function Ec(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Bt(e,t){var l=e.alternate;return l===null?(l=Fe(e.tag,t,e.key,e.mode),l.elementType=e.elementType,l.type=e.type,l.stateNode=e.stateNode,l.alternate=e,e.alternate=l):(l.pendingProps=t,l.type=e.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=e.flags&65011712,l.childLanes=e.childLanes,l.lanes=e.lanes,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,t=e.dependencies,l.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},l.sibling=e.sibling,l.index=e.index,l.ref=e.ref,l.refCleanup=e.refCleanup,l}function af(e,t){e.flags&=65011714;var l=e.alternate;return l===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=l.childLanes,e.lanes=l.lanes,e.child=l.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=l.memoizedProps,e.memoizedState=l.memoizedState,e.updateQueue=l.updateQueue,e.type=l.type,t=l.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function us(e,t,l,a,n,i){var r=0;if(a=e,typeof e=="function")Ec(e)&&(r=1);else if(typeof e=="string")r=vg(e,l,wt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ur:return e=Fe(31,l,t,n),e.elementType=ur,e.lanes=i,e;case Il:return Ml(l.children,n,i,t);case Nd:r=8,n|=24;break;case rr:return e=Fe(12,l,t,n|2),e.elementType=rr,e.lanes=i,e;case cr:return e=Fe(13,l,t,n),e.elementType=cr,e.lanes=i,e;case or:return e=Fe(19,l,t,n),e.elementType=or,e.lanes=i,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ut:r=10;break e;case Sd:r=9;break e;case dc:r=11;break e;case fc:r=14;break e;case Pt:r=16,a=null;break e}r=29,l=Error(w(130,e===null?"null":typeof e,"")),a=null}return t=Fe(r,l,t,n),t.elementType=e,t.type=a,t.lanes=i,t}function Ml(e,t,l,a){return e=Fe(7,e,a,t),e.lanes=l,e}function Mi(e,t,l){return e=Fe(6,e,null,t),e.lanes=l,e}function nf(e){var t=Fe(18,null,null,0);return t.stateNode=e,t}function Ri(e,t,l){return t=Fe(4,e.children!==null?e.children:[],e.key,t),t.lanes=l,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Ho=new WeakMap;function ct(e,t){if(typeof e=="object"&&e!==null){var l=Ho.get(e);return l!==void 0?l:(t={value:e,source:t,stack:bo(t)},Ho.set(e,t),t)}return{value:e,source:t,stack:bo(t)}}var ca=[],oa=0,Cs=null,pn=0,st=[],it=0,vl=null,vt=1,jt="";function Rt(e,t){ca[oa++]=pn,ca[oa++]=Cs,Cs=e,pn=t}function sf(e,t,l){st[it++]=vt,st[it++]=jt,st[it++]=vl,vl=e;var a=vt;e=jt;var n=32-Ie(a)-1;a&=~(1<<n),l+=1;var i=32-Ie(t)+n;if(30<i){var r=n-n%5;i=(a&(1<<r)-1).toString(32),a>>=r,n-=r,vt=1<<32-Ie(t)+n|l<<n|a,jt=i+e}else vt=1<<i|l<<n|a,jt=e}function Tc(e){e.return!==null&&(Rt(e,1),sf(e,1,0))}function Ac(e){for(;e===Cs;)Cs=ca[--oa],ca[oa]=null,pn=ca[--oa],ca[oa]=null;for(;e===vl;)vl=st[--it],st[it]=null,jt=st[--it],st[it]=null,vt=st[--it],st[it]=null}function rf(e,t){st[it++]=vt,st[it++]=jt,st[it++]=vl,vt=t.id,jt=t.overflow,vl=e}var Me=null,de=null,$=!1,fl=null,ot=!1,wr=Error(w(519));function jl(e){var t=Error(w(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw bn(ct(t,e)),wr}function Yo(e){var t=e.stateNode,l=e.type,a=e.memoizedProps;switch(t[_e]=e,t[Ve]=a,l){case"dialog":J("cancel",t),J("close",t);break;case"iframe":case"object":case"embed":J("load",t);break;case"video":case"audio":for(l=0;l<Sn.length;l++)J(Sn[l],t);break;case"source":J("error",t);break;case"img":case"image":case"link":J("error",t),J("load",t);break;case"details":J("toggle",t);break;case"input":J("invalid",t),kd(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":J("invalid",t);break;case"textarea":J("invalid",t),Bd(t,a.value,a.defaultValue,a.children)}l=a.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||t.textContent===""+l||a.suppressHydrationWarning===!0||X0(t.textContent,l)?(a.popover!=null&&(J("beforetoggle",t),J("toggle",t)),a.onScroll!=null&&J("scroll",t),a.onScrollEnd!=null&&J("scrollend",t),a.onClick!=null&&(t.onclick=kt),t=!0):t=!1,t||jl(e,!0)}function Go(e){for(Me=e.return;Me;)switch(Me.tag){case 5:case 31:case 13:ot=!1;return;case 27:case 3:ot=!0;return;default:Me=Me.return}}function Jl(e){if(e!==Me)return!1;if(!$)return Go(e),$=!0,!1;var t=e.tag,l;if((l=t!==3&&t!==27)&&((l=t===5)&&(l=e.type,l=!(l!=="form"&&l!=="button")||Fr(e.type,e.memoizedProps)),l=!l),l&&de&&jl(e),Go(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(w(317));de=Au(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(w(317));de=Au(e)}else t===27?(t=de,El(e.type)?(e=Ir,Ir=null,de=e):de=t):de=Me?dt(e.stateNode.nextSibling):null;return!0}function Ll(){de=Me=null,$=!1}function Di(){var e=fl;return e!==null&&(qe===null?qe=e:qe.push.apply(qe,e),fl=null),e}function bn(e){fl===null?fl=[e]:fl.push(e)}var Er=Et(null),Zl=null,Lt=null;function el(e,t,l){oe(Er,t._currentValue),t._currentValue=l}function Ht(e){e._currentValue=Er.current,Oe(Er)}function Tr(e,t,l){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===l)break;e=e.return}}function Ar(e,t,l,a){var n=e.child;for(n!==null&&(n.return=e);n!==null;){var i=n.dependencies;if(i!==null){var r=n.child;i=i.firstContext;e:for(;i!==null;){var c=i;i=n;for(var o=0;o<t.length;o++)if(c.context===t[o]){i.lanes|=l,c=i.alternate,c!==null&&(c.lanes|=l),Tr(i.return,l,e),a||(r=null);break e}i=c.next}}else if(n.tag===18){if(r=n.return,r===null)throw Error(w(341));r.lanes|=l,i=r.alternate,i!==null&&(i.lanes|=l),Tr(r,l,e),r=null}else r=n.child;if(r!==null)r.return=n;else for(r=n;r!==null;){if(r===e){r=null;break}if(n=r.sibling,n!==null){n.return=r.return,r=n;break}r=r.return}n=r}}function Da(e,t,l,a){e=null;for(var n=t,i=!1;n!==null;){if(!i){if(n.flags&524288)i=!0;else if(n.flags&262144)break}if(n.tag===10){var r=n.alternate;if(r===null)throw Error(w(387));if(r=r.memoizedProps,r!==null){var c=n.type;tt(n.pendingProps.value,r.value)||(e!==null?e.push(c):e=[c])}}else if(n===js.current){if(r=n.alternate,r===null)throw Error(w(387));r.memoizedState.memoizedState!==n.memoizedState.memoizedState&&(e!==null?e.push(En):e=[En])}n=n.return}e!==null&&Ar(t,e,l,a),t.flags|=262144}function Os(e){for(e=e.firstContext;e!==null;){if(!tt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Bl(e){Zl=e,Lt=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Re(e){return cf(Zl,e)}function Wn(e,t){return Zl===null&&Bl(e),cf(e,t)}function cf(e,t){var l=t._currentValue;if(t={context:t,memoizedValue:l,next:null},Lt===null){if(e===null)throw Error(w(308));Lt=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Lt=Lt.next=t;return l}var gx=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(l,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(l){return l()})}},yx=Te.unstable_scheduleCallback,px=Te.unstable_NormalPriority,je={$$typeof:Ut,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Cc(){return{controller:new gx,data:new Map,refCount:0}}function kn(e){e.refCount--,e.refCount===0&&yx(px,function(){e.controller.abort()})}var ln=null,Cr=0,Na=0,ha=null;function bx(e,t){if(ln===null){var l=ln=[];Cr=0,Na=Ic(),ha={status:"pending",value:void 0,then:function(a){l.push(a)}}}return Cr++,t.then(qo,qo),t}function qo(){if(--Cr===0&&ln!==null){ha!==null&&(ha.status="fulfilled");var e=ln;ln=null,Na=0,ha=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function vx(e,t){var l=[],a={status:"pending",value:null,reason:null,then:function(n){l.push(n)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var n=0;n<l.length;n++)(0,l[n])(t)},function(n){for(a.status="rejected",a.reason=n,n=0;n<l.length;n++)(0,l[n])(void 0)}),a}var Xo=B.S;B.S=function(e,t){N0=We(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&bx(e,t),Xo!==null&&Xo(e,t)};var Rl=Et(null);function Oc(){var e=Rl.current;return e!==null?e:ce.pooledCache}function ds(e,t){t===null?oe(Rl,Rl.current):oe(Rl,t.pool)}function of(){var e=Oc();return e===null?null:{parent:je._currentValue,pool:e}}var Ua=Error(w(460)),zc=Error(w(474)),si=Error(w(542)),zs={then:function(){}};function Qo(e){return e=e.status,e==="fulfilled"||e==="rejected"}function uf(e,t,l){switch(l=e[l],l===void 0?e.push(t):l!==t&&(t.then(kt,kt),t=l),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Zo(e),e;default:if(typeof t.status=="string")t.then(kt,kt);else{if(e=ce,e!==null&&100<e.shellSuspendCounter)throw Error(w(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var n=t;n.status="fulfilled",n.value=a}},function(a){if(t.status==="pending"){var n=t;n.status="rejected",n.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Zo(e),e}throw Dl=t,Ua}}function Ol(e){try{var t=e._init;return t(e._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Dl=l,Ua):l}}var Dl=null;function Vo(){if(Dl===null)throw Error(w(459));var e=Dl;return Dl=null,e}function Zo(e){if(e===Ua||e===si)throw Error(w(483))}var xa=null,vn=0;function Pn(e){var t=vn;return vn+=1,xa===null&&(xa=[]),uf(xa,e,t)}function Xa(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function In(e,t){throw t.$$typeof===ih?Error(w(525)):(e=Object.prototype.toString.call(t),Error(w(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function df(e){function t(f,u){if(e){var h=f.deletions;h===null?(f.deletions=[u],f.flags|=16):h.push(u)}}function l(f,u){if(!e)return null;for(;u!==null;)t(f,u),u=u.sibling;return null}function a(f){for(var u=new Map;f!==null;)f.key!==null?u.set(f.key,f):u.set(f.index,f),f=f.sibling;return u}function n(f,u){return f=Bt(f,u),f.index=0,f.sibling=null,f}function i(f,u,h){return f.index=h,e?(h=f.alternate,h!==null?(h=h.index,h<u?(f.flags|=67108866,u):h):(f.flags|=67108866,u)):(f.flags|=1048576,u)}function r(f){return e&&f.alternate===null&&(f.flags|=67108866),f}function c(f,u,h,j){return u===null||u.tag!==6?(u=Mi(h,f.mode,j),u.return=f,u):(u=n(u,h),u.return=f,u)}function o(f,u,h,j){var E=h.type;return E===Il?y(f,u,h.props.children,j,h.key):u!==null&&(u.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Pt&&Ol(E)===u.type)?(u=n(u,h.props),Xa(u,h),u.return=f,u):(u=us(h.type,h.key,h.props,null,f.mode,j),Xa(u,h),u.return=f,u)}function d(f,u,h,j){return u===null||u.tag!==4||u.stateNode.containerInfo!==h.containerInfo||u.stateNode.implementation!==h.implementation?(u=Ri(h,f.mode,j),u.return=f,u):(u=n(u,h.children||[]),u.return=f,u)}function y(f,u,h,j,E){return u===null||u.tag!==7?(u=Ml(h,f.mode,j,E),u.return=f,u):(u=n(u,h),u.return=f,u)}function x(f,u,h){if(typeof u=="string"&&u!==""||typeof u=="number"||typeof u=="bigint")return u=Mi(""+u,f.mode,h),u.return=f,u;if(typeof u=="object"&&u!==null){switch(u.$$typeof){case Vn:return h=us(u.type,u.key,u.props,null,f.mode,h),Xa(h,u),h.return=f,h;case Ja:return u=Ri(u,f.mode,h),u.return=f,u;case Pt:return u=Ol(u),x(f,u,h)}if(Ka(u)||Ya(u))return u=Ml(u,f.mode,h,null),u.return=f,u;if(typeof u.then=="function")return x(f,Pn(u),h);if(u.$$typeof===Ut)return x(f,Wn(f,u),h);In(f,u)}return null}function m(f,u,h,j){var E=u!==null?u.key:null;if(typeof h=="string"&&h!==""||typeof h=="number"||typeof h=="bigint")return E!==null?null:c(f,u,""+h,j);if(typeof h=="object"&&h!==null){switch(h.$$typeof){case Vn:return h.key===E?o(f,u,h,j):null;case Ja:return h.key===E?d(f,u,h,j):null;case Pt:return h=Ol(h),m(f,u,h,j)}if(Ka(h)||Ya(h))return E!==null?null:y(f,u,h,j,null);if(typeof h.then=="function")return m(f,u,Pn(h),j);if(h.$$typeof===Ut)return m(f,u,Wn(f,h),j);In(f,h)}return null}function g(f,u,h,j,E){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return f=f.get(h)||null,c(u,f,""+j,E);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Vn:return f=f.get(j.key===null?h:j.key)||null,o(u,f,j,E);case Ja:return f=f.get(j.key===null?h:j.key)||null,d(u,f,j,E);case Pt:return j=Ol(j),g(f,u,h,j,E)}if(Ka(j)||Ya(j))return f=f.get(h)||null,y(u,f,j,E,null);if(typeof j.then=="function")return g(f,u,h,Pn(j),E);if(j.$$typeof===Ut)return g(f,u,h,Wn(u,j),E);In(u,j)}return null}function v(f,u,h,j){for(var E=null,_=null,S=u,C=u=0,z=null;S!==null&&C<h.length;C++){S.index>C?(z=S,S=null):z=S.sibling;var O=m(f,S,h[C],j);if(O===null){S===null&&(S=z);break}e&&S&&O.alternate===null&&t(f,S),u=i(O,u,C),_===null?E=O:_.sibling=O,_=O,S=z}if(C===h.length)return l(f,S),$&&Rt(f,C),E;if(S===null){for(;C<h.length;C++)S=x(f,h[C],j),S!==null&&(u=i(S,u,C),_===null?E=S:_.sibling=S,_=S);return $&&Rt(f,C),E}for(S=a(S);C<h.length;C++)z=g(S,f,C,h[C],j),z!==null&&(e&&z.alternate!==null&&S.delete(z.key===null?C:z.key),u=i(z,u,C),_===null?E=z:_.sibling=z,_=z);return e&&S.forEach(function(H){return t(f,H)}),$&&Rt(f,C),E}function b(f,u,h,j){if(h==null)throw Error(w(151));for(var E=null,_=null,S=u,C=u=0,z=null,O=h.next();S!==null&&!O.done;C++,O=h.next()){S.index>C?(z=S,S=null):z=S.sibling;var H=m(f,S,O.value,j);if(H===null){S===null&&(S=z);break}e&&S&&H.alternate===null&&t(f,S),u=i(H,u,C),_===null?E=H:_.sibling=H,_=H,S=z}if(O.done)return l(f,S),$&&Rt(f,C),E;if(S===null){for(;!O.done;C++,O=h.next())O=x(f,O.value,j),O!==null&&(u=i(O,u,C),_===null?E=O:_.sibling=O,_=O);return $&&Rt(f,C),E}for(S=a(S);!O.done;C++,O=h.next())O=g(S,f,C,O.value,j),O!==null&&(e&&O.alternate!==null&&S.delete(O.key===null?C:O.key),u=i(O,u,C),_===null?E=O:_.sibling=O,_=O);return e&&S.forEach(function(R){return t(f,R)}),$&&Rt(f,C),E}function N(f,u,h,j){if(typeof h=="object"&&h!==null&&h.type===Il&&h.key===null&&(h=h.props.children),typeof h=="object"&&h!==null){switch(h.$$typeof){case Vn:e:{for(var E=h.key;u!==null;){if(u.key===E){if(E=h.type,E===Il){if(u.tag===7){l(f,u.sibling),j=n(u,h.props.children),j.return=f,f=j;break e}}else if(u.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Pt&&Ol(E)===u.type){l(f,u.sibling),j=n(u,h.props),Xa(j,h),j.return=f,f=j;break e}l(f,u);break}else t(f,u);u=u.sibling}h.type===Il?(j=Ml(h.props.children,f.mode,j,h.key),j.return=f,f=j):(j=us(h.type,h.key,h.props,null,f.mode,j),Xa(j,h),j.return=f,f=j)}return r(f);case Ja:e:{for(E=h.key;u!==null;){if(u.key===E)if(u.tag===4&&u.stateNode.containerInfo===h.containerInfo&&u.stateNode.implementation===h.implementation){l(f,u.sibling),j=n(u,h.children||[]),j.return=f,f=j;break e}else{l(f,u);break}else t(f,u);u=u.sibling}j=Ri(h,f.mode,j),j.return=f,f=j}return r(f);case Pt:return h=Ol(h),N(f,u,h,j)}if(Ka(h))return v(f,u,h,j);if(Ya(h)){if(E=Ya(h),typeof E!="function")throw Error(w(150));return h=E.call(h),b(f,u,h,j)}if(typeof h.then=="function")return N(f,u,Pn(h),j);if(h.$$typeof===Ut)return N(f,u,Wn(f,h),j);In(f,h)}return typeof h=="string"&&h!==""||typeof h=="number"||typeof h=="bigint"?(h=""+h,u!==null&&u.tag===6?(l(f,u.sibling),j=n(u,h),j.return=f,f=j):(l(f,u),j=Mi(h,f.mode,j),j.return=f,f=j),r(f)):l(f,u)}return function(f,u,h,j){try{vn=0;var E=N(f,u,h,j);return xa=null,E}catch(S){if(S===Ua||S===si)throw S;var _=Fe(29,S,null,f.mode);return _.lanes=j,_.return=f,_}finally{}}}var Hl=df(!0),ff=df(!1),It=!1;function _c(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Or(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ml(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function hl(e,t,l){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,te&2){var n=a.pending;return n===null?t.next=t:(t.next=n.next,n.next=t),a.pending=t,t=As(e),lf(e,null,l),t}return ni(e,a,t,l),As(e)}function an(e,t,l){if(t=t.updateQueue,t!==null&&(t=t.shared,(l&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,l|=a,t.lanes=l,Od(e,l)}}function Ui(e,t){var l=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,l===a)){var n=null,i=null;if(l=l.firstBaseUpdate,l!==null){do{var r={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};i===null?n=i=r:i=i.next=r,l=l.next}while(l!==null);i===null?n=i=t:i=i.next=t}else n=i=t;l={baseState:a.baseState,firstBaseUpdate:n,lastBaseUpdate:i,shared:a.shared,callbacks:a.callbacks},e.updateQueue=l;return}e=l.lastBaseUpdate,e===null?l.firstBaseUpdate=t:e.next=t,l.lastBaseUpdate=t}var zr=!1;function nn(){if(zr){var e=ha;if(e!==null)throw e}}function sn(e,t,l,a){zr=!1;var n=e.updateQueue;It=!1;var i=n.firstBaseUpdate,r=n.lastBaseUpdate,c=n.shared.pending;if(c!==null){n.shared.pending=null;var o=c,d=o.next;o.next=null,r===null?i=d:r.next=d,r=o;var y=e.alternate;y!==null&&(y=y.updateQueue,c=y.lastBaseUpdate,c!==r&&(c===null?y.firstBaseUpdate=d:c.next=d,y.lastBaseUpdate=o))}if(i!==null){var x=n.baseState;r=0,y=d=o=null,c=i;do{var m=c.lane&-536870913,g=m!==c.lane;if(g?(F&m)===m:(a&m)===m){m!==0&&m===Na&&(zr=!0),y!==null&&(y=y.next={lane:0,tag:c.tag,payload:c.payload,callback:null,next:null});e:{var v=e,b=c;m=t;var N=l;switch(b.tag){case 1:if(v=b.payload,typeof v=="function"){x=v.call(N,x,m);break e}x=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=b.payload,m=typeof v=="function"?v.call(N,x,m):v,m==null)break e;x=me({},x,m);break e;case 2:It=!0}}m=c.callback,m!==null&&(e.flags|=64,g&&(e.flags|=8192),g=n.callbacks,g===null?n.callbacks=[m]:g.push(m))}else g={lane:m,tag:c.tag,payload:c.payload,callback:c.callback,next:null},y===null?(d=y=g,o=x):y=y.next=g,r|=m;if(c=c.next,c===null){if(c=n.shared.pending,c===null)break;g=c,c=g.next,g.next=null,n.lastBaseUpdate=g,n.shared.pending=null}}while(!0);y===null&&(o=x),n.baseState=o,n.firstBaseUpdate=d,n.lastBaseUpdate=y,i===null&&(n.shared.lanes=0),Sl|=r,e.lanes=r,e.memoizedState=x}}function mf(e,t){if(typeof e!="function")throw Error(w(191,e));e.call(t)}function hf(e,t){var l=e.callbacks;if(l!==null)for(e.callbacks=null,e=0;e<l.length;e++)mf(l[e],t)}var Sa=Et(null),_s=Et(0);function Jo(e,t){e=Vt,oe(_s,e),oe(Sa,t),Vt=e|t.baseLanes}function _r(){oe(_s,Vt),oe(Sa,Sa.current)}function Mc(){Vt=_s.current,Oe(Sa),Oe(_s)}var lt=Et(null),ut=null;function tl(e){var t=e.alternate;oe(ye,ye.current&1),oe(lt,e),ut===null&&(t===null||Sa.current!==null||t.memoizedState!==null)&&(ut=e)}function Mr(e){oe(ye,ye.current),oe(lt,e),ut===null&&(ut=e)}function xf(e){e.tag===22?(oe(ye,ye.current),oe(lt,e),ut===null&&(ut=e)):ll()}function ll(){oe(ye,ye.current),oe(lt,lt.current)}function Ke(e){Oe(lt),ut===e&&(ut=null),Oe(ye)}var ye=Et(0);function Ms(e){for(var t=e;t!==null;){if(t.tag===13){var l=t.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Wr(l)||Pr(l)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var qt=0,Q=null,re=null,be=null,Rs=!1,ga=!1,Yl=!1,Ds=0,jn=0,ya=null,jx=0;function xe(){throw Error(w(321))}function Rc(e,t){if(t===null)return!1;for(var l=0;l<t.length&&l<e.length;l++)if(!tt(e[l],t[l]))return!1;return!0}function Dc(e,t,l,a,n,i){return qt=i,Q=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,B.H=e===null||e.memoizedState===null?Zf:Vc,Yl=!1,i=l(a,n),Yl=!1,ga&&(i=yf(t,l,a,n)),gf(e),i}function gf(e){B.H=Nn;var t=re!==null&&re.next!==null;if(qt=0,be=re=Q=null,Rs=!1,jn=0,ya=null,t)throw Error(w(300));e===null||Ne||(e=e.dependencies,e!==null&&Os(e)&&(Ne=!0))}function yf(e,t,l,a){Q=e;var n=0;do{if(ga&&(ya=null),jn=0,ga=!1,25<=n)throw Error(w(301));if(n+=1,be=re=null,e.updateQueue!=null){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}B.H=Jf,i=t(l,a)}while(ga);return i}function Nx(){var e=B.H,t=e.useState()[0];return t=typeof t.then=="function"?Ln(t):t,e=e.useState()[0],(re!==null?re.memoizedState:null)!==e&&(Q.flags|=1024),t}function Uc(){var e=Ds!==0;return Ds=0,e}function kc(e,t,l){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l}function Lc(e){if(Rs){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Rs=!1}qt=0,be=re=Q=null,ga=!1,jn=Ds=0,ya=null}function ke(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return be===null?Q.memoizedState=be=e:be=be.next=e,be}function pe(){if(re===null){var e=Q.alternate;e=e!==null?e.memoizedState:null}else e=re.next;var t=be===null?Q.memoizedState:be.next;if(t!==null)be=t,re=e;else{if(e===null)throw Q.alternate===null?Error(w(467)):Error(w(310));re=e,e={memoizedState:re.memoizedState,baseState:re.baseState,baseQueue:re.baseQueue,queue:re.queue,next:null},be===null?Q.memoizedState=be=e:be=be.next=e}return be}function ii(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ln(e){var t=jn;return jn+=1,ya===null&&(ya=[]),e=uf(ya,e,t),t=Q,(be===null?t.memoizedState:be.next)===null&&(t=t.alternate,B.H=t===null||t.memoizedState===null?Zf:Vc),e}function ri(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ln(e);if(e.$$typeof===Ut)return Re(e)}throw Error(w(438,String(e)))}function Bc(e){var t=null,l=Q.updateQueue;if(l!==null&&(t=l.memoCache),t==null){var a=Q.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(n){return n.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),l===null&&(l=ii(),Q.updateQueue=l),l.memoCache=t,l=t.data[t.index],l===void 0)for(l=t.data[t.index]=Array(e),a=0;a<e;a++)l[a]=rh;return t.index++,l}function Xt(e,t){return typeof t=="function"?t(e):t}function fs(e){var t=pe();return Hc(t,re,e)}function Hc(e,t,l){var a=e.queue;if(a===null)throw Error(w(311));a.lastRenderedReducer=l;var n=e.baseQueue,i=a.pending;if(i!==null){if(n!==null){var r=n.next;n.next=i.next,i.next=r}t.baseQueue=n=i,a.pending=null}if(i=e.baseState,n===null)e.memoizedState=i;else{t=n.next;var c=r=null,o=null,d=t,y=!1;do{var x=d.lane&-536870913;if(x!==d.lane?(F&x)===x:(qt&x)===x){var m=d.revertLane;if(m===0)o!==null&&(o=o.next={lane:0,revertLane:0,gesture:null,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),x===Na&&(y=!0);else if((qt&m)===m){d=d.next,m===Na&&(y=!0);continue}else x={lane:0,revertLane:d.revertLane,gesture:null,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},o===null?(c=o=x,r=i):o=o.next=x,Q.lanes|=m,Sl|=m;x=d.action,Yl&&l(i,x),i=d.hasEagerState?d.eagerState:l(i,x)}else m={lane:x,revertLane:d.revertLane,gesture:d.gesture,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},o===null?(c=o=m,r=i):o=o.next=m,Q.lanes|=x,Sl|=x;d=d.next}while(d!==null&&d!==t);if(o===null?r=i:o.next=c,!tt(i,e.memoizedState)&&(Ne=!0,y&&(l=ha,l!==null)))throw l;e.memoizedState=i,e.baseState=r,e.baseQueue=o,a.lastRenderedState=i}return n===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function ki(e){var t=pe(),l=t.queue;if(l===null)throw Error(w(311));l.lastRenderedReducer=e;var a=l.dispatch,n=l.pending,i=t.memoizedState;if(n!==null){l.pending=null;var r=n=n.next;do i=e(i,r.action),r=r.next;while(r!==n);tt(i,t.memoizedState)||(Ne=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),l.lastRenderedState=i}return[i,a]}function pf(e,t,l){var a=Q,n=pe(),i=$;if(i){if(l===void 0)throw Error(w(407));l=l()}else l=t();var r=!tt((re||n).memoizedState,l);if(r&&(n.memoizedState=l,Ne=!0),n=n.queue,Yc(jf.bind(null,a,n,e),[e]),n.getSnapshot!==t||r||be!==null&&be.memoizedState.tag&1){if(a.flags|=2048,wa(9,{destroy:void 0},vf.bind(null,a,n,l,t),null),ce===null)throw Error(w(349));i||qt&127||bf(a,t,l)}return l}function bf(e,t,l){e.flags|=16384,e={getSnapshot:t,value:l},t=Q.updateQueue,t===null?(t=ii(),Q.updateQueue=t,t.stores=[e]):(l=t.stores,l===null?t.stores=[e]:l.push(e))}function vf(e,t,l,a){t.value=l,t.getSnapshot=a,Nf(t)&&Sf(e)}function jf(e,t,l){return l(function(){Nf(t)&&Sf(e)})}function Nf(e){var t=e.getSnapshot;e=e.value;try{var l=t();return!tt(e,l)}catch{return!0}}function Sf(e){var t=Vl(e,2);t!==null&&Qe(t,e,2)}function Rr(e){var t=ke();if(typeof e=="function"){var l=e;if(e=l(),Yl){nl(!0);try{l()}finally{nl(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xt,lastRenderedState:e},t}function wf(e,t,l,a){return e.baseState=l,Hc(e,re,typeof a=="function"?a:Xt)}function Sx(e,t,l,a,n){if(oi(e))throw Error(w(485));if(e=t.action,e!==null){var i={payload:n,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(r){i.listeners.push(r)}};B.T!==null?l(!0):i.isTransition=!1,a(i),l=t.pending,l===null?(i.next=t.pending=i,Ef(t,i)):(i.next=l.next,t.pending=l.next=i)}}function Ef(e,t){var l=t.action,a=t.payload,n=e.state;if(t.isTransition){var i=B.T,r={};B.T=r;try{var c=l(n,a),o=B.S;o!==null&&o(r,c),Ko(e,t,c)}catch(d){Dr(e,t,d)}finally{i!==null&&r.types!==null&&(i.types=r.types),B.T=i}}else try{i=l(n,a),Ko(e,t,i)}catch(d){Dr(e,t,d)}}function Ko(e,t,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(a){Fo(e,t,a)},function(a){return Dr(e,t,a)}):Fo(e,t,l)}function Fo(e,t,l){t.status="fulfilled",t.value=l,Tf(t),e.state=l,t=e.pending,t!==null&&(l=t.next,l===t?e.pending=null:(l=l.next,t.next=l,Ef(e,l)))}function Dr(e,t,l){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=l,Tf(t),t=t.next;while(t!==a)}e.action=null}function Tf(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Af(e,t){return t}function $o(e,t){if($){var l=ce.formState;if(l!==null){e:{var a=Q;if($){if(de){t:{for(var n=de,i=ot;n.nodeType!==8;){if(!i){n=null;break t}if(n=dt(n.nextSibling),n===null){n=null;break t}}i=n.data,n=i==="F!"||i==="F"?n:null}if(n){de=dt(n.nextSibling),a=n.data==="F!";break e}}jl(a)}a=!1}a&&(t=l[0])}}return l=ke(),l.memoizedState=l.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Af,lastRenderedState:t},l.queue=a,l=Xf.bind(null,Q,a),a.dispatch=l,a=Rr(!1),i=Qc.bind(null,Q,!1,a.queue),a=ke(),n={state:t,dispatch:null,action:e,pending:null},a.queue=n,l=Sx.bind(null,Q,n,i,l),n.dispatch=l,a.memoizedState=e,[t,l,!1]}function Wo(e){var t=pe();return Cf(t,re,e)}function Cf(e,t,l){if(t=Hc(e,t,Af)[0],e=fs(Xt)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=Ln(t)}catch(r){throw r===Ua?si:r}else a=t;t=pe();var n=t.queue,i=n.dispatch;return l!==t.memoizedState&&(Q.flags|=2048,wa(9,{destroy:void 0},wx.bind(null,n,l),null)),[a,i,e]}function wx(e,t){e.action=t}function Po(e){var t=pe(),l=re;if(l!==null)return Cf(t,l,e);pe(),t=t.memoizedState,l=pe();var a=l.queue.dispatch;return l.memoizedState=e,[t,a,!1]}function wa(e,t,l,a){return e={tag:e,create:l,deps:a,inst:t,next:null},t=Q.updateQueue,t===null&&(t=ii(),Q.updateQueue=t),l=t.lastEffect,l===null?t.lastEffect=e.next=e:(a=l.next,l.next=e,e.next=a,t.lastEffect=e),e}function Of(){return pe().memoizedState}function ms(e,t,l,a){var n=ke();Q.flags|=e,n.memoizedState=wa(1|t,{destroy:void 0},l,a===void 0?null:a)}function ci(e,t,l,a){var n=pe();a=a===void 0?null:a;var i=n.memoizedState.inst;re!==null&&a!==null&&Rc(a,re.memoizedState.deps)?n.memoizedState=wa(t,i,l,a):(Q.flags|=e,n.memoizedState=wa(1|t,i,l,a))}function Io(e,t){ms(8390656,8,e,t)}function Yc(e,t){ci(2048,8,e,t)}function Ex(e){Q.flags|=4;var t=Q.updateQueue;if(t===null)t=ii(),Q.updateQueue=t,t.events=[e];else{var l=t.events;l===null?t.events=[e]:l.push(e)}}function zf(e){var t=pe().memoizedState;return Ex({ref:t,nextImpl:e}),function(){if(te&2)throw Error(w(440));return t.impl.apply(void 0,arguments)}}function _f(e,t){return ci(4,2,e,t)}function Mf(e,t){return ci(4,4,e,t)}function Rf(e,t){if(typeof t=="function"){e=e();var l=t(e);return function(){typeof l=="function"?l():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Df(e,t,l){l=l!=null?l.concat([e]):null,ci(4,4,Rf.bind(null,t,e),l)}function Gc(){}function Uf(e,t){var l=pe();t=t===void 0?null:t;var a=l.memoizedState;return t!==null&&Rc(t,a[1])?a[0]:(l.memoizedState=[e,t],e)}function kf(e,t){var l=pe();t=t===void 0?null:t;var a=l.memoizedState;if(t!==null&&Rc(t,a[1]))return a[0];if(a=e(),Yl){nl(!0);try{e()}finally{nl(!1)}}return l.memoizedState=[a,t],a}function qc(e,t,l){return l===void 0||qt&1073741824&&!(F&261930)?e.memoizedState=t:(e.memoizedState=l,e=w0(),Q.lanes|=e,Sl|=e,l)}function Lf(e,t,l,a){return tt(l,t)?l:Sa.current!==null?(e=qc(e,l,a),tt(e,t)||(Ne=!0),e):!(qt&42)||qt&1073741824&&!(F&261930)?(Ne=!0,e.memoizedState=l):(e=w0(),Q.lanes|=e,Sl|=e,t)}function Bf(e,t,l,a,n){var i=le.p;le.p=i!==0&&8>i?i:8;var r=B.T,c={};B.T=c,Qc(e,!1,t,l);try{var o=n(),d=B.S;if(d!==null&&d(c,o),o!==null&&typeof o=="object"&&typeof o.then=="function"){var y=vx(o,a);rn(e,t,y,et(e))}else rn(e,t,a,et(e))}catch(x){rn(e,t,{then:function(){},status:"rejected",reason:x},et())}finally{le.p=i,r!==null&&c.types!==null&&(r.types=c.types),B.T=r}}function Tx(){}function Ur(e,t,l,a){if(e.tag!==5)throw Error(w(476));var n=Hf(e).queue;Bf(e,n,t,_l,l===null?Tx:function(){return Yf(e),l(a)})}function Hf(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:_l,baseState:_l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xt,lastRenderedState:_l},next:null};var l={};return t.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xt,lastRenderedState:l},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Yf(e){var t=Hf(e);t.next===null&&(t=e.alternate.memoizedState),rn(e,t.next.queue,{},et())}function Xc(){return Re(En)}function Gf(){return pe().memoizedState}function qf(){return pe().memoizedState}function Ax(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var l=et();e=ml(l);var a=hl(t,e,l);a!==null&&(Qe(a,t,l),an(a,t,l)),t={cache:Cc()},e.payload=t;return}t=t.return}}function Cx(e,t,l){var a=et();l={lane:a,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},oi(e)?Qf(t,l):(l=wc(e,t,l,a),l!==null&&(Qe(l,e,a),Vf(l,t,a)))}function Xf(e,t,l){var a=et();rn(e,t,l,a)}function rn(e,t,l,a){var n={lane:a,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(oi(e))Qf(t,n);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var r=t.lastRenderedState,c=i(r,l);if(n.hasEagerState=!0,n.eagerState=c,tt(c,r))return ni(e,t,n,0),ce===null&&ai(),!1}catch{}finally{}if(l=wc(e,t,n,a),l!==null)return Qe(l,e,a),Vf(l,t,a),!0}return!1}function Qc(e,t,l,a){if(a={lane:2,revertLane:Ic(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},oi(e)){if(t)throw Error(w(479))}else t=wc(e,l,a,2),t!==null&&Qe(t,e,2)}function oi(e){var t=e.alternate;return e===Q||t!==null&&t===Q}function Qf(e,t){ga=Rs=!0;var l=e.pending;l===null?t.next=t:(t.next=l.next,l.next=t),e.pending=t}function Vf(e,t,l){if(l&4194048){var a=t.lanes;a&=e.pendingLanes,l|=a,t.lanes=l,Od(e,l)}}var Nn={readContext:Re,use:ri,useCallback:xe,useContext:xe,useEffect:xe,useImperativeHandle:xe,useLayoutEffect:xe,useInsertionEffect:xe,useMemo:xe,useReducer:xe,useRef:xe,useState:xe,useDebugValue:xe,useDeferredValue:xe,useTransition:xe,useSyncExternalStore:xe,useId:xe,useHostTransitionStatus:xe,useFormState:xe,useActionState:xe,useOptimistic:xe,useMemoCache:xe,useCacheRefresh:xe};Nn.useEffectEvent=xe;var Zf={readContext:Re,use:ri,useCallback:function(e,t){return ke().memoizedState=[e,t===void 0?null:t],e},useContext:Re,useEffect:Io,useImperativeHandle:function(e,t,l){l=l!=null?l.concat([e]):null,ms(4194308,4,Rf.bind(null,t,e),l)},useLayoutEffect:function(e,t){return ms(4194308,4,e,t)},useInsertionEffect:function(e,t){ms(4,2,e,t)},useMemo:function(e,t){var l=ke();t=t===void 0?null:t;var a=e();if(Yl){nl(!0);try{e()}finally{nl(!1)}}return l.memoizedState=[a,t],a},useReducer:function(e,t,l){var a=ke();if(l!==void 0){var n=l(t);if(Yl){nl(!0);try{l(t)}finally{nl(!1)}}}else n=t;return a.memoizedState=a.baseState=n,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},a.queue=e,e=e.dispatch=Cx.bind(null,Q,e),[a.memoizedState,e]},useRef:function(e){var t=ke();return e={current:e},t.memoizedState=e},useState:function(e){e=Rr(e);var t=e.queue,l=Xf.bind(null,Q,t);return t.dispatch=l,[e.memoizedState,l]},useDebugValue:Gc,useDeferredValue:function(e,t){var l=ke();return qc(l,e,t)},useTransition:function(){var e=Rr(!1);return e=Bf.bind(null,Q,e.queue,!0,!1),ke().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,l){var a=Q,n=ke();if($){if(l===void 0)throw Error(w(407));l=l()}else{if(l=t(),ce===null)throw Error(w(349));F&127||bf(a,t,l)}n.memoizedState=l;var i={value:l,getSnapshot:t};return n.queue=i,Io(jf.bind(null,a,i,e),[e]),a.flags|=2048,wa(9,{destroy:void 0},vf.bind(null,a,i,l,t),null),l},useId:function(){var e=ke(),t=ce.identifierPrefix;if($){var l=jt,a=vt;l=(a&~(1<<32-Ie(a)-1)).toString(32)+l,t="_"+t+"R_"+l,l=Ds++,0<l&&(t+="H"+l.toString(32)),t+="_"}else l=jx++,t="_"+t+"r_"+l.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Xc,useFormState:$o,useActionState:$o,useOptimistic:function(e){var t=ke();t.memoizedState=t.baseState=e;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=l,t=Qc.bind(null,Q,!0,l),l.dispatch=t,[e,t]},useMemoCache:Bc,useCacheRefresh:function(){return ke().memoizedState=Ax.bind(null,Q)},useEffectEvent:function(e){var t=ke(),l={impl:e};return t.memoizedState=l,function(){if(te&2)throw Error(w(440));return l.impl.apply(void 0,arguments)}}},Vc={readContext:Re,use:ri,useCallback:Uf,useContext:Re,useEffect:Yc,useImperativeHandle:Df,useInsertionEffect:_f,useLayoutEffect:Mf,useMemo:kf,useReducer:fs,useRef:Of,useState:function(){return fs(Xt)},useDebugValue:Gc,useDeferredValue:function(e,t){var l=pe();return Lf(l,re.memoizedState,e,t)},useTransition:function(){var e=fs(Xt)[0],t=pe().memoizedState;return[typeof e=="boolean"?e:Ln(e),t]},useSyncExternalStore:pf,useId:Gf,useHostTransitionStatus:Xc,useFormState:Wo,useActionState:Wo,useOptimistic:function(e,t){var l=pe();return wf(l,re,e,t)},useMemoCache:Bc,useCacheRefresh:qf};Vc.useEffectEvent=zf;var Jf={readContext:Re,use:ri,useCallback:Uf,useContext:Re,useEffect:Yc,useImperativeHandle:Df,useInsertionEffect:_f,useLayoutEffect:Mf,useMemo:kf,useReducer:ki,useRef:Of,useState:function(){return ki(Xt)},useDebugValue:Gc,useDeferredValue:function(e,t){var l=pe();return re===null?qc(l,e,t):Lf(l,re.memoizedState,e,t)},useTransition:function(){var e=ki(Xt)[0],t=pe().memoizedState;return[typeof e=="boolean"?e:Ln(e),t]},useSyncExternalStore:pf,useId:Gf,useHostTransitionStatus:Xc,useFormState:Po,useActionState:Po,useOptimistic:function(e,t){var l=pe();return re!==null?wf(l,re,e,t):(l.baseState=e,[e,l.queue.dispatch])},useMemoCache:Bc,useCacheRefresh:qf};Jf.useEffectEvent=zf;function Li(e,t,l,a){t=e.memoizedState,l=l(a,t),l=l==null?t:me({},t,l),e.memoizedState=l,e.lanes===0&&(e.updateQueue.baseState=l)}var kr={enqueueSetState:function(e,t,l){e=e._reactInternals;var a=et(),n=ml(a);n.payload=t,l!=null&&(n.callback=l),t=hl(e,n,a),t!==null&&(Qe(t,e,a),an(t,e,a))},enqueueReplaceState:function(e,t,l){e=e._reactInternals;var a=et(),n=ml(a);n.tag=1,n.payload=t,l!=null&&(n.callback=l),t=hl(e,n,a),t!==null&&(Qe(t,e,a),an(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var l=et(),a=ml(l);a.tag=2,t!=null&&(a.callback=t),t=hl(e,a,l),t!==null&&(Qe(t,e,l),an(t,e,l))}};function eu(e,t,l,a,n,i,r){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,i,r):t.prototype&&t.prototype.isPureReactComponent?!yn(l,a)||!yn(n,i):!0}function tu(e,t,l,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(l,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(l,a),t.state!==e&&kr.enqueueReplaceState(t,t.state,null)}function Gl(e,t){var l=t;if("ref"in t){l={};for(var a in t)a!=="ref"&&(l[a]=t[a])}if(e=e.defaultProps){l===t&&(l=me({},l));for(var n in e)l[n]===void 0&&(l[n]=e[n])}return l}function Kf(e){Ts(e)}function Ff(e){console.error(e)}function $f(e){Ts(e)}function Us(e,t){try{var l=e.onUncaughtError;l(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function lu(e,t,l){try{var a=e.onCaughtError;a(l.value,{componentStack:l.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(n){setTimeout(function(){throw n})}}function Lr(e,t,l){return l=ml(l),l.tag=3,l.payload={element:null},l.callback=function(){Us(e,t)},l}function Wf(e){return e=ml(e),e.tag=3,e}function Pf(e,t,l,a){var n=l.type.getDerivedStateFromError;if(typeof n=="function"){var i=a.value;e.payload=function(){return n(i)},e.callback=function(){lu(t,l,a)}}var r=l.stateNode;r!==null&&typeof r.componentDidCatch=="function"&&(e.callback=function(){lu(t,l,a),typeof n!="function"&&(xl===null?xl=new Set([this]):xl.add(this));var c=a.stack;this.componentDidCatch(a.value,{componentStack:c!==null?c:""})})}function Ox(e,t,l,a,n){if(l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=l.alternate,t!==null&&Da(t,l,n,!0),l=lt.current,l!==null){switch(l.tag){case 31:case 13:return ut===null?Ys():l.alternate===null&&ge===0&&(ge=3),l.flags&=-257,l.flags|=65536,l.lanes=n,a===zs?l.flags|=16384:(t=l.updateQueue,t===null?l.updateQueue=new Set([a]):t.add(a),Ki(e,a,n)),!1;case 22:return l.flags|=65536,a===zs?l.flags|=16384:(t=l.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},l.updateQueue=t):(l=t.retryQueue,l===null?t.retryQueue=new Set([a]):l.add(a)),Ki(e,a,n)),!1}throw Error(w(435,l.tag))}return Ki(e,a,n),Ys(),!1}if($)return t=lt.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=n,a!==wr&&(e=Error(w(422),{cause:a}),bn(ct(e,l)))):(a!==wr&&(t=Error(w(423),{cause:a}),bn(ct(t,l))),e=e.current.alternate,e.flags|=65536,n&=-n,e.lanes|=n,a=ct(a,l),n=Lr(e.stateNode,a,n),Ui(e,n),ge!==4&&(ge=2)),!1;var i=Error(w(520),{cause:a});if(i=ct(i,l),un===null?un=[i]:un.push(i),ge!==4&&(ge=2),t===null)return!0;a=ct(a,l),l=t;do{switch(l.tag){case 3:return l.flags|=65536,e=n&-n,l.lanes|=e,e=Lr(l.stateNode,a,e),Ui(l,e),!1;case 1:if(t=l.type,i=l.stateNode,(l.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(xl===null||!xl.has(i))))return l.flags|=65536,n&=-n,l.lanes|=n,n=Wf(n),Pf(n,e,l,a),Ui(l,n),!1}l=l.return}while(l!==null);return!1}var Zc=Error(w(461)),Ne=!1;function ze(e,t,l,a){t.child=e===null?ff(t,null,l,a):Hl(t,e.child,l,a)}function au(e,t,l,a,n){l=l.render;var i=t.ref;if("ref"in a){var r={};for(var c in a)c!=="ref"&&(r[c]=a[c])}else r=a;return Bl(t),a=Dc(e,t,l,r,i,n),c=Uc(),e!==null&&!Ne?(kc(e,t,n),Qt(e,t,n)):($&&c&&Tc(t),t.flags|=1,ze(e,t,a,n),t.child)}function nu(e,t,l,a,n){if(e===null){var i=l.type;return typeof i=="function"&&!Ec(i)&&i.defaultProps===void 0&&l.compare===null?(t.tag=15,t.type=i,If(e,t,i,a,n)):(e=us(l.type,null,a,t,t.mode,n),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!Jc(e,n)){var r=i.memoizedProps;if(l=l.compare,l=l!==null?l:yn,l(r,a)&&e.ref===t.ref)return Qt(e,t,n)}return t.flags|=1,e=Bt(i,a),e.ref=t.ref,e.return=t,t.child=e}function If(e,t,l,a,n){if(e!==null){var i=e.memoizedProps;if(yn(i,a)&&e.ref===t.ref)if(Ne=!1,t.pendingProps=a=i,Jc(e,n))e.flags&131072&&(Ne=!0);else return t.lanes=e.lanes,Qt(e,t,n)}return Br(e,t,l,a,n)}function e0(e,t,l,a){var n=a.children,i=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if(t.flags&128){if(i=i!==null?i.baseLanes|l:l,e!==null){for(a=t.child=e.child,n=0;a!==null;)n=n|a.lanes|a.childLanes,a=a.sibling;a=n&~i}else a=0,t.child=null;return su(e,t,i,l,a)}if(l&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&ds(t,i!==null?i.cachePool:null),i!==null?Jo(t,i):_r(),xf(t);else return a=t.lanes=536870912,su(e,t,i!==null?i.baseLanes|l:l,l,a)}else i!==null?(ds(t,i.cachePool),Jo(t,i),ll(),t.memoizedState=null):(e!==null&&ds(t,null),_r(),ll());return ze(e,t,n,l),t.child}function $a(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function su(e,t,l,a,n){var i=Oc();return i=i===null?null:{parent:je._currentValue,pool:i},t.memoizedState={baseLanes:l,cachePool:i},e!==null&&ds(t,null),_r(),xf(t),e!==null&&Da(e,t,a,!0),t.childLanes=n,null}function hs(e,t){return t=ks({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function iu(e,t,l){return Hl(t,e.child,null,l),e=hs(t,t.pendingProps),e.flags|=2,Ke(t),t.memoizedState=null,e}function zx(e,t,l){var a=t.pendingProps,n=(t.flags&128)!==0;if(t.flags&=-129,e===null){if($){if(a.mode==="hidden")return e=hs(t,a),t.lanes=536870912,$a(null,e);if(Mr(t),(e=de)?(e=Z0(e,ot),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:vl!==null?{id:vt,overflow:jt}:null,retryLane:536870912,hydrationErrors:null},l=nf(e),l.return=t,t.child=l,Me=t,de=null)):e=null,e===null)throw jl(t);return t.lanes=536870912,null}return hs(t,a)}var i=e.memoizedState;if(i!==null){var r=i.dehydrated;if(Mr(t),n)if(t.flags&256)t.flags&=-257,t=iu(e,t,l);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(w(558));else if(Ne||Da(e,t,l,!1),n=(l&e.childLanes)!==0,Ne||n){if(a=ce,a!==null&&(r=zd(a,l),r!==0&&r!==i.retryLane))throw i.retryLane=r,Vl(e,r),Qe(a,e,r),Zc;Ys(),t=iu(e,t,l)}else e=i.treeContext,de=dt(r.nextSibling),Me=t,$=!0,fl=null,ot=!1,e!==null&&rf(t,e),t=hs(t,a),t.flags|=4096;return t}return e=Bt(e.child,{mode:a.mode,children:a.children}),e.ref=t.ref,t.child=e,e.return=t,e}function xs(e,t){var l=t.ref;if(l===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(w(284));(e===null||e.ref!==l)&&(t.flags|=4194816)}}function Br(e,t,l,a,n){return Bl(t),l=Dc(e,t,l,a,void 0,n),a=Uc(),e!==null&&!Ne?(kc(e,t,n),Qt(e,t,n)):($&&a&&Tc(t),t.flags|=1,ze(e,t,l,n),t.child)}function ru(e,t,l,a,n,i){return Bl(t),t.updateQueue=null,l=yf(t,a,l,n),gf(e),a=Uc(),e!==null&&!Ne?(kc(e,t,i),Qt(e,t,i)):($&&a&&Tc(t),t.flags|=1,ze(e,t,l,i),t.child)}function cu(e,t,l,a,n){if(Bl(t),t.stateNode===null){var i=ra,r=l.contextType;typeof r=="object"&&r!==null&&(i=Re(r)),i=new l(a,i),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=kr,t.stateNode=i,i._reactInternals=t,i=t.stateNode,i.props=a,i.state=t.memoizedState,i.refs={},_c(t),r=l.contextType,i.context=typeof r=="object"&&r!==null?Re(r):ra,i.state=t.memoizedState,r=l.getDerivedStateFromProps,typeof r=="function"&&(Li(t,l,r,a),i.state=t.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(r=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),r!==i.state&&kr.enqueueReplaceState(i,i.state,null),sn(t,a,i,n),nn(),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){i=t.stateNode;var c=t.memoizedProps,o=Gl(l,c);i.props=o;var d=i.context,y=l.contextType;r=ra,typeof y=="object"&&y!==null&&(r=Re(y));var x=l.getDerivedStateFromProps;y=typeof x=="function"||typeof i.getSnapshotBeforeUpdate=="function",c=t.pendingProps!==c,y||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(c||d!==r)&&tu(t,i,a,r),It=!1;var m=t.memoizedState;i.state=m,sn(t,a,i,n),nn(),d=t.memoizedState,c||m!==d||It?(typeof x=="function"&&(Li(t,l,x,a),d=t.memoizedState),(o=It||eu(t,l,o,a,m,d,r))?(y||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=d),i.props=a,i.state=d,i.context=r,a=o):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{i=t.stateNode,Or(e,t),r=t.memoizedProps,y=Gl(l,r),i.props=y,x=t.pendingProps,m=i.context,d=l.contextType,o=ra,typeof d=="object"&&d!==null&&(o=Re(d)),c=l.getDerivedStateFromProps,(d=typeof c=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(r!==x||m!==o)&&tu(t,i,a,o),It=!1,m=t.memoizedState,i.state=m,sn(t,a,i,n),nn();var g=t.memoizedState;r!==x||m!==g||It||e!==null&&e.dependencies!==null&&Os(e.dependencies)?(typeof c=="function"&&(Li(t,l,c,a),g=t.memoizedState),(y=It||eu(t,l,y,a,m,g,o)||e!==null&&e.dependencies!==null&&Os(e.dependencies))?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(a,g,o),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(a,g,o)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||r===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||r===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=g),i.props=a,i.state=g,i.context=o,a=y):(typeof i.componentDidUpdate!="function"||r===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||r===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),a=!1)}return i=a,xs(e,t),a=(t.flags&128)!==0,i||a?(i=t.stateNode,l=a&&typeof l.getDerivedStateFromError!="function"?null:i.render(),t.flags|=1,e!==null&&a?(t.child=Hl(t,e.child,null,n),t.child=Hl(t,null,l,n)):ze(e,t,l,n),t.memoizedState=i.state,e=t.child):e=Qt(e,t,n),e}function ou(e,t,l,a){return Ll(),t.flags|=256,ze(e,t,l,a),t.child}var Bi={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Hi(e){return{baseLanes:e,cachePool:of()}}function Yi(e,t,l){return e=e!==null?e.childLanes&~l:0,t&&(e|=$e),e}function t0(e,t,l){var a=t.pendingProps,n=!1,i=(t.flags&128)!==0,r;if((r=i)||(r=e!==null&&e.memoizedState===null?!1:(ye.current&2)!==0),r&&(n=!0,t.flags&=-129),r=(t.flags&32)!==0,t.flags&=-33,e===null){if($){if(n?tl(t):ll(),(e=de)?(e=Z0(e,ot),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:vl!==null?{id:vt,overflow:jt}:null,retryLane:536870912,hydrationErrors:null},l=nf(e),l.return=t,t.child=l,Me=t,de=null)):e=null,e===null)throw jl(t);return Pr(e)?t.lanes=32:t.lanes=536870912,null}var c=a.children;return a=a.fallback,n?(ll(),n=t.mode,c=ks({mode:"hidden",children:c},n),a=Ml(a,n,l,null),c.return=t,a.return=t,c.sibling=a,t.child=c,a=t.child,a.memoizedState=Hi(l),a.childLanes=Yi(e,r,l),t.memoizedState=Bi,$a(null,a)):(tl(t),Hr(t,c))}var o=e.memoizedState;if(o!==null&&(c=o.dehydrated,c!==null)){if(i)t.flags&256?(tl(t),t.flags&=-257,t=Gi(e,t,l)):t.memoizedState!==null?(ll(),t.child=e.child,t.flags|=128,t=null):(ll(),c=a.fallback,n=t.mode,a=ks({mode:"visible",children:a.children},n),c=Ml(c,n,l,null),c.flags|=2,a.return=t,c.return=t,a.sibling=c,t.child=a,Hl(t,e.child,null,l),a=t.child,a.memoizedState=Hi(l),a.childLanes=Yi(e,r,l),t.memoizedState=Bi,t=$a(null,a));else if(tl(t),Pr(c)){if(r=c.nextSibling&&c.nextSibling.dataset,r)var d=r.dgst;r=d,a=Error(w(419)),a.stack="",a.digest=r,bn({value:a,source:null,stack:null}),t=Gi(e,t,l)}else if(Ne||Da(e,t,l,!1),r=(l&e.childLanes)!==0,Ne||r){if(r=ce,r!==null&&(a=zd(r,l),a!==0&&a!==o.retryLane))throw o.retryLane=a,Vl(e,a),Qe(r,e,a),Zc;Wr(c)||Ys(),t=Gi(e,t,l)}else Wr(c)?(t.flags|=192,t.child=e.child,t=null):(e=o.treeContext,de=dt(c.nextSibling),Me=t,$=!0,fl=null,ot=!1,e!==null&&rf(t,e),t=Hr(t,a.children),t.flags|=4096);return t}return n?(ll(),c=a.fallback,n=t.mode,o=e.child,d=o.sibling,a=Bt(o,{mode:"hidden",children:a.children}),a.subtreeFlags=o.subtreeFlags&65011712,d!==null?c=Bt(d,c):(c=Ml(c,n,l,null),c.flags|=2),c.return=t,a.return=t,a.sibling=c,t.child=a,$a(null,a),a=t.child,c=e.child.memoizedState,c===null?c=Hi(l):(n=c.cachePool,n!==null?(o=je._currentValue,n=n.parent!==o?{parent:o,pool:o}:n):n=of(),c={baseLanes:c.baseLanes|l,cachePool:n}),a.memoizedState=c,a.childLanes=Yi(e,r,l),t.memoizedState=Bi,$a(e.child,a)):(tl(t),l=e.child,e=l.sibling,l=Bt(l,{mode:"visible",children:a.children}),l.return=t,l.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=l,t.memoizedState=null,l)}function Hr(e,t){return t=ks({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function ks(e,t){return e=Fe(22,e,null,t),e.lanes=0,e}function Gi(e,t,l){return Hl(t,e.child,null,l),e=Hr(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function uu(e,t,l){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),Tr(e.return,t,l)}function qi(e,t,l,a,n,i){var r=e.memoizedState;r===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:l,tailMode:n,treeForkCount:i}:(r.isBackwards=t,r.rendering=null,r.renderingStartTime=0,r.last=a,r.tail=l,r.tailMode=n,r.treeForkCount=i)}function l0(e,t,l){var a=t.pendingProps,n=a.revealOrder,i=a.tail;a=a.children;var r=ye.current,c=(r&2)!==0;if(c?(r=r&1|2,t.flags|=128):r&=1,oe(ye,r),ze(e,t,a,l),a=$?pn:0,!c&&e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&uu(e,l,t);else if(e.tag===19)uu(e,l,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(n){case"forwards":for(l=t.child,n=null;l!==null;)e=l.alternate,e!==null&&Ms(e)===null&&(n=l),l=l.sibling;l=n,l===null?(n=t.child,t.child=null):(n=l.sibling,l.sibling=null),qi(t,!1,n,l,i,a);break;case"backwards":case"unstable_legacy-backwards":for(l=null,n=t.child,t.child=null;n!==null;){if(e=n.alternate,e!==null&&Ms(e)===null){t.child=n;break}e=n.sibling,n.sibling=l,l=n,n=e}qi(t,!0,l,null,i,a);break;case"together":qi(t,!1,null,null,void 0,a);break;default:t.memoizedState=null}return t.child}function Qt(e,t,l){if(e!==null&&(t.dependencies=e.dependencies),Sl|=t.lanes,!(l&t.childLanes))if(e!==null){if(Da(e,t,l,!1),(l&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(w(153));if(t.child!==null){for(e=t.child,l=Bt(e,e.pendingProps),t.child=l,l.return=t;e.sibling!==null;)e=e.sibling,l=l.sibling=Bt(e,e.pendingProps),l.return=t;l.sibling=null}return t.child}function Jc(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&Os(e)))}function _x(e,t,l){switch(t.tag){case 3:Ns(t,t.stateNode.containerInfo),el(t,je,e.memoizedState.cache),Ll();break;case 27:case 5:mr(t);break;case 4:Ns(t,t.stateNode.containerInfo);break;case 10:el(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Mr(t),null;break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(tl(t),t.flags|=128,null):l&t.child.childLanes?t0(e,t,l):(tl(t),e=Qt(e,t,l),e!==null?e.sibling:null);tl(t);break;case 19:var n=(e.flags&128)!==0;if(a=(l&t.childLanes)!==0,a||(Da(e,t,l,!1),a=(l&t.childLanes)!==0),n){if(a)return l0(e,t,l);t.flags|=128}if(n=t.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),oe(ye,ye.current),a)break;return null;case 22:return t.lanes=0,e0(e,t,l,t.pendingProps);case 24:el(t,je,e.memoizedState.cache)}return Qt(e,t,l)}function a0(e,t,l){if(e!==null)if(e.memoizedProps!==t.pendingProps)Ne=!0;else{if(!Jc(e,l)&&!(t.flags&128))return Ne=!1,_x(e,t,l);Ne=!!(e.flags&131072)}else Ne=!1,$&&t.flags&1048576&&sf(t,pn,t.index);switch(t.lanes=0,t.tag){case 16:e:{var a=t.pendingProps;if(e=Ol(t.elementType),t.type=e,typeof e=="function")Ec(e)?(a=Gl(e,a),t.tag=1,t=cu(null,t,e,a,l)):(t.tag=0,t=Br(null,t,e,a,l));else{if(e!=null){var n=e.$$typeof;if(n===dc){t.tag=11,t=au(null,t,e,a,l);break e}else if(n===fc){t.tag=14,t=nu(null,t,e,a,l);break e}}throw t=dr(e)||e,Error(w(306,t,""))}}return t;case 0:return Br(e,t,t.type,t.pendingProps,l);case 1:return a=t.type,n=Gl(a,t.pendingProps),cu(e,t,a,n,l);case 3:e:{if(Ns(t,t.stateNode.containerInfo),e===null)throw Error(w(387));a=t.pendingProps;var i=t.memoizedState;n=i.element,Or(e,t),sn(t,a,null,l);var r=t.memoizedState;if(a=r.cache,el(t,je,a),a!==i.cache&&Ar(t,[je],l,!0),nn(),a=r.element,i.isDehydrated)if(i={element:a,isDehydrated:!1,cache:r.cache},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){t=ou(e,t,a,l);break e}else if(a!==n){n=ct(Error(w(424)),t),bn(n),t=ou(e,t,a,l);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(de=dt(e.firstChild),Me=t,$=!0,fl=null,ot=!0,l=ff(t,null,a,l),t.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Ll(),a===n){t=Qt(e,t,l);break e}ze(e,t,a,l)}t=t.child}return t;case 26:return xs(e,t),e===null?(l=zu(t.type,null,t.pendingProps,null))?t.memoizedState=l:$||(l=t.type,e=t.pendingProps,a=Qs(dl.current).createElement(l),a[_e]=t,a[Ve]=e,De(a,l,e),Ce(a),t.stateNode=a):t.memoizedState=zu(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return mr(t),e===null&&$&&(a=t.stateNode=J0(t.type,t.pendingProps,dl.current),Me=t,ot=!0,n=de,El(t.type)?(Ir=n,de=dt(a.firstChild)):de=n),ze(e,t,t.pendingProps.children,l),xs(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&$&&((n=a=de)&&(a=rg(a,t.type,t.pendingProps,ot),a!==null?(t.stateNode=a,Me=t,de=dt(a.firstChild),ot=!1,n=!0):n=!1),n||jl(t)),mr(t),n=t.type,i=t.pendingProps,r=e!==null?e.memoizedProps:null,a=i.children,Fr(n,i)?a=null:r!==null&&Fr(n,r)&&(t.flags|=32),t.memoizedState!==null&&(n=Dc(e,t,Nx,null,null,l),En._currentValue=n),xs(e,t),ze(e,t,a,l),t.child;case 6:return e===null&&$&&((e=l=de)&&(l=cg(l,t.pendingProps,ot),l!==null?(t.stateNode=l,Me=t,de=null,e=!0):e=!1),e||jl(t)),null;case 13:return t0(e,t,l);case 4:return Ns(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=Hl(t,null,a,l):ze(e,t,a,l),t.child;case 11:return au(e,t,t.type,t.pendingProps,l);case 7:return ze(e,t,t.pendingProps,l),t.child;case 8:return ze(e,t,t.pendingProps.children,l),t.child;case 12:return ze(e,t,t.pendingProps.children,l),t.child;case 10:return a=t.pendingProps,el(t,t.type,a.value),ze(e,t,a.children,l),t.child;case 9:return n=t.type._context,a=t.pendingProps.children,Bl(t),n=Re(n),a=a(n),t.flags|=1,ze(e,t,a,l),t.child;case 14:return nu(e,t,t.type,t.pendingProps,l);case 15:return If(e,t,t.type,t.pendingProps,l);case 19:return l0(e,t,l);case 31:return zx(e,t,l);case 22:return e0(e,t,l,t.pendingProps);case 24:return Bl(t),a=Re(je),e===null?(n=Oc(),n===null&&(n=ce,i=Cc(),n.pooledCache=i,i.refCount++,i!==null&&(n.pooledCacheLanes|=l),n=i),t.memoizedState={parent:a,cache:n},_c(t),el(t,je,n)):(e.lanes&l&&(Or(e,t),sn(t,null,null,l),nn()),n=e.memoizedState,i=t.memoizedState,n.parent!==a?(n={parent:a,cache:a},t.memoizedState=n,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=n),el(t,je,a)):(a=i.cache,el(t,je,a),a!==n.cache&&Ar(t,[je],l,!0))),ze(e,t,t.pendingProps.children,l),t.child;case 29:throw t.pendingProps}throw Error(w(156,t.tag))}function Ct(e){e.flags|=4}function Xi(e,t,l,a,n){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(n&335544128)===n)if(e.stateNode.complete)e.flags|=8192;else if(A0())e.flags|=8192;else throw Dl=zs,zc}else e.flags&=-16777217}function du(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!$0(t))if(A0())e.flags|=8192;else throw Dl=zs,zc}function es(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Ad():536870912,e.lanes|=t,Ea|=t)}function Qa(e,t){if(!$)switch(e.tailMode){case"hidden":t=e.tail;for(var l=null;t!==null;)t.alternate!==null&&(l=t),t=t.sibling;l===null?e.tail=null:l.sibling=null;break;case"collapsed":l=e.tail;for(var a=null;l!==null;)l.alternate!==null&&(a=l),l=l.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function ue(e){var t=e.alternate!==null&&e.alternate.child===e.child,l=0,a=0;if(t)for(var n=e.child;n!==null;)l|=n.lanes|n.childLanes,a|=n.subtreeFlags&65011712,a|=n.flags&65011712,n.return=e,n=n.sibling;else for(n=e.child;n!==null;)l|=n.lanes|n.childLanes,a|=n.subtreeFlags,a|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=a,e.childLanes=l,t}function Mx(e,t,l){var a=t.pendingProps;switch(Ac(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ue(t),null;case 1:return ue(t),null;case 3:return l=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Ht(je),ba(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(Jl(t)?Ct(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Di())),ue(t),null;case 26:var n=t.type,i=t.memoizedState;return e===null?(Ct(t),i!==null?(ue(t),du(t,i)):(ue(t),Xi(t,n,null,a,l))):i?i!==e.memoizedState?(Ct(t),ue(t),du(t,i)):(ue(t),t.flags&=-16777217):(e=e.memoizedProps,e!==a&&Ct(t),ue(t),Xi(t,n,e,a,l)),null;case 27:if(Ss(t),l=dl.current,n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&Ct(t);else{if(!a){if(t.stateNode===null)throw Error(w(166));return ue(t),null}e=wt.current,Jl(t)?Yo(t):(e=J0(n,a,l),t.stateNode=e,Ct(t))}return ue(t),null;case 5:if(Ss(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&Ct(t);else{if(!a){if(t.stateNode===null)throw Error(w(166));return ue(t),null}if(i=wt.current,Jl(t))Yo(t);else{var r=Qs(dl.current);switch(i){case 1:i=r.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:i=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":i=r.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":i=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":i=r.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof a.is=="string"?r.createElement("select",{is:a.is}):r.createElement("select"),a.multiple?i.multiple=!0:a.size&&(i.size=a.size);break;default:i=typeof a.is=="string"?r.createElement(n,{is:a.is}):r.createElement(n)}}i[_e]=t,i[Ve]=a;e:for(r=t.child;r!==null;){if(r.tag===5||r.tag===6)i.appendChild(r.stateNode);else if(r.tag!==4&&r.tag!==27&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}t.stateNode=i;e:switch(De(i,n,a),n){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&Ct(t)}}return ue(t),Xi(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,l),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&Ct(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(w(166));if(e=dl.current,Jl(t)){if(e=t.stateNode,l=t.memoizedProps,a=null,n=Me,n!==null)switch(n.tag){case 27:case 5:a=n.memoizedProps}e[_e]=t,e=!!(e.nodeValue===l||a!==null&&a.suppressHydrationWarning===!0||X0(e.nodeValue,l)),e||jl(t,!0)}else e=Qs(e).createTextNode(a),e[_e]=t,t.stateNode=e}return ue(t),null;case 31:if(l=t.memoizedState,e===null||e.memoizedState!==null){if(a=Jl(t),l!==null){if(e===null){if(!a)throw Error(w(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(w(557));e[_e]=t}else Ll(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ue(t),e=!1}else l=Di(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=l),e=!0;if(!e)return t.flags&256?(Ke(t),t):(Ke(t),null);if(t.flags&128)throw Error(w(558))}return ue(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(n=Jl(t),a!==null&&a.dehydrated!==null){if(e===null){if(!n)throw Error(w(318));if(n=t.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(w(317));n[_e]=t}else Ll(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ue(t),n=!1}else n=Di(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),n=!0;if(!n)return t.flags&256?(Ke(t),t):(Ke(t),null)}return Ke(t),t.flags&128?(t.lanes=l,t):(l=a!==null,e=e!==null&&e.memoizedState!==null,l&&(a=t.child,n=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(n=a.alternate.memoizedState.cachePool.pool),i=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==n&&(a.flags|=2048)),l!==e&&l&&(t.child.flags|=8192),es(t,t.updateQueue),ue(t),null);case 4:return ba(),e===null&&eo(t.stateNode.containerInfo),ue(t),null;case 10:return Ht(t.type),ue(t),null;case 19:if(Oe(ye),a=t.memoizedState,a===null)return ue(t),null;if(n=(t.flags&128)!==0,i=a.rendering,i===null)if(n)Qa(a,!1);else{if(ge!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Ms(e),i!==null){for(t.flags|=128,Qa(a,!1),e=i.updateQueue,t.updateQueue=e,es(t,e),t.subtreeFlags=0,e=l,l=t.child;l!==null;)af(l,e),l=l.sibling;return oe(ye,ye.current&1|2),$&&Rt(t,a.treeForkCount),t.child}e=e.sibling}a.tail!==null&&We()>Bs&&(t.flags|=128,n=!0,Qa(a,!1),t.lanes=4194304)}else{if(!n)if(e=Ms(i),e!==null){if(t.flags|=128,n=!0,e=e.updateQueue,t.updateQueue=e,es(t,e),Qa(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!$)return ue(t),null}else 2*We()-a.renderingStartTime>Bs&&l!==536870912&&(t.flags|=128,n=!0,Qa(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(e=a.last,e!==null?e.sibling=i:t.child=i,a.last=i)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=We(),e.sibling=null,l=ye.current,oe(ye,n?l&1|2:l&1),$&&Rt(t,a.treeForkCount),e):(ue(t),null);case 22:case 23:return Ke(t),Mc(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?l&536870912&&!(t.flags&128)&&(ue(t),t.subtreeFlags&6&&(t.flags|=8192)):ue(t),l=t.updateQueue,l!==null&&es(t,l.retryQueue),l=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==l&&(t.flags|=2048),e!==null&&Oe(Rl),null;case 24:return l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),Ht(je),ue(t),null;case 25:return null;case 30:return null}throw Error(w(156,t.tag))}function Rx(e,t){switch(Ac(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ht(je),ba(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Ss(t),null;case 31:if(t.memoizedState!==null){if(Ke(t),t.alternate===null)throw Error(w(340));Ll()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Ke(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(w(340));Ll()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Oe(ye),null;case 4:return ba(),null;case 10:return Ht(t.type),null;case 22:case 23:return Ke(t),Mc(),e!==null&&Oe(Rl),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Ht(je),null;case 25:return null;default:return null}}function n0(e,t){switch(Ac(t),t.tag){case 3:Ht(je),ba();break;case 26:case 27:case 5:Ss(t);break;case 4:ba();break;case 31:t.memoizedState!==null&&Ke(t);break;case 13:Ke(t);break;case 19:Oe(ye);break;case 10:Ht(t.type);break;case 22:case 23:Ke(t),Mc(),e!==null&&Oe(Rl);break;case 24:Ht(je)}}function Bn(e,t){try{var l=t.updateQueue,a=l!==null?l.lastEffect:null;if(a!==null){var n=a.next;l=n;do{if((l.tag&e)===e){a=void 0;var i=l.create,r=l.inst;a=i(),r.destroy=a}l=l.next}while(l!==n)}}catch(c){ne(t,t.return,c)}}function Nl(e,t,l){try{var a=t.updateQueue,n=a!==null?a.lastEffect:null;if(n!==null){var i=n.next;a=i;do{if((a.tag&e)===e){var r=a.inst,c=r.destroy;if(c!==void 0){r.destroy=void 0,n=t;var o=l,d=c;try{d()}catch(y){ne(n,o,y)}}}a=a.next}while(a!==i)}}catch(y){ne(t,t.return,y)}}function s0(e){var t=e.updateQueue;if(t!==null){var l=e.stateNode;try{hf(t,l)}catch(a){ne(e,e.return,a)}}}function i0(e,t,l){l.props=Gl(e.type,e.memoizedProps),l.state=e.memoizedState;try{l.componentWillUnmount()}catch(a){ne(e,t,a)}}function cn(e,t){try{var l=e.ref;if(l!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof l=="function"?e.refCleanup=l(a):l.current=a}}catch(n){ne(e,t,n)}}function Nt(e,t){var l=e.ref,a=e.refCleanup;if(l!==null)if(typeof a=="function")try{a()}catch(n){ne(e,t,n)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(n){ne(e,t,n)}else l.current=null}function r0(e){var t=e.type,l=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":l.autoFocus&&a.focus();break e;case"img":l.src?a.src=l.src:l.srcSet&&(a.srcset=l.srcSet)}}catch(n){ne(e,e.return,n)}}function Qi(e,t,l){try{var a=e.stateNode;tg(a,e.type,l,t),a[Ve]=t}catch(n){ne(e,e.return,n)}}function c0(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&El(e.type)||e.tag===4}function Vi(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||c0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&El(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Yr(e,t,l){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(e,t):(t=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,t.appendChild(e),l=l._reactRootContainer,l!=null||t.onclick!==null||(t.onclick=kt));else if(a!==4&&(a===27&&El(e.type)&&(l=e.stateNode,t=null),e=e.child,e!==null))for(Yr(e,t,l),e=e.sibling;e!==null;)Yr(e,t,l),e=e.sibling}function Ls(e,t,l){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?l.insertBefore(e,t):l.appendChild(e);else if(a!==4&&(a===27&&El(e.type)&&(l=e.stateNode),e=e.child,e!==null))for(Ls(e,t,l),e=e.sibling;e!==null;)Ls(e,t,l),e=e.sibling}function o0(e){var t=e.stateNode,l=e.memoizedProps;try{for(var a=e.type,n=t.attributes;n.length;)t.removeAttributeNode(n[0]);De(t,a,l),t[_e]=e,t[Ve]=l}catch(i){ne(e,e.return,i)}}var Dt=!1,ve=!1,Zi=!1,fu=typeof WeakSet=="function"?WeakSet:Set,Ae=null;function Dx(e,t){if(e=e.containerInfo,Jr=Ks,e=Fd(e),Nc(e)){if("selectionStart"in e)var l={start:e.selectionStart,end:e.selectionEnd};else e:{l=(l=e.ownerDocument)&&l.defaultView||window;var a=l.getSelection&&l.getSelection();if(a&&a.rangeCount!==0){l=a.anchorNode;var n=a.anchorOffset,i=a.focusNode;a=a.focusOffset;try{l.nodeType,i.nodeType}catch{l=null;break e}var r=0,c=-1,o=-1,d=0,y=0,x=e,m=null;t:for(;;){for(var g;x!==l||n!==0&&x.nodeType!==3||(c=r+n),x!==i||a!==0&&x.nodeType!==3||(o=r+a),x.nodeType===3&&(r+=x.nodeValue.length),(g=x.firstChild)!==null;)m=x,x=g;for(;;){if(x===e)break t;if(m===l&&++d===n&&(c=r),m===i&&++y===a&&(o=r),(g=x.nextSibling)!==null)break;x=m,m=x.parentNode}x=g}l=c===-1||o===-1?null:{start:c,end:o}}else l=null}l=l||{start:0,end:0}}else l=null;for(Kr={focusedElem:e,selectionRange:l},Ks=!1,Ae=t;Ae!==null;)if(t=Ae,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ae=e;else for(;Ae!==null;){switch(t=Ae,i=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(l=0;l<e.length;l++)n=e[l],n.ref.impl=n.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&i!==null){e=void 0,l=t,n=i.memoizedProps,i=i.memoizedState,a=l.stateNode;try{var v=Gl(l.type,n);e=a.getSnapshotBeforeUpdate(v,i),a.__reactInternalSnapshotBeforeUpdate=e}catch(b){ne(l,l.return,b)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,l=e.nodeType,l===9)$r(e);else if(l===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":$r(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(w(163))}if(e=t.sibling,e!==null){e.return=t.return,Ae=e;break}Ae=t.return}}function u0(e,t,l){var a=l.flags;switch(l.tag){case 0:case 11:case 15:zt(e,l),a&4&&Bn(5,l);break;case 1:if(zt(e,l),a&4)if(e=l.stateNode,t===null)try{e.componentDidMount()}catch(r){ne(l,l.return,r)}else{var n=Gl(l.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(n,t,e.__reactInternalSnapshotBeforeUpdate)}catch(r){ne(l,l.return,r)}}a&64&&s0(l),a&512&&cn(l,l.return);break;case 3:if(zt(e,l),a&64&&(e=l.updateQueue,e!==null)){if(t=null,l.child!==null)switch(l.child.tag){case 27:case 5:t=l.child.stateNode;break;case 1:t=l.child.stateNode}try{hf(e,t)}catch(r){ne(l,l.return,r)}}break;case 27:t===null&&a&4&&o0(l);case 26:case 5:zt(e,l),t===null&&a&4&&r0(l),a&512&&cn(l,l.return);break;case 12:zt(e,l);break;case 31:zt(e,l),a&4&&m0(e,l);break;case 13:zt(e,l),a&4&&h0(e,l),a&64&&(e=l.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(l=Xx.bind(null,l),og(e,l))));break;case 22:if(a=l.memoizedState!==null||Dt,!a){t=t!==null&&t.memoizedState!==null||ve,n=Dt;var i=ve;Dt=a,(ve=t)&&!i?_t(e,l,(l.subtreeFlags&8772)!==0):zt(e,l),Dt=n,ve=i}break;case 30:break;default:zt(e,l)}}function d0(e){var t=e.alternate;t!==null&&(e.alternate=null,d0(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&gc(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var he=null,Ge=!1;function Ot(e,t,l){for(l=l.child;l!==null;)f0(e,t,l),l=l.sibling}function f0(e,t,l){if(Pe&&typeof Pe.onCommitFiberUnmount=="function")try{Pe.onCommitFiberUnmount(_n,l)}catch{}switch(l.tag){case 26:ve||Nt(l,t),Ot(e,t,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:ve||Nt(l,t);var a=he,n=Ge;El(l.type)&&(he=l.stateNode,Ge=!1),Ot(e,t,l),fn(l.stateNode),he=a,Ge=n;break;case 5:ve||Nt(l,t);case 6:if(a=he,n=Ge,he=null,Ot(e,t,l),he=a,Ge=n,he!==null)if(Ge)try{(he.nodeType===9?he.body:he.nodeName==="HTML"?he.ownerDocument.body:he).removeChild(l.stateNode)}catch(i){ne(l,t,i)}else try{he.removeChild(l.stateNode)}catch(i){ne(l,t,i)}break;case 18:he!==null&&(Ge?(e=he,Eu(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,l.stateNode),Oa(e)):Eu(he,l.stateNode));break;case 4:a=he,n=Ge,he=l.stateNode.containerInfo,Ge=!0,Ot(e,t,l),he=a,Ge=n;break;case 0:case 11:case 14:case 15:Nl(2,l,t),ve||Nl(4,l,t),Ot(e,t,l);break;case 1:ve||(Nt(l,t),a=l.stateNode,typeof a.componentWillUnmount=="function"&&i0(l,t,a)),Ot(e,t,l);break;case 21:Ot(e,t,l);break;case 22:ve=(a=ve)||l.memoizedState!==null,Ot(e,t,l),ve=a;break;default:Ot(e,t,l)}}function m0(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Oa(e)}catch(l){ne(t,t.return,l)}}}function h0(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Oa(e)}catch(l){ne(t,t.return,l)}}function Ux(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new fu),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new fu),t;default:throw Error(w(435,e.tag))}}function ts(e,t){var l=Ux(e);t.forEach(function(a){if(!l.has(a)){l.add(a);var n=Qx.bind(null,e,a);a.then(n,n)}})}function He(e,t){var l=t.deletions;if(l!==null)for(var a=0;a<l.length;a++){var n=l[a],i=e,r=t,c=r;e:for(;c!==null;){switch(c.tag){case 27:if(El(c.type)){he=c.stateNode,Ge=!1;break e}break;case 5:he=c.stateNode,Ge=!1;break e;case 3:case 4:he=c.stateNode.containerInfo,Ge=!0;break e}c=c.return}if(he===null)throw Error(w(160));f0(i,r,n),he=null,Ge=!1,i=n.alternate,i!==null&&(i.return=null),n.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)x0(t,e),t=t.sibling}var gt=null;function x0(e,t){var l=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:He(t,e),Ye(e),a&4&&(Nl(3,e,e.return),Bn(3,e),Nl(5,e,e.return));break;case 1:He(t,e),Ye(e),a&512&&(ve||l===null||Nt(l,l.return)),a&64&&Dt&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(l=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=l===null?a:l.concat(a))));break;case 26:var n=gt;if(He(t,e),Ye(e),a&512&&(ve||l===null||Nt(l,l.return)),a&4){var i=l!==null?l.memoizedState:null;if(a=e.memoizedState,l===null)if(a===null)if(e.stateNode===null){e:{a=e.type,l=e.memoizedProps,n=n.ownerDocument||n;t:switch(a){case"title":i=n.getElementsByTagName("title")[0],(!i||i[Dn]||i[_e]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=n.createElement(a),n.head.insertBefore(i,n.querySelector("head > title"))),De(i,a,l),i[_e]=e,Ce(i),a=i;break e;case"link":var r=Mu("link","href",n).get(a+(l.href||""));if(r){for(var c=0;c<r.length;c++)if(i=r[c],i.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&i.getAttribute("rel")===(l.rel==null?null:l.rel)&&i.getAttribute("title")===(l.title==null?null:l.title)&&i.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){r.splice(c,1);break t}}i=n.createElement(a),De(i,a,l),n.head.appendChild(i);break;case"meta":if(r=Mu("meta","content",n).get(a+(l.content||""))){for(c=0;c<r.length;c++)if(i=r[c],i.getAttribute("content")===(l.content==null?null:""+l.content)&&i.getAttribute("name")===(l.name==null?null:l.name)&&i.getAttribute("property")===(l.property==null?null:l.property)&&i.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&i.getAttribute("charset")===(l.charSet==null?null:l.charSet)){r.splice(c,1);break t}}i=n.createElement(a),De(i,a,l),n.head.appendChild(i);break;default:throw Error(w(468,a))}i[_e]=e,Ce(i),a=i}e.stateNode=a}else Ru(n,e.type,e.stateNode);else e.stateNode=_u(n,a,e.memoizedProps);else i!==a?(i===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):i.count--,a===null?Ru(n,e.type,e.stateNode):_u(n,a,e.memoizedProps)):a===null&&e.stateNode!==null&&Qi(e,e.memoizedProps,l.memoizedProps)}break;case 27:He(t,e),Ye(e),a&512&&(ve||l===null||Nt(l,l.return)),l!==null&&a&4&&Qi(e,e.memoizedProps,l.memoizedProps);break;case 5:if(He(t,e),Ye(e),a&512&&(ve||l===null||Nt(l,l.return)),e.flags&32){n=e.stateNode;try{ja(n,"")}catch(v){ne(e,e.return,v)}}a&4&&e.stateNode!=null&&(n=e.memoizedProps,Qi(e,n,l!==null?l.memoizedProps:n)),a&1024&&(Zi=!0);break;case 6:if(He(t,e),Ye(e),a&4){if(e.stateNode===null)throw Error(w(162));a=e.memoizedProps,l=e.stateNode;try{l.nodeValue=a}catch(v){ne(e,e.return,v)}}break;case 3:if(ps=null,n=gt,gt=Vs(t.containerInfo),He(t,e),gt=n,Ye(e),a&4&&l!==null&&l.memoizedState.isDehydrated)try{Oa(t.containerInfo)}catch(v){ne(e,e.return,v)}Zi&&(Zi=!1,g0(e));break;case 4:a=gt,gt=Vs(e.stateNode.containerInfo),He(t,e),Ye(e),gt=a;break;case 12:He(t,e),Ye(e);break;case 31:He(t,e),Ye(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,ts(e,a)));break;case 13:He(t,e),Ye(e),e.child.flags&8192&&e.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(ui=We()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,ts(e,a)));break;case 22:n=e.memoizedState!==null;var o=l!==null&&l.memoizedState!==null,d=Dt,y=ve;if(Dt=d||n,ve=y||o,He(t,e),ve=y,Dt=d,Ye(e),a&8192)e:for(t=e.stateNode,t._visibility=n?t._visibility&-2:t._visibility|1,n&&(l===null||o||Dt||ve||zl(e)),l=null,t=e;;){if(t.tag===5||t.tag===26){if(l===null){o=l=t;try{if(i=o.stateNode,n)r=i.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{c=o.stateNode;var x=o.memoizedProps.style,m=x!=null&&x.hasOwnProperty("display")?x.display:null;c.style.display=m==null||typeof m=="boolean"?"":(""+m).trim()}}catch(v){ne(o,o.return,v)}}}else if(t.tag===6){if(l===null){o=t;try{o.stateNode.nodeValue=n?"":o.memoizedProps}catch(v){ne(o,o.return,v)}}}else if(t.tag===18){if(l===null){o=t;try{var g=o.stateNode;n?Tu(g,!0):Tu(o.stateNode,!1)}catch(v){ne(o,o.return,v)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;l===t&&(l=null),t=t.return}l===t&&(l=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(l=a.retryQueue,l!==null&&(a.retryQueue=null,ts(e,l))));break;case 19:He(t,e),Ye(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,ts(e,a)));break;case 30:break;case 21:break;default:He(t,e),Ye(e)}}function Ye(e){var t=e.flags;if(t&2){try{for(var l,a=e.return;a!==null;){if(c0(a)){l=a;break}a=a.return}if(l==null)throw Error(w(160));switch(l.tag){case 27:var n=l.stateNode,i=Vi(e);Ls(e,i,n);break;case 5:var r=l.stateNode;l.flags&32&&(ja(r,""),l.flags&=-33);var c=Vi(e);Ls(e,c,r);break;case 3:case 4:var o=l.stateNode.containerInfo,d=Vi(e);Yr(e,d,o);break;default:throw Error(w(161))}}catch(y){ne(e,e.return,y)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function g0(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;g0(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function zt(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)u0(e,t.alternate,t),t=t.sibling}function zl(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Nl(4,t,t.return),zl(t);break;case 1:Nt(t,t.return);var l=t.stateNode;typeof l.componentWillUnmount=="function"&&i0(t,t.return,l),zl(t);break;case 27:fn(t.stateNode);case 26:case 5:Nt(t,t.return),zl(t);break;case 22:t.memoizedState===null&&zl(t);break;case 30:zl(t);break;default:zl(t)}e=e.sibling}}function _t(e,t,l){for(l=l&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,n=e,i=t,r=i.flags;switch(i.tag){case 0:case 11:case 15:_t(n,i,l),Bn(4,i);break;case 1:if(_t(n,i,l),a=i,n=a.stateNode,typeof n.componentDidMount=="function")try{n.componentDidMount()}catch(d){ne(a,a.return,d)}if(a=i,n=a.updateQueue,n!==null){var c=a.stateNode;try{var o=n.shared.hiddenCallbacks;if(o!==null)for(n.shared.hiddenCallbacks=null,n=0;n<o.length;n++)mf(o[n],c)}catch(d){ne(a,a.return,d)}}l&&r&64&&s0(i),cn(i,i.return);break;case 27:o0(i);case 26:case 5:_t(n,i,l),l&&a===null&&r&4&&r0(i),cn(i,i.return);break;case 12:_t(n,i,l);break;case 31:_t(n,i,l),l&&r&4&&m0(n,i);break;case 13:_t(n,i,l),l&&r&4&&h0(n,i);break;case 22:i.memoizedState===null&&_t(n,i,l),cn(i,i.return);break;case 30:break;default:_t(n,i,l)}t=t.sibling}}function Kc(e,t){var l=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==l&&(e!=null&&e.refCount++,l!=null&&kn(l))}function Fc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&kn(e))}function xt(e,t,l,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)y0(e,t,l,a),t=t.sibling}function y0(e,t,l,a){var n=t.flags;switch(t.tag){case 0:case 11:case 15:xt(e,t,l,a),n&2048&&Bn(9,t);break;case 1:xt(e,t,l,a);break;case 3:xt(e,t,l,a),n&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&kn(e)));break;case 12:if(n&2048){xt(e,t,l,a),e=t.stateNode;try{var i=t.memoizedProps,r=i.id,c=i.onPostCommit;typeof c=="function"&&c(r,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(o){ne(t,t.return,o)}}else xt(e,t,l,a);break;case 31:xt(e,t,l,a);break;case 13:xt(e,t,l,a);break;case 23:break;case 22:i=t.stateNode,r=t.alternate,t.memoizedState!==null?i._visibility&2?xt(e,t,l,a):on(e,t):i._visibility&2?xt(e,t,l,a):(i._visibility|=2,Wl(e,t,l,a,(t.subtreeFlags&10256)!==0||!1)),n&2048&&Kc(r,t);break;case 24:xt(e,t,l,a),n&2048&&Fc(t.alternate,t);break;default:xt(e,t,l,a)}}function Wl(e,t,l,a,n){for(n=n&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var i=e,r=t,c=l,o=a,d=r.flags;switch(r.tag){case 0:case 11:case 15:Wl(i,r,c,o,n),Bn(8,r);break;case 23:break;case 22:var y=r.stateNode;r.memoizedState!==null?y._visibility&2?Wl(i,r,c,o,n):on(i,r):(y._visibility|=2,Wl(i,r,c,o,n)),n&&d&2048&&Kc(r.alternate,r);break;case 24:Wl(i,r,c,o,n),n&&d&2048&&Fc(r.alternate,r);break;default:Wl(i,r,c,o,n)}t=t.sibling}}function on(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var l=e,a=t,n=a.flags;switch(a.tag){case 22:on(l,a),n&2048&&Kc(a.alternate,a);break;case 24:on(l,a),n&2048&&Fc(a.alternate,a);break;default:on(l,a)}t=t.sibling}}var Wa=8192;function Kl(e,t,l){if(e.subtreeFlags&Wa)for(e=e.child;e!==null;)p0(e,t,l),e=e.sibling}function p0(e,t,l){switch(e.tag){case 26:Kl(e,t,l),e.flags&Wa&&e.memoizedState!==null&&jg(l,gt,e.memoizedState,e.memoizedProps);break;case 5:Kl(e,t,l);break;case 3:case 4:var a=gt;gt=Vs(e.stateNode.containerInfo),Kl(e,t,l),gt=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=Wa,Wa=16777216,Kl(e,t,l),Wa=a):Kl(e,t,l));break;default:Kl(e,t,l)}}function b0(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Va(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var l=0;l<t.length;l++){var a=t[l];Ae=a,j0(a,e)}b0(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)v0(e),e=e.sibling}function v0(e){switch(e.tag){case 0:case 11:case 15:Va(e),e.flags&2048&&Nl(9,e,e.return);break;case 3:Va(e);break;case 12:Va(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,gs(e)):Va(e);break;default:Va(e)}}function gs(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var l=0;l<t.length;l++){var a=t[l];Ae=a,j0(a,e)}b0(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Nl(8,t,t.return),gs(t);break;case 22:l=t.stateNode,l._visibility&2&&(l._visibility&=-3,gs(t));break;default:gs(t)}e=e.sibling}}function j0(e,t){for(;Ae!==null;){var l=Ae;switch(l.tag){case 0:case 11:case 15:Nl(8,l,t);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var a=l.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:kn(l.memoizedState.cache)}if(a=l.child,a!==null)a.return=l,Ae=a;else e:for(l=e;Ae!==null;){a=Ae;var n=a.sibling,i=a.return;if(d0(a),a===l){Ae=null;break e}if(n!==null){n.return=i,Ae=n;break e}Ae=i}}}var kx={getCacheForType:function(e){var t=Re(je),l=t.data.get(e);return l===void 0&&(l=e(),t.data.set(e,l)),l},cacheSignal:function(){return Re(je).controller.signal}},Lx=typeof WeakMap=="function"?WeakMap:Map,te=0,ce=null,K=null,F=0,ae=0,Je=null,il=!1,ka=!1,$c=!1,Vt=0,ge=0,Sl=0,Ul=0,Wc=0,$e=0,Ea=0,un=null,qe=null,Gr=!1,ui=0,N0=0,Bs=1/0,Hs=null,xl=null,Ee=0,gl=null,Ta=null,Yt=0,qr=0,Xr=null,S0=null,dn=0,Qr=null;function et(){return te&2&&F!==0?F&-F:B.T!==null?Ic():_d()}function w0(){if($e===0)if(!(F&536870912)||$){var e=Jn;Jn<<=1,!(Jn&3932160)&&(Jn=262144),$e=e}else $e=536870912;return e=lt.current,e!==null&&(e.flags|=32),$e}function Qe(e,t,l){(e===ce&&(ae===2||ae===9)||e.cancelPendingCommit!==null)&&(Aa(e,0),rl(e,F,$e,!1)),Rn(e,l),(!(te&2)||e!==ce)&&(e===ce&&(!(te&2)&&(Ul|=l),ge===4&&rl(e,F,$e,!1)),Tt(e))}function E0(e,t,l){if(te&6)throw Error(w(327));var a=!l&&(t&127)===0&&(t&e.expiredLanes)===0||Mn(e,t),n=a?Yx(e,t):Ji(e,t,!0),i=a;do{if(n===0){ka&&!a&&rl(e,t,0,!1);break}else{if(l=e.current.alternate,i&&!Bx(l)){n=Ji(e,t,!1),i=!1;continue}if(n===2){if(i=t,e.errorRecoveryDisabledLanes&i)var r=0;else r=e.pendingLanes&-536870913,r=r!==0?r:r&536870912?536870912:0;if(r!==0){t=r;e:{var c=e;n=un;var o=c.current.memoizedState.isDehydrated;if(o&&(Aa(c,r).flags|=256),r=Ji(c,r,!1),r!==2){if($c&&!o){c.errorRecoveryDisabledLanes|=i,Ul|=i,n=4;break e}i=qe,qe=n,i!==null&&(qe===null?qe=i:qe.push.apply(qe,i))}n=r}if(i=!1,n!==2)continue}}if(n===1){Aa(e,0),rl(e,t,0,!0);break}e:{switch(a=e,i=n,i){case 0:case 1:throw Error(w(345));case 4:if((t&4194048)!==t)break;case 6:rl(a,t,$e,!il);break e;case 2:qe=null;break;case 3:case 5:break;default:throw Error(w(329))}if((t&62914560)===t&&(n=ui+300-We(),10<n)){if(rl(a,t,$e,!il),Is(a,0,!0)!==0)break e;Yt=t,a.timeoutHandle=V0(mu.bind(null,a,l,qe,Hs,Gr,t,$e,Ul,Ea,il,i,"Throttled",-0,0),n);break e}mu(a,l,qe,Hs,Gr,t,$e,Ul,Ea,il,i,null,-0,0)}}break}while(!0);Tt(e)}function mu(e,t,l,a,n,i,r,c,o,d,y,x,m,g){if(e.timeoutHandle=-1,x=t.subtreeFlags,x&8192||(x&16785408)===16785408){x={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:kt},p0(t,i,x);var v=(i&62914560)===i?ui-We():(i&4194048)===i?N0-We():0;if(v=Ng(x,v),v!==null){Yt=i,e.cancelPendingCommit=v(xu.bind(null,e,t,i,l,a,n,r,c,o,y,x,null,m,g)),rl(e,i,r,!d);return}}xu(e,t,i,l,a,n,r,c,o)}function Bx(e){for(var t=e;;){var l=t.tag;if((l===0||l===11||l===15)&&t.flags&16384&&(l=t.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var a=0;a<l.length;a++){var n=l[a],i=n.getSnapshot;n=n.value;try{if(!tt(i(),n))return!1}catch{return!1}}if(l=t.child,t.subtreeFlags&16384&&l!==null)l.return=t,t=l;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function rl(e,t,l,a){t&=~Wc,t&=~Ul,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var n=t;0<n;){var i=31-Ie(n),r=1<<i;a[i]=-1,n&=~r}l!==0&&Cd(e,l,t)}function di(){return te&6?!0:(Hn(0),!1)}function Pc(){if(K!==null){if(ae===0)var e=K.return;else e=K,Lt=Zl=null,Lc(e),xa=null,vn=0,e=K;for(;e!==null;)n0(e.alternate,e),e=e.return;K=null}}function Aa(e,t){var l=e.timeoutHandle;l!==-1&&(e.timeoutHandle=-1,ng(l)),l=e.cancelPendingCommit,l!==null&&(e.cancelPendingCommit=null,l()),Yt=0,Pc(),ce=e,K=l=Bt(e.current,null),F=t,ae=0,Je=null,il=!1,ka=Mn(e,t),$c=!1,Ea=$e=Wc=Ul=Sl=ge=0,qe=un=null,Gr=!1,t&8&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var n=31-Ie(a),i=1<<n;t|=e[n],a&=~i}return Vt=t,ai(),l}function T0(e,t){Q=null,B.H=Nn,t===Ua||t===si?(t=Vo(),ae=3):t===zc?(t=Vo(),ae=4):ae=t===Zc?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Je=t,K===null&&(ge=1,Us(e,ct(t,e.current)))}function A0(){var e=lt.current;return e===null?!0:(F&4194048)===F?ut===null:(F&62914560)===F||F&536870912?e===ut:!1}function C0(){var e=B.H;return B.H=Nn,e===null?Nn:e}function O0(){var e=B.A;return B.A=kx,e}function Ys(){ge=4,il||(F&4194048)!==F&&lt.current!==null||(ka=!0),!(Sl&134217727)&&!(Ul&134217727)||ce===null||rl(ce,F,$e,!1)}function Ji(e,t,l){var a=te;te|=2;var n=C0(),i=O0();(ce!==e||F!==t)&&(Hs=null,Aa(e,t)),t=!1;var r=ge;e:do try{if(ae!==0&&K!==null){var c=K,o=Je;switch(ae){case 8:Pc(),r=6;break e;case 3:case 2:case 9:case 6:lt.current===null&&(t=!0);var d=ae;if(ae=0,Je=null,ua(e,c,o,d),l&&ka){r=0;break e}break;default:d=ae,ae=0,Je=null,ua(e,c,o,d)}}Hx(),r=ge;break}catch(y){T0(e,y)}while(!0);return t&&e.shellSuspendCounter++,Lt=Zl=null,te=a,B.H=n,B.A=i,K===null&&(ce=null,F=0,ai()),r}function Hx(){for(;K!==null;)z0(K)}function Yx(e,t){var l=te;te|=2;var a=C0(),n=O0();ce!==e||F!==t?(Hs=null,Bs=We()+500,Aa(e,t)):ka=Mn(e,t);e:do try{if(ae!==0&&K!==null){t=K;var i=Je;t:switch(ae){case 1:ae=0,Je=null,ua(e,t,i,1);break;case 2:case 9:if(Qo(i)){ae=0,Je=null,hu(t);break}t=function(){ae!==2&&ae!==9||ce!==e||(ae=7),Tt(e)},i.then(t,t);break e;case 3:ae=7;break e;case 4:ae=5;break e;case 7:Qo(i)?(ae=0,Je=null,hu(t)):(ae=0,Je=null,ua(e,t,i,7));break;case 5:var r=null;switch(K.tag){case 26:r=K.memoizedState;case 5:case 27:var c=K;if(r?$0(r):c.stateNode.complete){ae=0,Je=null;var o=c.sibling;if(o!==null)K=o;else{var d=c.return;d!==null?(K=d,fi(d)):K=null}break t}}ae=0,Je=null,ua(e,t,i,5);break;case 6:ae=0,Je=null,ua(e,t,i,6);break;case 8:Pc(),ge=6;break e;default:throw Error(w(462))}}Gx();break}catch(y){T0(e,y)}while(!0);return Lt=Zl=null,B.H=a,B.A=n,te=l,K!==null?0:(ce=null,F=0,ai(),ge)}function Gx(){for(;K!==null&&!uh();)z0(K)}function z0(e){var t=a0(e.alternate,e,Vt);e.memoizedProps=e.pendingProps,t===null?fi(e):K=t}function hu(e){var t=e,l=t.alternate;switch(t.tag){case 15:case 0:t=ru(l,t,t.pendingProps,t.type,void 0,F);break;case 11:t=ru(l,t,t.pendingProps,t.type.render,t.ref,F);break;case 5:Lc(t);default:n0(l,t),t=K=af(t,Vt),t=a0(l,t,Vt)}e.memoizedProps=e.pendingProps,t===null?fi(e):K=t}function ua(e,t,l,a){Lt=Zl=null,Lc(t),xa=null,vn=0;var n=t.return;try{if(Ox(e,n,t,l,F)){ge=1,Us(e,ct(l,e.current)),K=null;return}}catch(i){if(n!==null)throw K=n,i;ge=1,Us(e,ct(l,e.current)),K=null;return}t.flags&32768?($||a===1?e=!0:ka||F&536870912?e=!1:(il=e=!0,(a===2||a===9||a===3||a===6)&&(a=lt.current,a!==null&&a.tag===13&&(a.flags|=16384))),_0(t,e)):fi(t)}function fi(e){var t=e;do{if(t.flags&32768){_0(t,il);return}e=t.return;var l=Mx(t.alternate,t,Vt);if(l!==null){K=l;return}if(t=t.sibling,t!==null){K=t;return}K=t=e}while(t!==null);ge===0&&(ge=5)}function _0(e,t){do{var l=Rx(e.alternate,e);if(l!==null){l.flags&=32767,K=l;return}if(l=e.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!t&&(e=e.sibling,e!==null)){K=e;return}K=e=l}while(e!==null);ge=6,K=null}function xu(e,t,l,a,n,i,r,c,o){e.cancelPendingCommit=null;do mi();while(Ee!==0);if(te&6)throw Error(w(327));if(t!==null){if(t===e.current)throw Error(w(177));if(i=t.lanes|t.childLanes,i|=Sc,vh(e,l,i,r,c,o),e===ce&&(K=ce=null,F=0),Ta=t,gl=e,Yt=l,qr=i,Xr=n,S0=a,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,Vx(ws,function(){return k0(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,t.subtreeFlags&13878||a){a=B.T,B.T=null,n=le.p,le.p=2,r=te,te|=4;try{Dx(e,t,l)}finally{te=r,le.p=n,B.T=a}}Ee=1,M0(),R0(),D0()}}function M0(){if(Ee===1){Ee=0;var e=gl,t=Ta,l=(t.flags&13878)!==0;if(t.subtreeFlags&13878||l){l=B.T,B.T=null;var a=le.p;le.p=2;var n=te;te|=4;try{x0(t,e);var i=Kr,r=Fd(e.containerInfo),c=i.focusedElem,o=i.selectionRange;if(r!==c&&c&&c.ownerDocument&&Kd(c.ownerDocument.documentElement,c)){if(o!==null&&Nc(c)){var d=o.start,y=o.end;if(y===void 0&&(y=d),"selectionStart"in c)c.selectionStart=d,c.selectionEnd=Math.min(y,c.value.length);else{var x=c.ownerDocument||document,m=x&&x.defaultView||window;if(m.getSelection){var g=m.getSelection(),v=c.textContent.length,b=Math.min(o.start,v),N=o.end===void 0?b:Math.min(o.end,v);!g.extend&&b>N&&(r=N,N=b,b=r);var f=Lo(c,b),u=Lo(c,N);if(f&&u&&(g.rangeCount!==1||g.anchorNode!==f.node||g.anchorOffset!==f.offset||g.focusNode!==u.node||g.focusOffset!==u.offset)){var h=x.createRange();h.setStart(f.node,f.offset),g.removeAllRanges(),b>N?(g.addRange(h),g.extend(u.node,u.offset)):(h.setEnd(u.node,u.offset),g.addRange(h))}}}}for(x=[],g=c;g=g.parentNode;)g.nodeType===1&&x.push({element:g,left:g.scrollLeft,top:g.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<x.length;c++){var j=x[c];j.element.scrollLeft=j.left,j.element.scrollTop=j.top}}Ks=!!Jr,Kr=Jr=null}finally{te=n,le.p=a,B.T=l}}e.current=t,Ee=2}}function R0(){if(Ee===2){Ee=0;var e=gl,t=Ta,l=(t.flags&8772)!==0;if(t.subtreeFlags&8772||l){l=B.T,B.T=null;var a=le.p;le.p=2;var n=te;te|=4;try{u0(e,t.alternate,t)}finally{te=n,le.p=a,B.T=l}}Ee=3}}function D0(){if(Ee===4||Ee===3){Ee=0,dh();var e=gl,t=Ta,l=Yt,a=S0;t.subtreeFlags&10256||t.flags&10256?Ee=5:(Ee=0,Ta=gl=null,U0(e,e.pendingLanes));var n=e.pendingLanes;if(n===0&&(xl=null),xc(l),t=t.stateNode,Pe&&typeof Pe.onCommitFiberRoot=="function")try{Pe.onCommitFiberRoot(_n,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=B.T,n=le.p,le.p=2,B.T=null;try{for(var i=e.onRecoverableError,r=0;r<a.length;r++){var c=a[r];i(c.value,{componentStack:c.stack})}}finally{B.T=t,le.p=n}}Yt&3&&mi(),Tt(e),n=e.pendingLanes,l&261930&&n&42?e===Qr?dn++:(dn=0,Qr=e):dn=0,Hn(0)}}function U0(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,kn(t)))}function mi(){return M0(),R0(),D0(),k0()}function k0(){if(Ee!==5)return!1;var e=gl,t=qr;qr=0;var l=xc(Yt),a=B.T,n=le.p;try{le.p=32>l?32:l,B.T=null,l=Xr,Xr=null;var i=gl,r=Yt;if(Ee=0,Ta=gl=null,Yt=0,te&6)throw Error(w(331));var c=te;if(te|=4,v0(i.current),y0(i,i.current,r,l),te=c,Hn(0,!1),Pe&&typeof Pe.onPostCommitFiberRoot=="function")try{Pe.onPostCommitFiberRoot(_n,i)}catch{}return!0}finally{le.p=n,B.T=a,U0(e,t)}}function gu(e,t,l){t=ct(l,t),t=Lr(e.stateNode,t,2),e=hl(e,t,2),e!==null&&(Rn(e,2),Tt(e))}function ne(e,t,l){if(e.tag===3)gu(e,e,l);else for(;t!==null;){if(t.tag===3){gu(t,e,l);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(xl===null||!xl.has(a))){e=ct(l,e),l=Wf(2),a=hl(t,l,2),a!==null&&(Pf(l,a,t,e),Rn(a,2),Tt(a));break}}t=t.return}}function Ki(e,t,l){var a=e.pingCache;if(a===null){a=e.pingCache=new Lx;var n=new Set;a.set(t,n)}else n=a.get(t),n===void 0&&(n=new Set,a.set(t,n));n.has(l)||($c=!0,n.add(l),e=qx.bind(null,e,t,l),t.then(e,e))}function qx(e,t,l){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&l,e.warmLanes&=~l,ce===e&&(F&l)===l&&(ge===4||ge===3&&(F&62914560)===F&&300>We()-ui?!(te&2)&&Aa(e,0):Wc|=l,Ea===F&&(Ea=0)),Tt(e)}function L0(e,t){t===0&&(t=Ad()),e=Vl(e,t),e!==null&&(Rn(e,t),Tt(e))}function Xx(e){var t=e.memoizedState,l=0;t!==null&&(l=t.retryLane),L0(e,l)}function Qx(e,t){var l=0;switch(e.tag){case 31:case 13:var a=e.stateNode,n=e.memoizedState;n!==null&&(l=n.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(w(314))}a!==null&&a.delete(t),L0(e,l)}function Vx(e,t){return mc(e,t)}var Gs=null,Pl=null,Vr=!1,qs=!1,Fi=!1,cl=0;function Tt(e){e!==Pl&&e.next===null&&(Pl===null?Gs=Pl=e:Pl=Pl.next=e),qs=!0,Vr||(Vr=!0,Jx())}function Hn(e,t){if(!Fi&&qs){Fi=!0;do for(var l=!1,a=Gs;a!==null;){if(e!==0){var n=a.pendingLanes;if(n===0)var i=0;else{var r=a.suspendedLanes,c=a.pingedLanes;i=(1<<31-Ie(42|e)+1)-1,i&=n&~(r&~c),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(l=!0,yu(a,i))}else i=F,i=Is(a,a===ce?i:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),!(i&3)||Mn(a,i)||(l=!0,yu(a,i));a=a.next}while(l);Fi=!1}}function Zx(){B0()}function B0(){qs=Vr=!1;var e=0;cl!==0&&ag()&&(e=cl);for(var t=We(),l=null,a=Gs;a!==null;){var n=a.next,i=H0(a,t);i===0?(a.next=null,l===null?Gs=n:l.next=n,n===null&&(Pl=l)):(l=a,(e!==0||i&3)&&(qs=!0)),a=n}Ee!==0&&Ee!==5||Hn(e),cl!==0&&(cl=0)}function H0(e,t){for(var l=e.suspendedLanes,a=e.pingedLanes,n=e.expirationTimes,i=e.pendingLanes&-62914561;0<i;){var r=31-Ie(i),c=1<<r,o=n[r];o===-1?(!(c&l)||c&a)&&(n[r]=bh(c,t)):o<=t&&(e.expiredLanes|=c),i&=~c}if(t=ce,l=F,l=Is(e,e===t?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,l===0||e===t&&(ae===2||ae===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&Si(a),e.callbackNode=null,e.callbackPriority=0;if(!(l&3)||Mn(e,l)){if(t=l&-l,t===e.callbackPriority)return t;switch(a!==null&&Si(a),xc(l)){case 2:case 8:l=Ed;break;case 32:l=ws;break;case 268435456:l=Td;break;default:l=ws}return a=Y0.bind(null,e),l=mc(l,a),e.callbackPriority=t,e.callbackNode=l,t}return a!==null&&a!==null&&Si(a),e.callbackPriority=2,e.callbackNode=null,2}function Y0(e,t){if(Ee!==0&&Ee!==5)return e.callbackNode=null,e.callbackPriority=0,null;var l=e.callbackNode;if(mi()&&e.callbackNode!==l)return null;var a=F;return a=Is(e,e===ce?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(E0(e,a,t),H0(e,We()),e.callbackNode!=null&&e.callbackNode===l?Y0.bind(null,e):null)}function yu(e,t){if(mi())return null;E0(e,t,!0)}function Jx(){sg(function(){te&6?mc(wd,Zx):B0()})}function Ic(){if(cl===0){var e=Na;e===0&&(e=Zn,Zn<<=1,!(Zn&261888)&&(Zn=256)),cl=e}return cl}function pu(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:rs(""+e)}function bu(e,t){var l=t.ownerDocument.createElement("input");return l.name=t.name,l.value=t.value,e.id&&l.setAttribute("form",e.id),t.parentNode.insertBefore(l,t),e=new FormData(e),l.parentNode.removeChild(l),e}function Kx(e,t,l,a,n){if(t==="submit"&&l&&l.stateNode===n){var i=pu((n[Ve]||null).action),r=a.submitter;r&&(t=(t=r[Ve]||null)?pu(t.formAction):r.getAttribute("formAction"),t!==null&&(i=t,r=null));var c=new ei("action","action",null,a,n);e.push({event:c,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(cl!==0){var o=r?bu(n,r):new FormData(n);Ur(l,{pending:!0,data:o,method:n.method,action:i},null,o)}}else typeof i=="function"&&(c.preventDefault(),o=r?bu(n,r):new FormData(n),Ur(l,{pending:!0,data:o,method:n.method,action:i},i,o))},currentTarget:n}]})}}for(var $i=0;$i<Sr.length;$i++){var Wi=Sr[$i],Fx=Wi.toLowerCase(),$x=Wi[0].toUpperCase()+Wi.slice(1);pt(Fx,"on"+$x)}pt(Wd,"onAnimationEnd");pt(Pd,"onAnimationIteration");pt(Id,"onAnimationStart");pt("dblclick","onDoubleClick");pt("focusin","onFocus");pt("focusout","onBlur");pt(fx,"onTransitionRun");pt(mx,"onTransitionStart");pt(hx,"onTransitionCancel");pt(ef,"onTransitionEnd");va("onMouseEnter",["mouseout","mouseover"]);va("onMouseLeave",["mouseout","mouseover"]);va("onPointerEnter",["pointerout","pointerover"]);va("onPointerLeave",["pointerout","pointerover"]);ql("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ql("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ql("onBeforeInput",["compositionend","keypress","textInput","paste"]);ql("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ql("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ql("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Wx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Sn));function G0(e,t){t=(t&4)!==0;for(var l=0;l<e.length;l++){var a=e[l],n=a.event;a=a.listeners;e:{var i=void 0;if(t)for(var r=a.length-1;0<=r;r--){var c=a[r],o=c.instance,d=c.currentTarget;if(c=c.listener,o!==i&&n.isPropagationStopped())break e;i=c,n.currentTarget=d;try{i(n)}catch(y){Ts(y)}n.currentTarget=null,i=o}else for(r=0;r<a.length;r++){if(c=a[r],o=c.instance,d=c.currentTarget,c=c.listener,o!==i&&n.isPropagationStopped())break e;i=c,n.currentTarget=d;try{i(n)}catch(y){Ts(y)}n.currentTarget=null,i=o}}}}function J(e,t){var l=t[xr];l===void 0&&(l=t[xr]=new Set);var a=e+"__bubble";l.has(a)||(q0(t,e,2,!1),l.add(a))}function Pi(e,t,l){var a=0;t&&(a|=4),q0(l,e,a,t)}var ls="_reactListening"+Math.random().toString(36).slice(2);function eo(e){if(!e[ls]){e[ls]=!0,Md.forEach(function(l){l!=="selectionchange"&&(Wx.has(l)||Pi(l,!1,e),Pi(l,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ls]||(t[ls]=!0,Pi("selectionchange",!1,t))}}function q0(e,t,l,a){switch(tm(t)){case 2:var n=Eg;break;case 8:n=Tg;break;default:n=no}l=n.bind(null,t,l,e),n=void 0,!vr||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(n=!0),a?n!==void 0?e.addEventListener(t,l,{capture:!0,passive:n}):e.addEventListener(t,l,!0):n!==void 0?e.addEventListener(t,l,{passive:n}):e.addEventListener(t,l,!1)}function Ii(e,t,l,a,n){var i=a;if(!(t&1)&&!(t&2)&&a!==null)e:for(;;){if(a===null)return;var r=a.tag;if(r===3||r===4){var c=a.stateNode.containerInfo;if(c===n)break;if(r===4)for(r=a.return;r!==null;){var o=r.tag;if((o===3||o===4)&&r.stateNode.containerInfo===n)return;r=r.return}for(;c!==null;){if(r=ta(c),r===null)return;if(o=r.tag,o===5||o===6||o===26||o===27){a=i=r;continue e}c=c.parentNode}}a=a.return}Yd(function(){var d=i,y=pc(l),x=[];e:{var m=tf.get(e);if(m!==void 0){var g=ei,v=e;switch(e){case"keypress":if(os(l)===0)break e;case"keydown":case"keyup":g=Qh;break;case"focusin":v="focus",g=Ci;break;case"focusout":v="blur",g=Ci;break;case"beforeblur":case"afterblur":g=Ci;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Ao;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=Mh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=Jh;break;case Wd:case Pd:case Id:g=Uh;break;case ef:g=Fh;break;case"scroll":case"scrollend":g=zh;break;case"wheel":g=Wh;break;case"copy":case"cut":case"paste":g=Lh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Oo;break;case"toggle":case"beforetoggle":g=Ih}var b=(t&4)!==0,N=!b&&(e==="scroll"||e==="scrollend"),f=b?m!==null?m+"Capture":null:m;b=[];for(var u=d,h;u!==null;){var j=u;if(h=j.stateNode,j=j.tag,j!==5&&j!==26&&j!==27||h===null||f===null||(j=xn(u,f),j!=null&&b.push(wn(u,j,h))),N)break;u=u.return}0<b.length&&(m=new g(m,v,null,l,y),x.push({event:m,listeners:b}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",m&&l!==br&&(v=l.relatedTarget||l.fromElement)&&(ta(v)||v[Ma]))break e;if((g||m)&&(m=y.window===y?y:(m=y.ownerDocument)?m.defaultView||m.parentWindow:window,g?(v=l.relatedTarget||l.toElement,g=d,v=v?ta(v):null,v!==null&&(N=zn(v),b=v.tag,v!==N||b!==5&&b!==27&&b!==6)&&(v=null)):(g=null,v=d),g!==v)){if(b=Ao,j="onMouseLeave",f="onMouseEnter",u="mouse",(e==="pointerout"||e==="pointerover")&&(b=Oo,j="onPointerLeave",f="onPointerEnter",u="pointer"),N=g==null?m:Fa(g),h=v==null?m:Fa(v),m=new b(j,u+"leave",g,l,y),m.target=N,m.relatedTarget=h,j=null,ta(y)===d&&(b=new b(f,u+"enter",v,l,y),b.target=h,b.relatedTarget=N,j=b),N=j,g&&v)t:{for(b=Px,f=g,u=v,h=0,j=f;j;j=b(j))h++;j=0;for(var E=u;E;E=b(E))j++;for(;0<h-j;)f=b(f),h--;for(;0<j-h;)u=b(u),j--;for(;h--;){if(f===u||u!==null&&f===u.alternate){b=f;break t}f=b(f),u=b(u)}b=null}else b=null;g!==null&&vu(x,m,g,b,!1),v!==null&&N!==null&&vu(x,N,v,b,!0)}}e:{if(m=d?Fa(d):window,g=m.nodeName&&m.nodeName.toLowerCase(),g==="select"||g==="input"&&m.type==="file")var _=Ro;else if(Mo(m))if(Zd)_=ox;else{_=rx;var S=ix}else g=m.nodeName,!g||g.toLowerCase()!=="input"||m.type!=="checkbox"&&m.type!=="radio"?d&&yc(d.elementType)&&(_=Ro):_=cx;if(_&&(_=_(e,d))){Vd(x,_,l,y);break e}S&&S(e,m,d),e==="focusout"&&d&&m.type==="number"&&d.memoizedProps.value!=null&&pr(m,"number",m.value)}switch(S=d?Fa(d):window,e){case"focusin":(Mo(S)||S.contentEditable==="true")&&(na=S,jr=d,tn=null);break;case"focusout":tn=jr=na=null;break;case"mousedown":Nr=!0;break;case"contextmenu":case"mouseup":case"dragend":Nr=!1,Bo(x,l,y);break;case"selectionchange":if(dx)break;case"keydown":case"keyup":Bo(x,l,y)}var C;if(jc)e:{switch(e){case"compositionstart":var z="onCompositionStart";break e;case"compositionend":z="onCompositionEnd";break e;case"compositionupdate":z="onCompositionUpdate";break e}z=void 0}else aa?Xd(e,l)&&(z="onCompositionEnd"):e==="keydown"&&l.keyCode===229&&(z="onCompositionStart");z&&(qd&&l.locale!=="ko"&&(aa||z!=="onCompositionStart"?z==="onCompositionEnd"&&aa&&(C=Gd()):(sl=y,bc="value"in sl?sl.value:sl.textContent,aa=!0)),S=Xs(d,z),0<S.length&&(z=new Co(z,e,null,l,y),x.push({event:z,listeners:S}),C?z.data=C:(C=Qd(l),C!==null&&(z.data=C)))),(C=tx?lx(e,l):ax(e,l))&&(z=Xs(d,"onBeforeInput"),0<z.length&&(S=new Co("onBeforeInput","beforeinput",null,l,y),x.push({event:S,listeners:z}),S.data=C)),Kx(x,e,d,l,y)}G0(x,t)})}function wn(e,t,l){return{instance:e,listener:t,currentTarget:l}}function Xs(e,t){for(var l=t+"Capture",a=[];e!==null;){var n=e,i=n.stateNode;if(n=n.tag,n!==5&&n!==26&&n!==27||i===null||(n=xn(e,l),n!=null&&a.unshift(wn(e,n,i)),n=xn(e,t),n!=null&&a.push(wn(e,n,i))),e.tag===3)return a;e=e.return}return[]}function Px(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function vu(e,t,l,a,n){for(var i=t._reactName,r=[];l!==null&&l!==a;){var c=l,o=c.alternate,d=c.stateNode;if(c=c.tag,o!==null&&o===a)break;c!==5&&c!==26&&c!==27||d===null||(o=d,n?(d=xn(l,i),d!=null&&r.unshift(wn(l,d,o))):n||(d=xn(l,i),d!=null&&r.push(wn(l,d,o)))),l=l.return}r.length!==0&&e.push({event:t,listeners:r})}var Ix=/\r\n?/g,eg=/\u0000|\uFFFD/g;function ju(e){return(typeof e=="string"?e:""+e).replace(Ix,`
`).replace(eg,"")}function X0(e,t){return t=ju(t),ju(e)===t}function se(e,t,l,a,n,i){switch(l){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||ja(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&ja(e,""+a);break;case"className":Fn(e,"class",a);break;case"tabIndex":Fn(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":Fn(e,l,a);break;case"style":Hd(e,a,i);break;case"data":if(t!=="object"){Fn(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||l!=="href")){e.removeAttribute(l);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(l);break}a=rs(""+a),e.setAttribute(l,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(l==="formAction"?(t!=="input"&&se(e,t,"name",n.name,n,null),se(e,t,"formEncType",n.formEncType,n,null),se(e,t,"formMethod",n.formMethod,n,null),se(e,t,"formTarget",n.formTarget,n,null)):(se(e,t,"encType",n.encType,n,null),se(e,t,"method",n.method,n,null),se(e,t,"target",n.target,n,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(l);break}a=rs(""+a),e.setAttribute(l,a);break;case"onClick":a!=null&&(e.onclick=kt);break;case"onScroll":a!=null&&J("scroll",e);break;case"onScrollEnd":a!=null&&J("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(w(61));if(l=a.__html,l!=null){if(n.children!=null)throw Error(w(60));e.innerHTML=l}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}l=rs(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,""+a):e.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,""):e.removeAttribute(l);break;case"capture":case"download":a===!0?e.setAttribute(l,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,a):e.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(l,a):e.removeAttribute(l);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(l):e.setAttribute(l,a);break;case"popover":J("beforetoggle",e),J("toggle",e),is(e,"popover",a);break;case"xlinkActuate":At(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":At(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":At(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":At(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":At(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":At(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":At(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":At(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":At(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":is(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Ch.get(l)||l,is(e,l,a))}}function Zr(e,t,l,a,n,i){switch(l){case"style":Hd(e,a,i);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(w(61));if(l=a.__html,l!=null){if(n.children!=null)throw Error(w(60));e.innerHTML=l}}break;case"children":typeof a=="string"?ja(e,a):(typeof a=="number"||typeof a=="bigint")&&ja(e,""+a);break;case"onScroll":a!=null&&J("scroll",e);break;case"onScrollEnd":a!=null&&J("scrollend",e);break;case"onClick":a!=null&&(e.onclick=kt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Rd.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(n=l.endsWith("Capture"),t=l.slice(2,n?l.length-7:void 0),i=e[Ve]||null,i=i!=null?i[l]:null,typeof i=="function"&&e.removeEventListener(t,i,n),typeof a=="function")){typeof i!="function"&&i!==null&&(l in e?e[l]=null:e.hasAttribute(l)&&e.removeAttribute(l)),e.addEventListener(t,a,n);break e}l in e?e[l]=a:a===!0?e.setAttribute(l,""):is(e,l,a)}}}function De(e,t,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":J("error",e),J("load",e);var a=!1,n=!1,i;for(i in l)if(l.hasOwnProperty(i)){var r=l[i];if(r!=null)switch(i){case"src":a=!0;break;case"srcSet":n=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(w(137,t));default:se(e,t,i,r,l,null)}}n&&se(e,t,"srcSet",l.srcSet,l,null),a&&se(e,t,"src",l.src,l,null);return;case"input":J("invalid",e);var c=i=r=n=null,o=null,d=null;for(a in l)if(l.hasOwnProperty(a)){var y=l[a];if(y!=null)switch(a){case"name":n=y;break;case"type":r=y;break;case"checked":o=y;break;case"defaultChecked":d=y;break;case"value":i=y;break;case"defaultValue":c=y;break;case"children":case"dangerouslySetInnerHTML":if(y!=null)throw Error(w(137,t));break;default:se(e,t,a,y,l,null)}}kd(e,i,c,o,d,r,n,!1);return;case"select":J("invalid",e),a=r=i=null;for(n in l)if(l.hasOwnProperty(n)&&(c=l[n],c!=null))switch(n){case"value":i=c;break;case"defaultValue":r=c;break;case"multiple":a=c;default:se(e,t,n,c,l,null)}t=i,l=r,e.multiple=!!a,t!=null?fa(e,!!a,t,!1):l!=null&&fa(e,!!a,l,!0);return;case"textarea":J("invalid",e),i=n=a=null;for(r in l)if(l.hasOwnProperty(r)&&(c=l[r],c!=null))switch(r){case"value":a=c;break;case"defaultValue":n=c;break;case"children":i=c;break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(w(91));break;default:se(e,t,r,c,l,null)}Bd(e,a,n,i);return;case"option":for(o in l)if(l.hasOwnProperty(o)&&(a=l[o],a!=null))switch(o){case"selected":e.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:se(e,t,o,a,l,null)}return;case"dialog":J("beforetoggle",e),J("toggle",e),J("cancel",e),J("close",e);break;case"iframe":case"object":J("load",e);break;case"video":case"audio":for(a=0;a<Sn.length;a++)J(Sn[a],e);break;case"image":J("error",e),J("load",e);break;case"details":J("toggle",e);break;case"embed":case"source":case"link":J("error",e),J("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(d in l)if(l.hasOwnProperty(d)&&(a=l[d],a!=null))switch(d){case"children":case"dangerouslySetInnerHTML":throw Error(w(137,t));default:se(e,t,d,a,l,null)}return;default:if(yc(t)){for(y in l)l.hasOwnProperty(y)&&(a=l[y],a!==void 0&&Zr(e,t,y,a,l,void 0));return}}for(c in l)l.hasOwnProperty(c)&&(a=l[c],a!=null&&se(e,t,c,a,l,null))}function tg(e,t,l,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var n=null,i=null,r=null,c=null,o=null,d=null,y=null;for(g in l){var x=l[g];if(l.hasOwnProperty(g)&&x!=null)switch(g){case"checked":break;case"value":break;case"defaultValue":o=x;default:a.hasOwnProperty(g)||se(e,t,g,null,a,x)}}for(var m in a){var g=a[m];if(x=l[m],a.hasOwnProperty(m)&&(g!=null||x!=null))switch(m){case"type":i=g;break;case"name":n=g;break;case"checked":d=g;break;case"defaultChecked":y=g;break;case"value":r=g;break;case"defaultValue":c=g;break;case"children":case"dangerouslySetInnerHTML":if(g!=null)throw Error(w(137,t));break;default:g!==x&&se(e,t,m,g,a,x)}}yr(e,r,c,o,d,y,i,n);return;case"select":g=r=c=m=null;for(i in l)if(o=l[i],l.hasOwnProperty(i)&&o!=null)switch(i){case"value":break;case"multiple":g=o;default:a.hasOwnProperty(i)||se(e,t,i,null,a,o)}for(n in a)if(i=a[n],o=l[n],a.hasOwnProperty(n)&&(i!=null||o!=null))switch(n){case"value":m=i;break;case"defaultValue":c=i;break;case"multiple":r=i;default:i!==o&&se(e,t,n,i,a,o)}t=c,l=r,a=g,m!=null?fa(e,!!l,m,!1):!!a!=!!l&&(t!=null?fa(e,!!l,t,!0):fa(e,!!l,l?[]:"",!1));return;case"textarea":g=m=null;for(c in l)if(n=l[c],l.hasOwnProperty(c)&&n!=null&&!a.hasOwnProperty(c))switch(c){case"value":break;case"children":break;default:se(e,t,c,null,a,n)}for(r in a)if(n=a[r],i=l[r],a.hasOwnProperty(r)&&(n!=null||i!=null))switch(r){case"value":m=n;break;case"defaultValue":g=n;break;case"children":break;case"dangerouslySetInnerHTML":if(n!=null)throw Error(w(91));break;default:n!==i&&se(e,t,r,n,a,i)}Ld(e,m,g);return;case"option":for(var v in l)if(m=l[v],l.hasOwnProperty(v)&&m!=null&&!a.hasOwnProperty(v))switch(v){case"selected":e.selected=!1;break;default:se(e,t,v,null,a,m)}for(o in a)if(m=a[o],g=l[o],a.hasOwnProperty(o)&&m!==g&&(m!=null||g!=null))switch(o){case"selected":e.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:se(e,t,o,m,a,g)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var b in l)m=l[b],l.hasOwnProperty(b)&&m!=null&&!a.hasOwnProperty(b)&&se(e,t,b,null,a,m);for(d in a)if(m=a[d],g=l[d],a.hasOwnProperty(d)&&m!==g&&(m!=null||g!=null))switch(d){case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(w(137,t));break;default:se(e,t,d,m,a,g)}return;default:if(yc(t)){for(var N in l)m=l[N],l.hasOwnProperty(N)&&m!==void 0&&!a.hasOwnProperty(N)&&Zr(e,t,N,void 0,a,m);for(y in a)m=a[y],g=l[y],!a.hasOwnProperty(y)||m===g||m===void 0&&g===void 0||Zr(e,t,y,m,a,g);return}}for(var f in l)m=l[f],l.hasOwnProperty(f)&&m!=null&&!a.hasOwnProperty(f)&&se(e,t,f,null,a,m);for(x in a)m=a[x],g=l[x],!a.hasOwnProperty(x)||m===g||m==null&&g==null||se(e,t,x,m,a,g)}function Nu(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function lg(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,l=performance.getEntriesByType("resource"),a=0;a<l.length;a++){var n=l[a],i=n.transferSize,r=n.initiatorType,c=n.duration;if(i&&c&&Nu(r)){for(r=0,c=n.responseEnd,a+=1;a<l.length;a++){var o=l[a],d=o.startTime;if(d>c)break;var y=o.transferSize,x=o.initiatorType;y&&Nu(x)&&(o=o.responseEnd,r+=y*(o<c?1:(c-d)/(o-d)))}if(--a,t+=8*(i+r)/(n.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Jr=null,Kr=null;function Qs(e){return e.nodeType===9?e:e.ownerDocument}function Su(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Q0(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Fr(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var er=null;function ag(){var e=window.event;return e&&e.type==="popstate"?e===er?!1:(er=e,!0):(er=null,!1)}var V0=typeof setTimeout=="function"?setTimeout:void 0,ng=typeof clearTimeout=="function"?clearTimeout:void 0,wu=typeof Promise=="function"?Promise:void 0,sg=typeof queueMicrotask=="function"?queueMicrotask:typeof wu<"u"?function(e){return wu.resolve(null).then(e).catch(ig)}:V0;function ig(e){setTimeout(function(){throw e})}function El(e){return e==="head"}function Eu(e,t){var l=t,a=0;do{var n=l.nextSibling;if(e.removeChild(l),n&&n.nodeType===8)if(l=n.data,l==="/$"||l==="/&"){if(a===0){e.removeChild(n),Oa(t);return}a--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")a++;else if(l==="html")fn(e.ownerDocument.documentElement);else if(l==="head"){l=e.ownerDocument.head,fn(l);for(var i=l.firstChild;i;){var r=i.nextSibling,c=i.nodeName;i[Dn]||c==="SCRIPT"||c==="STYLE"||c==="LINK"&&i.rel.toLowerCase()==="stylesheet"||l.removeChild(i),i=r}}else l==="body"&&fn(e.ownerDocument.body);l=n}while(l);Oa(t)}function Tu(e,t){var l=e;e=0;do{var a=l.nextSibling;if(l.nodeType===1?t?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(t?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),a&&a.nodeType===8)if(l=a.data,l==="/$"){if(e===0)break;e--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||e++;l=a}while(l)}function $r(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var l=t;switch(t=t.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":$r(l),gc(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}e.removeChild(l)}}function rg(e,t,l,a){for(;e.nodeType===1;){var n=l;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[Dn])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(i=e.getAttribute("rel"),i==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(i!==n.rel||e.getAttribute("href")!==(n.href==null||n.href===""?null:n.href)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin)||e.getAttribute("title")!==(n.title==null?null:n.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(i=e.getAttribute("src"),(i!==(n.src==null?null:n.src)||e.getAttribute("type")!==(n.type==null?null:n.type)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var i=n.name==null?null:""+n.name;if(n.type==="hidden"&&e.getAttribute("name")===i)return e}else return e;if(e=dt(e.nextSibling),e===null)break}return null}function cg(e,t,l){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!l||(e=dt(e.nextSibling),e===null))return null;return e}function Z0(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=dt(e.nextSibling),e===null))return null;return e}function Wr(e){return e.data==="$?"||e.data==="$~"}function Pr(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function og(e,t){var l=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||l.readyState!=="loading")t();else{var a=function(){t(),l.removeEventListener("DOMContentLoaded",a)};l.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function dt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Ir=null;function Au(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var l=e.data;if(l==="/$"||l==="/&"){if(t===0)return dt(e.nextSibling);t--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||t++}e=e.nextSibling}return null}function Cu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var l=e.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(t===0)return e;t--}else l!=="/$"&&l!=="/&"||t++}e=e.previousSibling}return null}function J0(e,t,l){switch(t=Qs(l),e){case"html":if(e=t.documentElement,!e)throw Error(w(452));return e;case"head":if(e=t.head,!e)throw Error(w(453));return e;case"body":if(e=t.body,!e)throw Error(w(454));return e;default:throw Error(w(451))}}function fn(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);gc(e)}var ft=new Map,Ou=new Set;function Vs(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Zt=le.d;le.d={f:ug,r:dg,D:fg,C:mg,L:hg,m:xg,X:yg,S:gg,M:pg};function ug(){var e=Zt.f(),t=di();return e||t}function dg(e){var t=Ra(e);t!==null&&t.tag===5&&t.type==="form"?Yf(t):Zt.r(e)}var La=typeof document>"u"?null:document;function K0(e,t,l){var a=La;if(a&&typeof t=="string"&&t){var n=rt(t);n='link[rel="'+e+'"][href="'+n+'"]',typeof l=="string"&&(n+='[crossorigin="'+l+'"]'),Ou.has(n)||(Ou.add(n),e={rel:e,crossOrigin:l,href:t},a.querySelector(n)===null&&(t=a.createElement("link"),De(t,"link",e),Ce(t),a.head.appendChild(t)))}}function fg(e){Zt.D(e),K0("dns-prefetch",e,null)}function mg(e,t){Zt.C(e,t),K0("preconnect",e,t)}function hg(e,t,l){Zt.L(e,t,l);var a=La;if(a&&e&&t){var n='link[rel="preload"][as="'+rt(t)+'"]';t==="image"&&l&&l.imageSrcSet?(n+='[imagesrcset="'+rt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(n+='[imagesizes="'+rt(l.imageSizes)+'"]')):n+='[href="'+rt(e)+'"]';var i=n;switch(t){case"style":i=Ca(e);break;case"script":i=Ba(e)}ft.has(i)||(e=me({rel:"preload",href:t==="image"&&l&&l.imageSrcSet?void 0:e,as:t},l),ft.set(i,e),a.querySelector(n)!==null||t==="style"&&a.querySelector(Yn(i))||t==="script"&&a.querySelector(Gn(i))||(t=a.createElement("link"),De(t,"link",e),Ce(t),a.head.appendChild(t)))}}function xg(e,t){Zt.m(e,t);var l=La;if(l&&e){var a=t&&typeof t.as=="string"?t.as:"script",n='link[rel="modulepreload"][as="'+rt(a)+'"][href="'+rt(e)+'"]',i=n;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=Ba(e)}if(!ft.has(i)&&(e=me({rel:"modulepreload",href:e},t),ft.set(i,e),l.querySelector(n)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Gn(i)))return}a=l.createElement("link"),De(a,"link",e),Ce(a),l.head.appendChild(a)}}}function gg(e,t,l){Zt.S(e,t,l);var a=La;if(a&&e){var n=da(a).hoistableStyles,i=Ca(e);t=t||"default";var r=n.get(i);if(!r){var c={loading:0,preload:null};if(r=a.querySelector(Yn(i)))c.loading=5;else{e=me({rel:"stylesheet",href:e,"data-precedence":t},l),(l=ft.get(i))&&to(e,l);var o=r=a.createElement("link");Ce(o),De(o,"link",e),o._p=new Promise(function(d,y){o.onload=d,o.onerror=y}),o.addEventListener("load",function(){c.loading|=1}),o.addEventListener("error",function(){c.loading|=2}),c.loading|=4,ys(r,t,a)}r={type:"stylesheet",instance:r,count:1,state:c},n.set(i,r)}}}function yg(e,t){Zt.X(e,t);var l=La;if(l&&e){var a=da(l).hoistableScripts,n=Ba(e),i=a.get(n);i||(i=l.querySelector(Gn(n)),i||(e=me({src:e,async:!0},t),(t=ft.get(n))&&lo(e,t),i=l.createElement("script"),Ce(i),De(i,"link",e),l.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},a.set(n,i))}}function pg(e,t){Zt.M(e,t);var l=La;if(l&&e){var a=da(l).hoistableScripts,n=Ba(e),i=a.get(n);i||(i=l.querySelector(Gn(n)),i||(e=me({src:e,async:!0,type:"module"},t),(t=ft.get(n))&&lo(e,t),i=l.createElement("script"),Ce(i),De(i,"link",e),l.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},a.set(n,i))}}function zu(e,t,l,a){var n=(n=dl.current)?Vs(n):null;if(!n)throw Error(w(446));switch(e){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(t=Ca(l.href),l=da(n).hoistableStyles,a=l.get(t),a||(a={type:"style",instance:null,count:0,state:null},l.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){e=Ca(l.href);var i=da(n).hoistableStyles,r=i.get(e);if(r||(n=n.ownerDocument||n,r={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(e,r),(i=n.querySelector(Yn(e)))&&!i._p&&(r.instance=i,r.state.loading=5),ft.has(e)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},ft.set(e,l),i||bg(n,e,l,r.state))),t&&a===null)throw Error(w(528,""));return r}if(t&&a!==null)throw Error(w(529,""));return null;case"script":return t=l.async,l=l.src,typeof l=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Ba(l),l=da(n).hoistableScripts,a=l.get(t),a||(a={type:"script",instance:null,count:0,state:null},l.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(w(444,e))}}function Ca(e){return'href="'+rt(e)+'"'}function Yn(e){return'link[rel="stylesheet"]['+e+"]"}function F0(e){return me({},e,{"data-precedence":e.precedence,precedence:null})}function bg(e,t,l,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),De(t,"link",l),Ce(t),e.head.appendChild(t))}function Ba(e){return'[src="'+rt(e)+'"]'}function Gn(e){return"script[async]"+e}function _u(e,t,l){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+rt(l.href)+'"]');if(a)return t.instance=a,Ce(a),a;var n=me({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),Ce(a),De(a,"style",n),ys(a,l.precedence,e),t.instance=a;case"stylesheet":n=Ca(l.href);var i=e.querySelector(Yn(n));if(i)return t.state.loading|=4,t.instance=i,Ce(i),i;a=F0(l),(n=ft.get(n))&&to(a,n),i=(e.ownerDocument||e).createElement("link"),Ce(i);var r=i;return r._p=new Promise(function(c,o){r.onload=c,r.onerror=o}),De(i,"link",a),t.state.loading|=4,ys(i,l.precedence,e),t.instance=i;case"script":return i=Ba(l.src),(n=e.querySelector(Gn(i)))?(t.instance=n,Ce(n),n):(a=l,(n=ft.get(i))&&(a=me({},l),lo(a,n)),e=e.ownerDocument||e,n=e.createElement("script"),Ce(n),De(n,"link",a),e.head.appendChild(n),t.instance=n);case"void":return null;default:throw Error(w(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(a=t.instance,t.state.loading|=4,ys(a,l.precedence,e));return t.instance}function ys(e,t,l){for(var a=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),n=a.length?a[a.length-1]:null,i=n,r=0;r<a.length;r++){var c=a[r];if(c.dataset.precedence===t)i=c;else if(i!==n)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=l.nodeType===9?l.head:l,t.insertBefore(e,t.firstChild))}function to(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function lo(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var ps=null;function Mu(e,t,l){if(ps===null){var a=new Map,n=ps=new Map;n.set(l,a)}else n=ps,a=n.get(l),a||(a=new Map,n.set(l,a));if(a.has(e))return a;for(a.set(e,null),l=l.getElementsByTagName(e),n=0;n<l.length;n++){var i=l[n];if(!(i[Dn]||i[_e]||e==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var r=i.getAttribute(t)||"";r=e+r;var c=a.get(r);c?c.push(i):a.set(r,[i])}}return a}function Ru(e,t,l){e=e.ownerDocument||e,e.head.insertBefore(l,t==="title"?e.querySelector("head > title"):null)}function vg(e,t,l){if(l===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function $0(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}function jg(e,t,l,a){if(l.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&!(l.state.loading&4)){if(l.instance===null){var n=Ca(a.href),i=t.querySelector(Yn(n));if(i){t=i._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Zs.bind(e),t.then(e,e)),l.state.loading|=4,l.instance=i,Ce(i);return}i=t.ownerDocument||t,a=F0(a),(n=ft.get(n))&&to(a,n),i=i.createElement("link"),Ce(i);var r=i;r._p=new Promise(function(c,o){r.onload=c,r.onerror=o}),De(i,"link",a),l.instance=i}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(l,t),(t=l.state.preload)&&!(l.state.loading&3)&&(e.count++,l=Zs.bind(e),t.addEventListener("load",l),t.addEventListener("error",l))}}var tr=0;function Ng(e,t){return e.stylesheets&&e.count===0&&bs(e,e.stylesheets),0<e.count||0<e.imgCount?function(l){var a=setTimeout(function(){if(e.stylesheets&&bs(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4+t);0<e.imgBytes&&tr===0&&(tr=62500*lg());var n=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&bs(e,e.stylesheets),e.unsuspend)){var i=e.unsuspend;e.unsuspend=null,i()}},(e.imgBytes>tr?50:800)+t);return e.unsuspend=l,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(n)}}:null}function Zs(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)bs(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Js=null;function bs(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Js=new Map,t.forEach(Sg,e),Js=null,Zs.call(e))}function Sg(e,t){if(!(t.state.loading&4)){var l=Js.get(e);if(l)var a=l.get(null);else{l=new Map,Js.set(e,l);for(var n=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<n.length;i++){var r=n[i];(r.nodeName==="LINK"||r.getAttribute("media")!=="not all")&&(l.set(r.dataset.precedence,r),a=r)}a&&l.set(null,a)}n=t.instance,r=n.getAttribute("data-precedence"),i=l.get(r)||a,i===a&&l.set(null,n),l.set(r,n),this.count++,a=Zs.bind(this),n.addEventListener("load",a),n.addEventListener("error",a),i?i.parentNode.insertBefore(n,i.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(n,e.firstChild)),t.state.loading|=4}}var En={$$typeof:Ut,Provider:null,Consumer:null,_currentValue:_l,_currentValue2:_l,_threadCount:0};function wg(e,t,l,a,n,i,r,c,o){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=wi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wi(0),this.hiddenUpdates=wi(null),this.identifierPrefix=a,this.onUncaughtError=n,this.onCaughtError=i,this.onRecoverableError=r,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function W0(e,t,l,a,n,i,r,c,o,d,y,x){return e=new wg(e,t,l,r,o,d,y,x,c),t=1,i===!0&&(t|=24),i=Fe(3,null,null,t),e.current=i,i.stateNode=e,t=Cc(),t.refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:a,isDehydrated:l,cache:t},_c(i),e}function P0(e){return e?(e=ra,e):ra}function I0(e,t,l,a,n,i){n=P0(n),a.context===null?a.context=n:a.pendingContext=n,a=ml(t),a.payload={element:l},i=i===void 0?null:i,i!==null&&(a.callback=i),l=hl(e,a,t),l!==null&&(Qe(l,e,t),an(l,e,t))}function Du(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var l=e.retryLane;e.retryLane=l!==0&&l<t?l:t}}function ao(e,t){Du(e,t),(e=e.alternate)&&Du(e,t)}function em(e){if(e.tag===13||e.tag===31){var t=Vl(e,67108864);t!==null&&Qe(t,e,67108864),ao(e,67108864)}}function Uu(e){if(e.tag===13||e.tag===31){var t=et();t=hc(t);var l=Vl(e,t);l!==null&&Qe(l,e,t),ao(e,t)}}var Ks=!0;function Eg(e,t,l,a){var n=B.T;B.T=null;var i=le.p;try{le.p=2,no(e,t,l,a)}finally{le.p=i,B.T=n}}function Tg(e,t,l,a){var n=B.T;B.T=null;var i=le.p;try{le.p=8,no(e,t,l,a)}finally{le.p=i,B.T=n}}function no(e,t,l,a){if(Ks){var n=ec(a);if(n===null)Ii(e,t,a,Fs,l),ku(e,a);else if(Cg(n,e,t,l,a))a.stopPropagation();else if(ku(e,a),t&4&&-1<Ag.indexOf(e)){for(;n!==null;){var i=Ra(n);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var r=Cl(i.pendingLanes);if(r!==0){var c=i;for(c.pendingLanes|=2,c.entangledLanes|=2;r;){var o=1<<31-Ie(r);c.entanglements[1]|=o,r&=~o}Tt(i),!(te&6)&&(Bs=We()+500,Hn(0))}}break;case 31:case 13:c=Vl(i,2),c!==null&&Qe(c,i,2),di(),ao(i,2)}if(i=ec(a),i===null&&Ii(e,t,a,Fs,l),i===n)break;n=i}n!==null&&a.stopPropagation()}else Ii(e,t,a,null,l)}}function ec(e){return e=pc(e),so(e)}var Fs=null;function so(e){if(Fs=null,e=ta(e),e!==null){var t=zn(e);if(t===null)e=null;else{var l=t.tag;if(l===13){if(e=bd(t),e!==null)return e;e=null}else if(l===31){if(e=vd(t),e!==null)return e;e=null}else if(l===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Fs=e,null}function tm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(fh()){case wd:return 2;case Ed:return 8;case ws:case mh:return 32;case Td:return 268435456;default:return 32}default:return 32}}var tc=!1,yl=null,pl=null,bl=null,Tn=new Map,An=new Map,al=[],Ag="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ku(e,t){switch(e){case"focusin":case"focusout":yl=null;break;case"dragenter":case"dragleave":pl=null;break;case"mouseover":case"mouseout":bl=null;break;case"pointerover":case"pointerout":Tn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":An.delete(t.pointerId)}}function Za(e,t,l,a,n,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:l,eventSystemFlags:a,nativeEvent:i,targetContainers:[n]},t!==null&&(t=Ra(t),t!==null&&em(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,n!==null&&t.indexOf(n)===-1&&t.push(n),e)}function Cg(e,t,l,a,n){switch(t){case"focusin":return yl=Za(yl,e,t,l,a,n),!0;case"dragenter":return pl=Za(pl,e,t,l,a,n),!0;case"mouseover":return bl=Za(bl,e,t,l,a,n),!0;case"pointerover":var i=n.pointerId;return Tn.set(i,Za(Tn.get(i)||null,e,t,l,a,n)),!0;case"gotpointercapture":return i=n.pointerId,An.set(i,Za(An.get(i)||null,e,t,l,a,n)),!0}return!1}function lm(e){var t=ta(e.target);if(t!==null){var l=zn(t);if(l!==null){if(t=l.tag,t===13){if(t=bd(l),t!==null){e.blockedOn=t,vo(e.priority,function(){Uu(l)});return}}else if(t===31){if(t=vd(l),t!==null){e.blockedOn=t,vo(e.priority,function(){Uu(l)});return}}else if(t===3&&l.stateNode.current.memoizedState.isDehydrated){e.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}e.blockedOn=null}function vs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var l=ec(e.nativeEvent);if(l===null){l=e.nativeEvent;var a=new l.constructor(l.type,l);br=a,l.target.dispatchEvent(a),br=null}else return t=Ra(l),t!==null&&em(t),e.blockedOn=l,!1;t.shift()}return!0}function Lu(e,t,l){vs(e)&&l.delete(t)}function Og(){tc=!1,yl!==null&&vs(yl)&&(yl=null),pl!==null&&vs(pl)&&(pl=null),bl!==null&&vs(bl)&&(bl=null),Tn.forEach(Lu),An.forEach(Lu)}function as(e,t){e.blockedOn===t&&(e.blockedOn=null,tc||(tc=!0,Te.unstable_scheduleCallback(Te.unstable_NormalPriority,Og)))}var ns=null;function Bu(e){ns!==e&&(ns=e,Te.unstable_scheduleCallback(Te.unstable_NormalPriority,function(){ns===e&&(ns=null);for(var t=0;t<e.length;t+=3){var l=e[t],a=e[t+1],n=e[t+2];if(typeof a!="function"){if(so(a||l)===null)continue;break}var i=Ra(l);i!==null&&(e.splice(t,3),t-=3,Ur(i,{pending:!0,data:n,method:l.method,action:a},a,n))}}))}function Oa(e){function t(o){return as(o,e)}yl!==null&&as(yl,e),pl!==null&&as(pl,e),bl!==null&&as(bl,e),Tn.forEach(t),An.forEach(t);for(var l=0;l<al.length;l++){var a=al[l];a.blockedOn===e&&(a.blockedOn=null)}for(;0<al.length&&(l=al[0],l.blockedOn===null);)lm(l),l.blockedOn===null&&al.shift();if(l=(e.ownerDocument||e).$$reactFormReplay,l!=null)for(a=0;a<l.length;a+=3){var n=l[a],i=l[a+1],r=n[Ve]||null;if(typeof i=="function")r||Bu(l);else if(r){var c=null;if(i&&i.hasAttribute("formAction")){if(n=i,r=i[Ve]||null)c=r.formAction;else if(so(n)!==null)continue}else c=r.action;typeof c=="function"?l[a+1]=c:(l.splice(a,3),a-=3),Bu(l)}}}function am(){function e(i){i.canIntercept&&i.info==="react-transition"&&i.intercept({handler:function(){return new Promise(function(r){return n=r})},focusReset:"manual",scroll:"manual"})}function t(){n!==null&&(n(),n=null),a||setTimeout(l,20)}function l(){if(!a&&!navigation.transition){var i=navigation.currentEntry;i&&i.url!=null&&navigation.navigate(i.url,{state:i.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,n=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(l,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),n!==null&&(n(),n=null)}}}function io(e){this._internalRoot=e}hi.prototype.render=io.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(w(409));var l=t.current,a=et();I0(l,a,e,t,null,null)};hi.prototype.unmount=io.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;I0(e.current,2,null,e,null,null),di(),t[Ma]=null}};function hi(e){this._internalRoot=e}hi.prototype.unstable_scheduleHydration=function(e){if(e){var t=_d();e={blockedOn:null,target:e,priority:t};for(var l=0;l<al.length&&t!==0&&t<al[l].priority;l++);al.splice(l,0,e),l===0&&lm(e)}};var Hu=yd.version;if(Hu!=="19.2.4")throw Error(w(527,Hu,"19.2.4"));le.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(w(188)):(e=Object.keys(e).join(","),Error(w(268,e)));return e=sh(t),e=e!==null?jd(e):null,e=e===null?null:e.stateNode,e};var zg={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ss=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ss.isDisabled&&ss.supportsFiber)try{_n=ss.inject(zg),Pe=ss}catch{}}Ws.createRoot=function(e,t){if(!pd(e))throw Error(w(299));var l=!1,a="",n=Kf,i=Ff,r=$f;return t!=null&&(t.unstable_strictMode===!0&&(l=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(n=t.onUncaughtError),t.onCaughtError!==void 0&&(i=t.onCaughtError),t.onRecoverableError!==void 0&&(r=t.onRecoverableError)),t=W0(e,1,!1,null,null,l,a,null,n,i,r,am),e[Ma]=t.current,eo(e),new io(t)};Ws.hydrateRoot=function(e,t,l){if(!pd(e))throw Error(w(299));var a=!1,n="",i=Kf,r=Ff,c=$f,o=null;return l!=null&&(l.unstable_strictMode===!0&&(a=!0),l.identifierPrefix!==void 0&&(n=l.identifierPrefix),l.onUncaughtError!==void 0&&(i=l.onUncaughtError),l.onCaughtError!==void 0&&(r=l.onCaughtError),l.onRecoverableError!==void 0&&(c=l.onRecoverableError),l.formState!==void 0&&(o=l.formState)),t=W0(e,1,!0,t,l??null,a,n,o,i,r,c,am),t.context=P0(null),l=t.current,a=et(),a=hc(a),n=ml(a),n.callback=null,hl(l,n,a),l=a,t.current.lanes=l,Rn(t,l),Tt(t),e[Ma]=t.current,eo(e),new hi(t)};Ws.version="19.2.4";function nm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(nm)}catch(e){console.error(e)}}nm(),dd.exports=Ws;var _g=dd.exports;const Mg=ed(_g);/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cn(){return Cn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a])}return e},Cn.apply(this,arguments)}var ol;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ol||(ol={}));const Yu="popstate";function Rg(e){e===void 0&&(e={});function t(a,n){let{pathname:i,search:r,hash:c}=a.location;return lc("",{pathname:i,search:r,hash:c},n.state&&n.state.usr||null,n.state&&n.state.key||"default")}function l(a,n){return typeof n=="string"?n:sm(n)}return Ug(t,l,null,e)}function Se(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ro(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Dg(){return Math.random().toString(36).substr(2,8)}function Gu(e,t){return{usr:e.state,key:e.key,idx:t}}function lc(e,t,l,a){return l===void 0&&(l=null),Cn({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ha(t):t,{state:l,key:t&&t.key||a||Dg()})}function sm(e){let{pathname:t="/",search:l="",hash:a=""}=e;return l&&l!=="?"&&(t+=l.charAt(0)==="?"?l:"?"+l),a&&a!=="#"&&(t+=a.charAt(0)==="#"?a:"#"+a),t}function Ha(e){let t={};if(e){let l=e.indexOf("#");l>=0&&(t.hash=e.substr(l),e=e.substr(0,l));let a=e.indexOf("?");a>=0&&(t.search=e.substr(a),e=e.substr(0,a)),e&&(t.pathname=e)}return t}function Ug(e,t,l,a){a===void 0&&(a={});let{window:n=document.defaultView,v5Compat:i=!1}=a,r=n.history,c=ol.Pop,o=null,d=y();d==null&&(d=0,r.replaceState(Cn({},r.state,{idx:d}),""));function y(){return(r.state||{idx:null}).idx}function x(){c=ol.Pop;let N=y(),f=N==null?null:N-d;d=N,o&&o({action:c,location:b.location,delta:f})}function m(N,f){c=ol.Push;let u=lc(b.location,N,f);d=y()+1;let h=Gu(u,d),j=b.createHref(u);try{r.pushState(h,"",j)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;n.location.assign(j)}i&&o&&o({action:c,location:b.location,delta:1})}function g(N,f){c=ol.Replace;let u=lc(b.location,N,f);d=y();let h=Gu(u,d),j=b.createHref(u);r.replaceState(h,"",j),i&&o&&o({action:c,location:b.location,delta:0})}function v(N){let f=n.location.origin!=="null"?n.location.origin:n.location.href,u=typeof N=="string"?N:sm(N);return u=u.replace(/ $/,"%20"),Se(f,"No window.location.(origin|href) available to create URL for href: "+u),new URL(u,f)}let b={get action(){return c},get location(){return e(n,r)},listen(N){if(o)throw new Error("A history only accepts one active listener");return n.addEventListener(Yu,x),o=N,()=>{n.removeEventListener(Yu,x),o=null}},createHref(N){return t(n,N)},createURL:v,encodeLocation(N){let f=v(N);return{pathname:f.pathname,search:f.search,hash:f.hash}},push:m,replace:g,go(N){return r.go(N)}};return b}var qu;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(qu||(qu={}));function kg(e,t,l){return l===void 0&&(l="/"),Lg(e,t,l)}function Lg(e,t,l,a){let n=typeof t=="string"?Ha(t):t,i=cm(n.pathname||"/",l);if(i==null)return null;let r=im(e);Bg(r);let c=null;for(let o=0;c==null&&o<r.length;++o){let d=$g(i);c=Jg(r[o],d)}return c}function im(e,t,l,a){t===void 0&&(t=[]),l===void 0&&(l=[]),a===void 0&&(a="");let n=(i,r,c)=>{let o={relativePath:c===void 0?i.path||"":c,caseSensitive:i.caseSensitive===!0,childrenIndex:r,route:i};o.relativePath.startsWith("/")&&(Se(o.relativePath.startsWith(a),'Absolute route path "'+o.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),o.relativePath=o.relativePath.slice(a.length));let d=kl([a,o.relativePath]),y=l.concat(o);i.children&&i.children.length>0&&(Se(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),im(i.children,t,y,d)),!(i.path==null&&!i.index)&&t.push({path:d,score:Vg(d,i.index),routesMeta:y})};return e.forEach((i,r)=>{var c;if(i.path===""||!((c=i.path)!=null&&c.includes("?")))n(i,r);else for(let o of rm(i.path))n(i,r,o)}),t}function rm(e){let t=e.split("/");if(t.length===0)return[];let[l,...a]=t,n=l.endsWith("?"),i=l.replace(/\?$/,"");if(a.length===0)return n?[i,""]:[i];let r=rm(a.join("/")),c=[];return c.push(...r.map(o=>o===""?i:[i,o].join("/"))),n&&c.push(...r),c.map(o=>e.startsWith("/")&&o===""?"/":o)}function Bg(e){e.sort((t,l)=>t.score!==l.score?l.score-t.score:Zg(t.routesMeta.map(a=>a.childrenIndex),l.routesMeta.map(a=>a.childrenIndex)))}const Hg=/^:[\w-]+$/,Yg=3,Gg=2,qg=1,Xg=10,Qg=-2,Xu=e=>e==="*";function Vg(e,t){let l=e.split("/"),a=l.length;return l.some(Xu)&&(a+=Qg),t&&(a+=Gg),l.filter(n=>!Xu(n)).reduce((n,i)=>n+(Hg.test(i)?Yg:i===""?qg:Xg),a)}function Zg(e,t){return e.length===t.length&&e.slice(0,-1).every((a,n)=>a===t[n])?e[e.length-1]-t[t.length-1]:0}function Jg(e,t,l){let{routesMeta:a}=e,n={},i="/",r=[];for(let c=0;c<a.length;++c){let o=a[c],d=c===a.length-1,y=i==="/"?t:t.slice(i.length)||"/",x=Kg({path:o.relativePath,caseSensitive:o.caseSensitive,end:d},y),m=o.route;if(!x)return null;Object.assign(n,x.params),r.push({params:n,pathname:kl([i,x.pathname]),pathnameBase:ty(kl([i,x.pathnameBase])),route:m}),x.pathnameBase!=="/"&&(i=kl([i,x.pathnameBase]))}return r}function Kg(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[l,a]=Fg(e.path,e.caseSensitive,e.end),n=t.match(l);if(!n)return null;let i=n[0],r=i.replace(/(.)\/+$/,"$1"),c=n.slice(1);return{params:a.reduce((d,y,x)=>{let{paramName:m,isOptional:g}=y;if(m==="*"){let b=c[x]||"";r=i.slice(0,i.length-b.length).replace(/(.)\/+$/,"$1")}const v=c[x];return g&&!v?d[m]=void 0:d[m]=(v||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:r,pattern:e}}function Fg(e,t,l){t===void 0&&(t=!1),l===void 0&&(l=!0),ro(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let a=[],n="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(r,c,o)=>(a.push({paramName:c,isOptional:o!=null}),o?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(a.push({paramName:"*"}),n+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):l?n+="\\/*$":e!==""&&e!=="/"&&(n+="(?:(?=\\/|$))"),[new RegExp(n,t?void 0:"i"),a]}function $g(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ro(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function cm(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let l=t.endsWith("/")?t.length-1:t.length,a=e.charAt(l);return a&&a!=="/"?null:e.slice(l)||"/"}const Wg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Pg=e=>Wg.test(e);function Ig(e,t){t===void 0&&(t="/");let{pathname:l,search:a="",hash:n=""}=typeof e=="string"?Ha(e):e,i;if(l)if(Pg(l))i=l;else{if(l.includes("//")){let r=l;l=l.replace(/\/\/+/g,"/"),ro(!1,"Pathnames cannot have embedded double slashes - normalizing "+(r+" -> "+l))}l.startsWith("/")?i=Qu(l.substring(1),"/"):i=Qu(l,t)}else i=t;return{pathname:i,search:ly(a),hash:ay(n)}}function Qu(e,t){let l=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(n=>{n===".."?l.length>1&&l.pop():n!=="."&&l.push(n)}),l.length>1?l.join("/"):"/"}function lr(e,t,l,a){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+l+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function ey(e){return e.filter((t,l)=>l===0||t.route.path&&t.route.path.length>0)}function om(e,t){let l=ey(e);return t?l.map((a,n)=>n===l.length-1?a.pathname:a.pathnameBase):l.map(a=>a.pathnameBase)}function um(e,t,l,a){a===void 0&&(a=!1);let n;typeof e=="string"?n=Ha(e):(n=Cn({},e),Se(!n.pathname||!n.pathname.includes("?"),lr("?","pathname","search",n)),Se(!n.pathname||!n.pathname.includes("#"),lr("#","pathname","hash",n)),Se(!n.search||!n.search.includes("#"),lr("#","search","hash",n)));let i=e===""||n.pathname==="",r=i?"/":n.pathname,c;if(r==null)c=l;else{let x=t.length-1;if(!a&&r.startsWith("..")){let m=r.split("/");for(;m[0]==="..";)m.shift(),x-=1;n.pathname=m.join("/")}c=x>=0?t[x]:"/"}let o=Ig(n,c),d=r&&r!=="/"&&r.endsWith("/"),y=(i||r===".")&&l.endsWith("/");return!o.pathname.endsWith("/")&&(d||y)&&(o.pathname+="/"),o}const kl=e=>e.join("/").replace(/\/\/+/g,"/"),ty=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),ly=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,ay=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function ny(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const dm=["post","put","patch","delete"];new Set(dm);const sy=["get",...dm];new Set(sy);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function On(){return On=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a])}return e},On.apply(this,arguments)}const co=p.createContext(null),iy=p.createContext(null),qn=p.createContext(null),xi=p.createContext(null),Jt=p.createContext({outlet:null,matches:[],isDataRoute:!1}),fm=p.createContext(null);function Xn(){return p.useContext(xi)!=null}function gi(){return Xn()||Se(!1),p.useContext(xi).location}function mm(e){p.useContext(qn).static||p.useLayoutEffect(e)}function hm(){let{isDataRoute:e}=p.useContext(Jt);return e?Ny():ry()}function ry(){Xn()||Se(!1);let e=p.useContext(co),{basename:t,future:l,navigator:a}=p.useContext(qn),{matches:n}=p.useContext(Jt),{pathname:i}=gi(),r=JSON.stringify(om(n,l.v7_relativeSplatPath)),c=p.useRef(!1);return mm(()=>{c.current=!0}),p.useCallback(function(d,y){if(y===void 0&&(y={}),!c.current)return;if(typeof d=="number"){a.go(d);return}let x=um(d,JSON.parse(r),i,y.relative==="path");e==null&&t!=="/"&&(x.pathname=x.pathname==="/"?t:kl([t,x.pathname])),(y.replace?a.replace:a.push)(x,y.state,y)},[t,a,r,i,e])}const cy=p.createContext(null);function oy(e){let t=p.useContext(Jt).outlet;return t&&p.createElement(cy.Provider,{value:e},t)}function uy(){let{matches:e}=p.useContext(Jt),t=e[e.length-1];return t?t.params:{}}function dy(e,t){return fy(e,t)}function fy(e,t,l,a){Xn()||Se(!1);let{navigator:n}=p.useContext(qn),{matches:i}=p.useContext(Jt),r=i[i.length-1],c=r?r.params:{};r&&r.pathname;let o=r?r.pathnameBase:"/";r&&r.route;let d=gi(),y;if(t){var x;let N=typeof t=="string"?Ha(t):t;o==="/"||(x=N.pathname)!=null&&x.startsWith(o)||Se(!1),y=N}else y=d;let m=y.pathname||"/",g=m;if(o!=="/"){let N=o.replace(/^\//,"").split("/");g="/"+m.replace(/^\//,"").split("/").slice(N.length).join("/")}let v=kg(e,{pathname:g}),b=yy(v&&v.map(N=>Object.assign({},N,{params:Object.assign({},c,N.params),pathname:kl([o,n.encodeLocation?n.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?o:kl([o,n.encodeLocation?n.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),i,l,a);return t&&b?p.createElement(xi.Provider,{value:{location:On({pathname:"/",search:"",hash:"",state:null,key:"default"},y),navigationType:ol.Pop}},b):b}function my(){let e=jy(),t=ny(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),l=e instanceof Error?e.stack:null,n={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},t),l?p.createElement("pre",{style:n},l):null,null)}const hy=p.createElement(my,null);class xy extends p.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,l){return l.location!==t.location||l.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:l.error,location:l.location,revalidation:t.revalidation||l.revalidation}}componentDidCatch(t,l){console.error("React Router caught the following error during render",t,l)}render(){return this.state.error!==void 0?p.createElement(Jt.Provider,{value:this.props.routeContext},p.createElement(fm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function gy(e){let{routeContext:t,match:l,children:a}=e,n=p.useContext(co);return n&&n.static&&n.staticContext&&(l.route.errorElement||l.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=l.route.id),p.createElement(Jt.Provider,{value:t},a)}function yy(e,t,l,a){var n;if(t===void 0&&(t=[]),l===void 0&&(l=null),a===void 0&&(a=null),e==null){var i;if(!l)return null;if(l.errors)e=l.matches;else if((i=a)!=null&&i.v7_partialHydration&&t.length===0&&!l.initialized&&l.matches.length>0)e=l.matches;else return null}let r=e,c=(n=l)==null?void 0:n.errors;if(c!=null){let y=r.findIndex(x=>x.route.id&&(c==null?void 0:c[x.route.id])!==void 0);y>=0||Se(!1),r=r.slice(0,Math.min(r.length,y+1))}let o=!1,d=-1;if(l&&a&&a.v7_partialHydration)for(let y=0;y<r.length;y++){let x=r[y];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(d=y),x.route.id){let{loaderData:m,errors:g}=l,v=x.route.loader&&m[x.route.id]===void 0&&(!g||g[x.route.id]===void 0);if(x.route.lazy||v){o=!0,d>=0?r=r.slice(0,d+1):r=[r[0]];break}}}return r.reduceRight((y,x,m)=>{let g,v=!1,b=null,N=null;l&&(g=c&&x.route.id?c[x.route.id]:void 0,b=x.route.errorElement||hy,o&&(d<0&&m===0?(Sy("route-fallback"),v=!0,N=null):d===m&&(v=!0,N=x.route.hydrateFallbackElement||null)));let f=t.concat(r.slice(0,m+1)),u=()=>{let h;return g?h=b:v?h=N:x.route.Component?h=p.createElement(x.route.Component,null):x.route.element?h=x.route.element:h=y,p.createElement(gy,{match:x,routeContext:{outlet:y,matches:f,isDataRoute:l!=null},children:h})};return l&&(x.route.ErrorBoundary||x.route.errorElement||m===0)?p.createElement(xy,{location:l.location,revalidation:l.revalidation,component:b,error:g,children:u(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):u()},null)}var xm=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(xm||{}),gm=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(gm||{});function py(e){let t=p.useContext(co);return t||Se(!1),t}function by(e){let t=p.useContext(iy);return t||Se(!1),t}function vy(e){let t=p.useContext(Jt);return t||Se(!1),t}function ym(e){let t=vy(),l=t.matches[t.matches.length-1];return l.route.id||Se(!1),l.route.id}function jy(){var e;let t=p.useContext(fm),l=by(),a=ym();return t!==void 0?t:(e=l.errors)==null?void 0:e[a]}function Ny(){let{router:e}=py(xm.UseNavigateStable),t=ym(gm.UseNavigateStable),l=p.useRef(!1);return mm(()=>{l.current=!0}),p.useCallback(function(n,i){i===void 0&&(i={}),l.current&&(typeof n=="number"?e.navigate(n):e.navigate(n,On({fromRouteId:t},i)))},[e,t])}const Vu={};function Sy(e,t,l){Vu[e]||(Vu[e]=!0)}function wy(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function pm(e){let{to:t,replace:l,state:a,relative:n}=e;Xn()||Se(!1);let{future:i,static:r}=p.useContext(qn),{matches:c}=p.useContext(Jt),{pathname:o}=gi(),d=hm(),y=um(t,om(c,i.v7_relativeSplatPath),o,n==="path"),x=JSON.stringify(y);return p.useEffect(()=>d(JSON.parse(x),{replace:l,state:a,relative:n}),[d,x,n,l,a]),null}function Ey(e){return oy(e.context)}function Mt(e){Se(!1)}function Ty(e){let{basename:t="/",children:l=null,location:a,navigationType:n=ol.Pop,navigator:i,static:r=!1,future:c}=e;Xn()&&Se(!1);let o=t.replace(/^\/*/,"/"),d=p.useMemo(()=>({basename:o,navigator:i,static:r,future:On({v7_relativeSplatPath:!1},c)}),[o,c,i,r]);typeof a=="string"&&(a=Ha(a));let{pathname:y="/",search:x="",hash:m="",state:g=null,key:v="default"}=a,b=p.useMemo(()=>{let N=cm(y,o);return N==null?null:{location:{pathname:N,search:x,hash:m,state:g,key:v},navigationType:n}},[o,y,x,m,g,v,n]);return b==null?null:p.createElement(qn.Provider,{value:d},p.createElement(xi.Provider,{children:l,value:b}))}function Ay(e){let{children:t,location:l}=e;return dy(ac(t),l)}new Promise(()=>{});function ac(e,t){t===void 0&&(t=[]);let l=[];return p.Children.forEach(e,(a,n)=>{if(!p.isValidElement(a))return;let i=[...t,n];if(a.type===p.Fragment){l.push.apply(l,ac(a.props.children,i));return}a.type!==Mt&&Se(!1),!a.props.index||!a.props.children||Se(!1);let r={id:a.props.id||i.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(r.children=ac(a.props.children,i)),l.push(r)}),l}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const Cy="6";try{window.__reactRouterVersion=Cy}catch{}const Oy="startTransition",Zu=Pm[Oy];function zy(e){let{basename:t,children:l,future:a,window:n}=e,i=p.useRef();i.current==null&&(i.current=Rg({window:n,v5Compat:!0}));let r=i.current,[c,o]=p.useState({action:r.action,location:r.location}),{v7_startTransition:d}=a||{},y=p.useCallback(x=>{d&&Zu?Zu(()=>o(x)):o(x)},[o,d]);return p.useLayoutEffect(()=>r.listen(y),[r,y]),p.useEffect(()=>wy(a),[a]),p.createElement(Ty,{basename:t,children:l,location:c.location,navigationType:c.action,navigator:r,future:a})}var Ju;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ju||(Ju={}));var Ku;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Ku||(Ku={}));const bm=()=>{localStorage.removeItem("token"),window.dispatchEvent(new CustomEvent("auth:unauthorized"))},ee=async(e,t={})=>{const l=localStorage.getItem("token"),a=new Headers(t.headers);l&&a.set("Authorization",`Bearer ${l}`);const n=await fetch(e,{...t,headers:a});return n.status===401&&bm(),n},_y=({user:e,navigateToUserProfile:t})=>{if(e.is_anonymous)return s.jsx("div",{className:"h-full flex items-center justify-center p-6 bg-gray-50",children:s.jsxs("div",{className:"text-center max-w-md",children:[s.jsx("div",{className:"w-20 h-20 bg-gray-300 rounded-full mx-auto mb-4 flex items-center justify-center",children:s.jsx("svg",{className:"w-10 h-10 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),s.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Chat Unavailable"}),s.jsx("p",{className:"text-gray-600",children:"Anonymous users cannot access the chat feature."}),s.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"This restriction is permanent for anonymous profiles."})]})});const l=A=>{t&&t(A)},[a,n]=p.useState([]),[i,r]=p.useState(""),[c,o]=p.useState(!1),[d,y]=p.useState(null),[x,m]=p.useState(null),g=p.useRef(null),v=p.useRef(null),[b,N]=p.useState("chat"),[f,u]=p.useState("public"),[h,j]=p.useState(""),[E,_]=p.useState([]),[S,C]=p.useState([]),[z,O]=p.useState([]),[H,R]=p.useState({action:null,username:null});p.useEffect(()=>(D(),()=>{v.current&&v.current.close()}),[e]);const D=()=>{try{if(e.is_anonymous){console.log(" Skipping SSE connection for anonymous user"),o(!1);return}const A=localStorage.getItem("token");if(console.log(" Token from localStorage:",A?"EXISTS":"MISSING"),!A){console.error(" No token found");return}console.log(" Connecting to SSE with token...");const X=`/api/chat/stream?token=${A}`;console.log(" SSE URL:",X);const M=new EventSource(X);v.current=M,M.onopen=()=>{console.log(" SSE onopen triggered"),o(!0)},M.onmessage=Z=>{console.log(" SSE onmessage received:",Z.data);try{const Y=JSON.parse(Z.data);switch(console.log(" Parsed data:",Y),Y.type){case"connected":console.log(" Connected event:",Y),y(Y.connectionId),k(Y.connectionId),Y.onlineUsers&&O(Y.onlineUsers);break;case"history":console.log(" History received:",Y.messages.length,"messages");const pi=Y.messages.map(we=>({id:we.id,username:we.username,message:we.message,timestamp:new Date(we.timestamp),isPrivate:we.isPrivate,toUser:we.toUser}));n(pi);break;case"message":console.log(" New message:",Y);const _m={id:Y.id,username:Y.username,message:Y.message,timestamp:new Date(Y.timestamp),isPrivate:Y.isPrivate,toUser:Y.toUser};n(we=>(console.log(" Adding message to state, total:",we.length+1),[...we,_m]));break;case"user_joined":console.log(" User joined:",Y),n(we=>[...we,{id:Date.now().toString(),username:"",message:Y.message,timestamp:new Date(Y.timestamp)}]),Y.username&&Y.username.trim()!==""&&O(we=>we.includes(Y.username)?we:[...we,Y.username]);break;case"user_left":console.log(" User event:",Y),n(we=>[...we,{id:Date.now().toString(),username:"",message:Y.message,timestamp:new Date(Y.timestamp)}]),Y.username&&Y.username.trim()!==""&&O(we=>we.filter(Mm=>Mm!==Y.username));break;default:console.log(" Unknown message type:",Y.type)}}catch(Y){console.error(" Error parsing SSE message:",Y)}},M.onerror=Z=>{console.error(" SSE onerror:",Z),console.log("readyState:",M.readyState),o(!1),setTimeout(()=>{M.readyState===EventSource.CLOSED&&(console.log(" Attempting reconnection..."),D())},3e3)}}catch(A){console.error(" Failed to connect SSE:",A)}},k=async A=>{try{console.log(" Joining chat with connectionId:",A);const X=await ee("/api/chat/join",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({connectionId:A,userId:e.id,username:e.username})}),M=await X.json();console.log(" Join response:",M),X.ok?console.log(" Joined chat successfully"):console.error(" Failed to join chat:",X.statusText)}catch(X){console.error(" Error joining chat:",X)}},W=(A,X)=>{R({action:A,username:X})},T=()=>{if(H.action==="remove"&&H.username)_(A=>A.filter(X=>X.username!==H.username)),ee("/api/friends/remove",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:H.username})}).catch(A=>console.error("Failed to remove friend:",A));else if(H.action==="block"&&H.username&&!S.includes(H.username)&&H.username!==e.username){const A=H.username;C(X=>[...X,A]),_(X=>X.filter(M=>M.username!==A)),ee("/api/friends/block",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:A})}).catch(X=>console.error("Failed to block user:",X))}R({action:null,username:null})},U=()=>{R({action:null,username:null})},L=a.filter(A=>S.includes(A.username)?!1:f==="private"&&h?A.username===h&&A.toUser===e.username||A.username===e.username&&A.toUser===h:!A.isPrivate),I=()=>{var A;(A=g.current)==null||A.scrollIntoView({behavior:"smooth"})};p.useEffect(()=>{I()},[L]);const G=A=>{if(A.preventDefault(),!i.trim()||!d||!c){console.log(" Cannot send: message=",i.trim(),"connId=",d,"connected=",c);return}const X=i.trim();console.log(" Sending message:",X),r(""),d&&(console.log(" POST /api/chat/send with connectionId:",d),ee("/api/chat/send",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({connectionId:d,message:X,isPrivate:f==="private",toUser:f==="private"?h:void 0})}).then(M=>(console.log(" Send response status:",M.status),M.json())).then(M=>console.log(" Send response:",M)).catch(M=>console.error(" Failed to send message:",M)))},mt=A=>{if(!E.some(X=>X.username===A)&&A!==e.username){const X={id:Date.now().toString(),username:A,isOnline:z.includes(A)};_(M=>[...M,X]),ee("/api/friends/add",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:A})}).catch(M=>console.error("Failed to add friend:",M))}},Kt=A=>{C(X=>X.filter(M=>M!==A)),ee("/api/friends/unblock",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:A})}).catch(X=>console.error("Failed to unblock user:",X))},Ft=A=>{u("private"),j(A),N("chat")},ht=()=>{u("public"),j("")},$t=()=>Array.from(new Set(a.map(X=>X.username))).filter(X=>X!==e.username),yi=A=>{m(A),setTimeout(()=>m(null),2e3)};return s.jsxs("div",{className:"h-full flex flex-col overflow-hidden",children:[x&&s.jsx("div",{className:"absolute top-4 left-1/2 transform -translate-x-1/2 z-50 animate-fade-in",children:s.jsx("div",{className:"bg-gray-800 text-white text-sm px-4 py-2 rounded-lg shadow-lg",children:x})}),H.action&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white p-4 rounded shadow-md text-center",children:[s.jsxs("p",{className:"text-sm text-gray-800",children:["Are you sure you want to"," ",H.action==="remove"?"remove":"block"," ",s.jsx("strong",{children:H.username}),"?"]}),s.jsxs("div",{className:"mt-4 flex justify-center space-x-2",children:[s.jsx("button",{onClick:T,className:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700",children:"Yes"}),s.jsx("button",{onClick:U,className:"px-4 py-2 bg-gray-300 text-gray-800 rounded hover:bg-gray-400",children:"Cancel"})]})]})}),s.jsxs("div",{className:"flex border-b border-white/20 bg-white/30 backdrop-blur-sm flex-shrink-0",children:[s.jsx("button",{onClick:()=>N("chat"),className:`flex-1 py-2 px-3 text-xs font-medium transition-colors ${b==="chat"?"bg-blue-500/80 text-white":"text-gray-700 hover:text-gray-900 hover:bg-white/30"}`,children:"Chat"}),s.jsxs("button",{onClick:()=>N("friends"),className:`flex-1 py-2 px-3 text-xs font-medium transition-colors ${b==="friends"?"bg-blue-500/80 text-white":"text-gray-700 hover:text-gray-900 hover:bg-white/30"}`,children:["Friends (",E.length,")"]}),s.jsxs("button",{onClick:()=>N("blocked"),className:`flex-1 py-2 px-3 text-xs font-medium transition-colors ${b==="blocked"?"bg-blue-500/80 text-white":"text-gray-700 hover:text-gray-900 hover:bg-white/30"}`,children:["Blocked (",S.length,")"]})]}),b==="chat"&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"bg-white/20 backdrop-blur-sm px-3 py-2 border-b border-white/20 flex-shrink-0",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center space-x-2",children:f==="private"?s.jsxs(s.Fragment,{children:[s.jsxs("span",{className:"text-xs text-purple-700 font-medium",children:["Private with ",h]}),s.jsx("button",{onClick:ht,className:"text-xs text-blue-600 hover:text-blue-800 underline",children:"Switch to Public"})]}):s.jsx("span",{className:"text-xs text-green-700 font-medium",children:"Public Chat"})}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:`w-2 h-2 rounded-full ${c?"bg-green-500":"bg-red-500"}`}),s.jsx("span",{className:"text-xs text-gray-600",children:c?"Connected":"Disconnected"})]})]})}),s.jsxs("div",{className:"flex-1 min-h-0 overflow-y-auto p-3 space-y-3",children:[L.length===0?s.jsx("div",{className:"text-center text-gray-500 py-8",children:"No messages yet. Start the conversation!"}):L.map(A=>s.jsx("div",{className:"text-sm group",children:s.jsxs("div",{className:"flex flex-col space-y-1",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("span",{className:`font-medium text-xs cursor-pointer hover:underline ${A.isPrivate?"text-purple-700":"text-blue-700"}`,onClick:()=>{A.username!==e.username?l(A.username):yi("This is your own profile")},title:`View ${A.username}'s profile`,children:[A.username,A.isPrivate&&s.jsxs("span",{className:"ml-1 text-purple-500",children:[" ",A.toUser]})]}),s.jsx("span",{className:"text-xs text-gray-500",children:A.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),A.username!==e.username&&s.jsxs("div",{className:"opacity-0 group-hover:opacity-100 flex items-center space-x-1",children:[!E.some(X=>X.username===A.username)&&s.jsx("button",{onClick:()=>mt(A.username),className:"text-green-600 hover:text-green-800 text-xs bg-white/50 rounded px-1",title:"Add friend",children:"+"}),E.some(X=>X.username===A.username)&&s.jsx("button",{onClick:()=>Ft(A.username),className:"text-purple-600 hover:text-purple-800 text-xs bg-white/50 rounded px-1",title:"Private message",children:""}),s.jsx("button",{onClick:()=>W("block",A.username),className:"text-red-600 hover:text-red-800 text-xs bg-white/50 rounded px-1",title:"Block user",children:""})]})]}),s.jsx("div",{className:`break-words pl-2 border-l-2 ${A.isPrivate?"border-purple-300 text-purple-900 bg-purple-50/50":"border-blue-300 text-gray-900 bg-white/30"} rounded-r px-2 py-1`,children:A.message})]})},A.id)),s.jsx("div",{ref:g})]}),s.jsx("div",{className:"border-t border-white/20 p-3 flex-shrink-0 bg-white/20 backdrop-blur-sm",children:s.jsxs("form",{onSubmit:G,className:"flex space-x-2",children:[s.jsx("input",{type:"text",value:i,onChange:A=>r(A.target.value),placeholder:c?f==="private"?`Private message to ${h}...`:"Type message...":"Connecting...",className:"flex-1 text-sm border border-white/30 bg-white/50 backdrop-blur-sm rounded px-2 py-1 focus:outline-none focus:ring-1 focus:ring-blue-500 focus:bg-white/70",maxLength:200,disabled:!c}),s.jsx("button",{type:"submit",disabled:!i.trim()||!c,className:`px-3 py-1 rounded text-sm disabled:opacity-50 disabled:cursor-not-allowed flex-shrink-0 backdrop-blur-sm ${f==="private"?"bg-purple-500/80 text-white hover:bg-purple-600":"bg-blue-500/80 text-white hover:bg-blue-600"}`,children:"Send"})]})})]}),b==="friends"&&s.jsxs("div",{className:"flex-1 min-h-0 overflow-y-auto p-3",children:[s.jsx("div",{className:"space-y-2",children:E.length===0?s.jsx("div",{className:"text-center text-gray-700 text-sm py-4",children:"No friends yet. Add friends from chat messages!"}):E.map(A=>s.jsxs("div",{className:"flex items-center justify-between p-2 bg-white/30 backdrop-blur-sm border border-white/20 rounded",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:`w-2 h-2 rounded-full ${A.isOnline?"bg-green-500":"bg-gray-400"}`}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:A.username})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx("button",{onClick:()=>Ft(A.username),className:"text-purple-600 hover:text-purple-800 text-sm bg-white/50 rounded px-2 py-1",title:"Private chat",children:""}),s.jsx("button",{onClick:()=>W("remove",A.username),className:"text-red-600 hover:text-red-800 text-sm bg-white/50 rounded px-2 py-1",title:"Remove friend",children:""})]})]},A.id))}),s.jsxs("div",{className:"mt-4 pt-3 border-t border-white/20",children:[s.jsx("div",{className:"text-xs text-gray-700 mb-2",children:"Quick add from recent users:"}),s.jsx("div",{className:"space-y-1",children:$t().filter(A=>!E.some(X=>X.username===A)).filter(A=>!S.includes(A)).slice(0,3).map(A=>s.jsxs("button",{onClick:()=>mt(A),className:"block w-full text-left text-sm text-blue-700 hover:text-blue-900 hover:bg-white/30 px-2 py-1 rounded bg-white/20",children:["+ Add ",A]},A))})]})]}),b==="blocked"&&s.jsx("div",{className:"flex-1 min-h-0 overflow-y-auto p-3",children:s.jsx("div",{className:"space-y-2",children:S.length===0?s.jsx("div",{className:"text-center text-gray-700 text-sm py-4",children:"No blocked users."}):S.map(A=>s.jsxs("div",{className:"flex items-center justify-between p-2 bg-red-100/50 backdrop-blur-sm border border-red-200/50 rounded",children:[s.jsx("span",{className:"text-sm font-medium text-red-800",children:A}),s.jsx("button",{onClick:()=>Kt(A),className:"text-green-600 hover:text-green-800 text-sm bg-white/50 rounded px-2 py-1",title:"Unblock user",children:"Unblock"})]},A))})}),s.jsx("div",{className:"px-3 py-1 border-t border-white/20 bg-white/30 backdrop-blur-sm flex-shrink-0",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"text-xs text-gray-700",children:[L.length," messages"]}),s.jsxs("span",{className:"text-xs text-gray-700",children:[z.length," online"]})]})})]})};function Fu({token:e,onVerifySuccess:t,onCancel:l}){const[a,n]=p.useState(""),[i,r]=p.useState(""),[c,o]=p.useState(!1),d=async y=>{y.preventDefault(),r(""),o(!0);try{const x=await fetch("/api/auth/2fa/verify",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({code:a})}),m=await x.json();x.ok&&m.success?t(m.token,m.user):r(m.error||"Invalid verification code")}catch(x){r("Network error. Please try again."),console.error("2FA verification error:",x)}finally{o(!1)}};return s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-black/95 border border-white/10 rounded-2xl shadow-2xl w-96 p-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-white text-center mb-2",children:"Two-Factor Authentication"}),s.jsx("p",{className:"text-white/70 text-center mb-6",children:"Enter the 6-digit code from your authenticator app!"}),s.jsxs("form",{onSubmit:d,className:"space-y-4",children:[s.jsx("input",{type:"text",value:a,onChange:y=>n(y.target.value.replace(/\D/g,"").slice(0,6)),placeholder:"012345",maxLength:6,inputMode:"numeric",className:"w-full px-4 py-3 text-center text-2xl tracking-widest bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",autoFocus:!0}),s.jsx("button",{type:"submit",disabled:c||a.length!==6,className:"w-full bg-gradient-to-r from-blue-600 to-blue-500 text-white p-3 rounded-lg hover:from-blue-500 hover:to-blue-400 disabled:opacity-50 disabled:cursor-not-allowed transition-all font-medium shadow-lg shadow-blue-500/25",children:c?"Verifying...":"Verify Code"})]}),i&&s.jsx("div",{className:"bg-red-500/20 border border-red-500/30 text-red-300 px-4 py-3 rounded-lg text-sm text-center",children:i}),s.jsx("div",{className:"mt-6 text-center",children:s.jsx("button",{onClick:l,className:"text-blue-400 hover:text-blue-300 text-sm hover:underline transition-colors",children:" Back to login"})})]})})}const $u="3000",My="Snatcher";function vm(){return typeof window<"u"?`http://backend:${$u}`:`http://${My}:${$u}`}const Ry=vm(),jm=({onLoginSuccess:e,onSwitchToRegister:t,isInPanel:l=!1})=>{const[a,n]=p.useState(""),[i,r]=p.useState(""),[c,o]=p.useState(""),[d,y]=p.useState(!1),[x,m]=p.useState(!1),[g,v]=p.useState(!1),[b,N]=p.useState(null),[f,u]=p.useState(null),h=async S=>{S.preventDefault(),y(!0),o("");try{console.log("Attempting login with:",{username:a}),console.log("API URL:",`${Ry}/api/auth/login`);let C;try{C=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:a,password:i})})}catch{console.log("Backend container not reachable, trying localhost..."),C=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:a,password:i})})}console.log("Response status:",C.status);const z=await C.json();console.log("Response data:",z),C.ok?z.requires2FA?(N(z.user),u(z.token),v(!0)):(e(z.user,z.token),n(""),r("")):o(z.error||"Login failed")}catch(C){console.error("Login error:",C),o("Network error. Please try again.")}finally{y(!1)}},j=(S,C)=>{e(C,S),v(!1),N(null),u(null),n(""),r("")},E=()=>{v(!1),N(null),u(null),n(""),r("")},_=async()=>{m(!0),o("");const S=`guest_${Math.random().toString(36).slice(2,8)}`;try{const C=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:S,isGuest:!0})}),z=await C.json();C.ok?e(z.user,z.token):o(z.error||"Guest sign-in failed")}catch(C){console.error("Guest sign-in error:",C),o("Network error. Please try again.")}finally{m(!1)}};return l?s.jsxs(s.Fragment,{children:[g&&b&&f&&s.jsx(Fu,{user:b,token:f,onVerifySuccess:j,onCancel:E}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("form",{onSubmit:h,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-white/70 text-sm font-medium mb-1.5",children:"Username"}),s.jsx("input",{type:"text",placeholder:"Enter your username",value:a,onChange:S=>n(S.target.value),className:"w-full p-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-white/70 text-sm font-medium mb-1.5",children:"Password"}),s.jsx("input",{type:"password",placeholder:"Enter your password",value:i,onChange:S=>r(S.target.value),className:"w-full p-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",required:!0})]}),s.jsx("button",{type:"submit",disabled:d,className:"w-full bg-gradient-to-r from-blue-600 to-blue-500 text-white p-3 rounded-lg hover:from-blue-500 hover:to-blue-400 disabled:opacity-50 transition-all font-medium shadow-lg shadow-blue-500/25",children:d?"Logging in...":"Login"})]}),c&&s.jsx("div",{className:"bg-red-500/20 border border-red-500/30 text-red-300 px-4 py-3 rounded-lg text-sm",children:c}),t&&s.jsxs("p",{className:"text-center text-sm text-white/60",children:["Don't have an account?"," ",s.jsx("button",{onClick:t,className:"text-blue-400 hover:text-blue-300 hover:underline transition-colors",children:"Register here"})]}),s.jsx("div",{className:"border-t border-white/10 pt-4 mt-4",children:s.jsx("button",{type:"button",onClick:_,disabled:x,className:"w-full bg-slate-600 hover:bg-slate-500 text-white p-3 rounded-lg disabled:opacity-50 transition-all font-medium text-sm border border-slate-500/50",children:x?"Signing in...":"Continue as Guest"})})]})]}):s.jsxs(s.Fragment,{children:[g&&b&&f&&s.jsx(Fu,{user:b,token:f,onVerifySuccess:j,onCancel:E}),s.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:s.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md w-96",children:[s.jsx("h2",{className:"text-2xl font-bold mb-6 text-center",children:"Login"}),c&&s.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:c}),s.jsxs("form",{onSubmit:h,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Username"}),s.jsx("input",{type:"text",value:a,onChange:S=>n(S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Password"}),s.jsx("input",{type:"password",value:i,onChange:S=>r(S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),s.jsx("button",{type:"submit",disabled:d,className:"w-full bg-blue-500 text-white py-2 px-4 rounded-md hover:bg-blue-600 disabled:opacity-50",children:d?"Logging in...":"Login"})]}),t&&s.jsxs("p",{className:"text-center mt-6",children:["Don't have an account?"," ",s.jsx("button",{onClick:t,className:"text-blue-500 hover:underline",children:"Register here"})]}),s.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200",children:s.jsx("button",{type:"button",onClick:_,disabled:x,className:"w-full bg-slate-500 text-white py-2 px-4 rounded-md hover:bg-slate-600 disabled:opacity-50 transition-colors",children:x?"Signing in...":"Continue as Guest"})})]})})]})},nc=({isModal:e=!1,onClose:t,embedded:l=!1,lightMode:a=!1})=>{const n=l||a,i=n?"bg-white border border-gray-200 rounded-lg shadow p-6 max-h-[60vh] overflow-y-auto text-gray-900 text-sm":"bg-black/95 border border-white/10 rounded-2xl shadow-2xl p-8 text-white/90 max-h-[80vh] overflow-y-auto flex-1 min-h-0",r=n?"text-lg font-semibold text-gray-900":"text-3xl font-bold text-white",c=n?"text-base font-semibold mb-3 text-gray-900":"text-2xl font-semibold mb-4 text-white",o=n?"text-sm font-semibold mb-2 text-gray-900":"text-xl font-medium mb-2 text-white/90",d=n?"text-sm text-gray-700 leading-relaxed":"text-white/80",y=n?"text-sm text-gray-600 mb-6":"text-white/70 mb-8",x=n?"border-gray-200 mb-6":"border-white/10 mb-8",m=n?"list-disc list-inside text-sm text-gray-700 space-y-1 ml-4":"list-disc list-inside text-white/80 space-y-2 ml-4",g=n?"list-decimal list-inside text-sm text-gray-700 ml-4 space-y-1":"list-decimal list-inside text-white/80 text-sm ml-4 space-y-1",v=n?"w-full text-sm text-gray-700 border-collapse border border-gray-200":"w-full text-white/80 border-collapse border border-white/20",b=n?"text-left py-2 px-3 border-b border-gray-200 font-semibold text-gray-900 text-sm":"text-left py-3 px-4 border-b border-white/20 font-semibold",N=n?"py-2 px-3 border-b border-gray-100 text-sm text-gray-700":"py-3 px-4 border-b border-white/10",f=n?"py-2 px-3 text-sm text-gray-700":"py-3 px-4",u=n?"bg-gray-100":"bg-white/10",h=n?"bg-emerald-50 border border-emerald-200 rounded-lg p-4 mb-4":"bg-emerald-500/20 border border-emerald-500/30 rounded-lg p-4 mb-4",j=n?"text-sm text-emerald-800 font-medium":"text-emerald-300 font-medium",E=n?"text-sm text-gray-800 bg-gray-100 px-1 rounded":"text-white/90",_=n?"text-sm text-blue-600 hover:text-blue-500 hover:underline transition-colors":"text-blue-400 hover:text-blue-300 hover:underline transition-colors",S=n?"text-sm text-gray-600 italic text-center":"text-white/70 italic text-center",C=n?"text-gray-500 hover:text-gray-700":"text-white/60 hover:text-white",z=s.jsxs("div",{className:i,children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsx("h1",{className:r,children:"Privacy Policy Ft_transcendence"}),e&&t&&s.jsx("button",{onClick:t,className:`${C} text-2xl font-bold leading-none transition-colors`,"aria-label":"Close",children:""})]}),s.jsx("p",{className:y,children:"Last Updated: 16-2-2026"}),s.jsx("hr",{className:x}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:c,children:"Your Rights Under GDPR"}),s.jsx("p",{className:d,children:"ft_transcendence respects your privacy and complies with the General Data Protection Regulation (GDPR). This document explains your rights regarding your personal data and how to exercise them."})]}),s.jsx("hr",{className:x}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:c,children:"1. What Data We Collect"}),s.jsx("p",{className:`${d} mb-4`,children:"When you use ft_transcendence, we collect and store:"}),s.jsxs("ul",{className:m,children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Account Information:"})," Username, email address, password (encrypted)"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Profile Data:"})," Display name, avatar, user preferences"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Game Data:"})," Tournament participation, match results, statistics, win/loss records"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Communication:"})," Direct messages and chat history with other users"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Technical Data:"})," Login times"]})]})]}),s.jsx("hr",{className:x}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:c,children:"2. Your Data Rights"}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:o,children:"2.1 Right to View Your Data"}),s.jsx("p",{className:`${d} mb-2`,children:"You can view all personal data we have stored about you at any time."}),s.jsx("p",{className:`${d} mb-1`,children:s.jsx("strong",{children:"How to exercise:"})}),s.jsxs("ol",{className:g,children:[s.jsxs("li",{children:["Navigate to ",s.jsx("strong",{children:"Avatar icon  Profile"})]}),s.jsx("li",{children:"You will see a complete overview of your stored information on the profile page"})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:o,children:"2.2 Right to Edit Your Data"}),s.jsx("p",{className:`${d} mb-2`,children:"You can update or correct your personal information whenever needed."}),s.jsx("p",{className:`${d} mb-1`,children:s.jsx("strong",{children:"How to exercise:"})}),s.jsxs("ol",{className:g,children:[s.jsxs("li",{children:["Navigate to ",s.jsx("strong",{children:"Avatar icon  Settings"})," to update your information: such as Display name, Nickname, e-mail and avatar."]}),s.jsx("li",{children:"Changes take effect immediately"})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:o,children:"2.3 Right to Anonymize Your Account"}),s.jsx("p",{className:`${d} mb-2`,children:"If you don't want your data to be shown using ft_transcendence, you can anonymize your account."}),s.jsx("p",{className:`${d} mb-2`,children:s.jsx("strong",{children:"What happens:"})}),s.jsxs("ul",{className:`${m} mb-2`,children:[s.jsx("li",{children:"Your email and personal identifiers are removed"}),s.jsxs("li",{children:["Your username is replaced with ",s.jsx("code",{className:E,children:"Anonymous User"})]}),s.jsx("li",{children:"Your match history remains visible but not linked to you"}),s.jsx("li",{children:"You will not have access to the chat"}),s.jsx("li",{children:"You cannot recover your account after anonymization"})]}),s.jsx("p",{className:`${d} mb-1`,children:s.jsx("strong",{children:"How to exercise:"})}),s.jsxs("ol",{className:g,children:[s.jsxs("li",{children:["Navigate to ",s.jsx("strong",{children:"Avatar icon  Settings  Privacy & Data  Anonymous Mode"})]}),s.jsx("li",{className:"text-amber-600",children:" This action is irreversible"})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:o,children:"2.4 Right to Delete Your Account"}),s.jsx("p",{className:`${d} mb-2`,children:"You can permanently delete your account and all associated personal data."}),s.jsx("p",{className:`${d} mb-2`,children:s.jsx("strong",{children:"What gets deleted:"})}),s.jsxs("ul",{className:`${m} mb-2`,children:[s.jsx("li",{children:"Your account credentials and login information"}),s.jsx("li",{children:"Profile information (username, email, avatar)"}),s.jsx("li",{children:"Private messages and chat history"}),s.jsx("li",{children:"Personal preferences and settings"}),s.jsx("li",{children:"All game statistics and match history"})]}),s.jsx("p",{className:`${d} mb-1`,children:s.jsx("strong",{children:"How to exercise:"})}),s.jsxs("ol",{className:g,children:[s.jsxs("li",{children:["Navigate to ",s.jsx("strong",{children:"Avatar icon  Settings  Privacy & Data  Delete Account"})]}),s.jsx("li",{children:"Confirm your decision"}),s.jsx("li",{children:"Your data will be permanently deleted"})]})]})]}),s.jsx("hr",{className:x}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:c,children:"3. Data Retention"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:v,children:[s.jsx("thead",{children:s.jsxs("tr",{className:u,children:[s.jsx("th",{className:b,children:"Account Status"}),s.jsx("th",{className:b,children:"Data Retention Policy"})]})}),s.jsxs("tbody",{children:[s.jsxs("tr",{children:[s.jsx("td",{className:N,children:"Active accounts"}),s.jsx("td",{className:N,children:"Your data is retained while your account is active"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:N,children:"Deleted accounts"}),s.jsx("td",{className:N,children:"All personal data is permanently removed"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:f,children:"Anonymized accounts"}),s.jsx("td",{className:f,children:"Personal identifiers removed immediately; anonymized statistics may be retained"})]})]})]})})]}),s.jsx("hr",{className:x}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:c,children:"4. How We Protect Your Data"}),s.jsx("p",{className:`${d} mb-4`,children:"We implement security measures to protect your information:"}),s.jsxs("ul",{className:m,children:[s.jsx("li",{children:"Passwords encrypted using bcrypt hashing"}),s.jsx("li",{children:"All connections use HTTPS encryption and wss"}),s.jsx("li",{children:"Authentication uses JWT tokens with optional 2FA"}),s.jsx("li",{children:"Database setup for to prevent SQL injections and Cross site scripting"})]})]}),s.jsx("hr",{className:x}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:c,children:"5. Data Sharing"}),s.jsx("div",{className:h,children:s.jsx("p",{className:j,children:"We do not sell or rent your personal data to third parties."})}),s.jsx("p",{className:`${d} mb-2`,children:s.jsx("strong",{children:"Your data may be visible to:"})}),s.jsxs("ul",{className:`${m} mb-4`,children:[s.jsx("li",{children:"Other users (username, display name, game statistics, match results)"}),s.jsx("li",{children:"Platform administrators (for technical support and moderation)"})]}),s.jsx("p",{className:`${d} mb-2`,children:s.jsx("strong",{children:"Your data remains private:"})}),s.jsxs("ul",{className:m,children:[s.jsx("li",{children:"Email address"}),s.jsx("li",{children:"Password"}),s.jsx("li",{children:"Private messages (only you and recipients)"}),s.jsx("li",{children:"Technical logs"})]})]}),s.jsx("hr",{className:x}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:c,children:"6. Contact"}),s.jsx("p",{className:`${d} mb-4`,children:"If you have questions about your data or need assistance exercising your rights:"}),s.jsx("p",{className:`${d} mb-2`,children:s.jsx("strong",{children:"Contact us:"})}),s.jsxs("p",{className:d,children:[" Email: ",s.jsx("a",{href:"mailto:qtrinh@student.codam.nl",className:_,children:"qtrinh@student.codam.nl"})]})]}),s.jsx("hr",{className:x}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:c,children:"7. Changes to This Document"}),s.jsx("p",{className:`${d} mb-4`,children:"We may update this document to reflect changes in our practices or legal requirements."}),s.jsx("p",{className:`${d} mb-2`,children:s.jsx("strong",{children:"Version History:"})}),s.jsxs("ul",{className:`${m} space-y-1`,children:[s.jsx("li",{children:"v1.1 - 16-2-2026 - Updated flow regarding exercising rights according to the technical architecture development"}),s.jsx("li",{children:"v1.0 - 16-12-2025 - Initial release"})]})]}),s.jsx("hr",{className:x}),s.jsx("p",{className:S,children:"By using ft_transcendence, you acknowledge your understanding of these rights and how to exercise them."}),e&&t&&s.jsx("div",{className:"mt-8 text-center",children:s.jsx("button",{onClick:t,className:"bg-gradient-to-r from-blue-600 to-blue-500 text-white px-6 py-3 rounded-lg hover:from-blue-500 hover:to-blue-400 transition-all font-medium shadow-lg shadow-blue-500/25",children:"Close"})})]});return l?s.jsx(s.Fragment,{children:z}):e?s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:O=>{O.target===O.currentTarget&&t&&t()},children:s.jsx("div",{className:"w-[95vw] min-w-[40rem] max-w-6xl h-[70vh] min-h-[360px] flex flex-col overflow-hidden rounded-2xl",children:z})}):s.jsx("div",{className:"min-h-screen bg-gray-100 py-12 px-4",children:s.jsx("div",{className:"max-w-4xl mx-auto",children:z})})},Dy=vm(),Nm=({onSwitchToLogin:e,isInPanel:t=!1})=>{const[l,a]=p.useState(""),[n,i]=p.useState(""),[r,c]=p.useState(""),[o,d]=p.useState(!1),[y,x]=p.useState(""),[m,g]=p.useState(""),[v,b]=p.useState(!1),N=async f=>{f.preventDefault(),d(!0),x("");try{console.log("Attempting registration with:",{username:l,email:r}),console.log("API URL:",`${Dy}/api/auth/register`);let u;try{u=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:l,password:n,email:r})})}catch{console.log("Backend container not reachable, trying localhost..."),u=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:l,password:n,email:r})})}console.log("Response status:",u.status);const h=await u.json();console.log("Response data:",h),u.ok?(g("Registration successful! You can now login."),a(""),i(""),c(""),t&&setTimeout(()=>e(),1500)):x(h.error||"Registration failed")}catch(u){console.error("Registration error:",u),x("Network error. Please try again.")}finally{d(!1)}};return t?s.jsxs("div",{className:"space-y-4",children:[m?s.jsxs("div",{className:"text-center py-4",children:[s.jsx("div",{className:"text-green-400 font-semibold mb-2",children:"Registration successful!"}),s.jsx("p",{className:"text-sm text-white/60",children:"Switching to login..."})]}):s.jsxs(s.Fragment,{children:[s.jsxs("form",{onSubmit:N,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-white/70 text-sm font-medium mb-1.5",children:"Username"}),s.jsx("input",{type:"text",placeholder:"Choose a username",value:l,onChange:f=>a(f.target.value),className:"w-full p-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all",required:!0,minLength:3})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-white/70 text-sm font-medium mb-1.5",children:"Email"}),s.jsx("input",{type:"email",placeholder:"Enter your email",value:r,onChange:f=>c(f.target.value),className:"w-full p-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-white/70 text-sm font-medium mb-1.5",children:"Password"}),s.jsx("input",{type:"password",placeholder:"Min 6 characters",value:n,onChange:f=>i(f.target.value),className:"w-full p-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all",required:!0,minLength:6})]}),s.jsx("button",{type:"submit",disabled:o,className:"w-full bg-gradient-to-r from-green-600 to-green-500 text-white p-3 rounded-lg hover:from-green-500 hover:to-green-400 disabled:opacity-50 transition-all font-medium shadow-lg shadow-green-500/25",children:o?"Creating account...":"Register"})]}),y&&s.jsx("div",{className:"bg-red-500/20 border border-red-500/30 text-red-300 px-4 py-3 rounded-lg text-sm",children:y}),s.jsxs("p",{className:"text-center text-sm text-white/60",children:["Already have an account?"," ",s.jsx("button",{onClick:e,className:"text-blue-400 hover:text-blue-300 hover:underline transition-colors",children:"Login here"})]}),s.jsxs("p",{className:"text-center text-xs text-white/40 mt-2",children:["By registering, you agree to our"," ",s.jsx("button",{type:"button",onClick:()=>b(!0),className:"text-blue-400 hover:text-blue-300 hover:underline transition-colors",children:"Privacy Policy"})]})]}),v&&s.jsx(nc,{isModal:!0,onClose:()=>b(!1)})]}):s.jsxs("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:[s.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md w-96",children:[s.jsx("h1",{className:"text-2xl font-bold mb-6 text-center",children:"Register"}),y&&s.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:y}),m&&s.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-4",children:m}),s.jsxs("form",{onSubmit:N,children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Username"}),s.jsx("input",{type:"text",value:l,onChange:f=>a(f.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",required:!0,minLength:3})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),s.jsx("input",{type:"email",value:r,onChange:f=>c(f.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",required:!0})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),s.jsx("input",{type:"password",value:n,onChange:f=>i(f.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",required:!0,minLength:6})]}),s.jsx("button",{type:"submit",disabled:o,className:"w-full bg-green-500 text-white py-2 px-4 rounded-lg hover:bg-green-600 disabled:opacity-50",children:o?"Registering...":"Register"})]}),s.jsx("div",{className:"mt-4 text-center",children:s.jsx("button",{onClick:e,className:"text-blue-500 hover:text-blue-600",children:"Already have an account? Login here"})}),s.jsxs("p",{className:"mt-4 text-center text-sm text-gray-500",children:["By registering, you agree to our"," ",s.jsx("button",{type:"button",onClick:()=>b(!0),className:"text-blue-500 hover:text-blue-600 hover:underline",children:"Privacy Policy"})]})]}),v&&s.jsx(nc,{isModal:!0,onClose:()=>b(!1)})]})},sc=async()=>{try{const e=await ee("/api/users/profile/me");return e.ok?(await e.json()).profile:(e.status===404&&bm(),null)}catch(e){return console.error("Failed to fetch profile:",e),null}},oo=e=>{if(e)return e.includes("/uploads/avatars/")?`/api/avatars/${e.split("/").pop()}`:e.includes("/")?`/api/avatars/${e}`:`/api/avatars/${e}`},Uy=({user:e,currentView:t,setCurrentView:l,onLogin:a,onLogout:n,navigateToUserProfile:i,children:r})=>{const[c,o]=p.useState(!1),[d,y]=p.useState("login"),[x,m]=p.useState(!1),g=p.useRef(null),v=p.useRef(null),b=p.useRef(null),N=p.useRef(null);p.useEffect(()=>{console.log(" MainLayout user changed:",e),console.log(" MainLayout avatar_url:",e==null?void 0:e.avatar_url)},[e]);const f=(u,h)=>{a(u,h),o(!1)};return p.useEffect(()=>{const u=h=>{g.current&&v.current&&!g.current.contains(h.target)&&!v.current.contains(h.target)&&o(!1)};if(c)return document.addEventListener("mousedown",u),()=>{document.removeEventListener("mousedown",u)}},[c]),p.useEffect(()=>{const u=h=>{b.current&&N.current&&!b.current.contains(h.target)&&!N.current.contains(h.target)&&m(!1)};if(x)return document.addEventListener("mousedown",u),()=>{document.removeEventListener("mousedown",u)}},[x]),p.useEffect(()=>{const u=h=>{h.key==="Escape"&&(o(!1),m(!1))};if(c||x)return document.addEventListener("keydown",u),()=>{document.removeEventListener("keydown",u)}},[c,x]),p.useEffect(()=>{let u;return c&&(u=setTimeout(()=>{o(!1)},3e4)),()=>{u&&clearTimeout(u)}},[c]),s.jsxs("div",{className:"h-screen flex flex-col overflow-hidden relative",children:[s.jsx("header",{className:"bg-white/50 backdrop-blur-sm shadow-sm border-b border-white/20 h-16 flex-shrink-0 relative z-40",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 h-full",children:s.jsxs("div",{className:"flex items-center justify-between h-full",children:[s.jsx("div",{className:`px-4 py-2 rounded-md ${t==="home"}`,children:s.jsx("button",{onClick:()=>l("home"),className:`px-4 py-2 rounded-md border-2 transition-colors backdrop-blur-sm ${t==="home"?"bg-gray-900/80 text-white border-gray-900/80":"bg-white/30 text-gray-900 border-gray-900/50 hover:bg-white/40"}`,children:"TRANSCENDENCE"})}),s.jsxs("div",{className:"flex items-center space-x-6",children:[s.jsxs("button",{onClick:()=>l("game"),className:`relative px-6 py-2 rounded-lg font-black uppercase tracking-wider transition-all duration-300 ${t==="game"?"bg-yellow-400 text-black shadow-[0_0_20px_rgba(234,179,8,0.6)]":"bg-yellow-500 text-black hover:bg-yellow-400 hover:shadow-[0_0_15px_rgba(234,179,8,0.5)]"}`,style:{textShadow:t==="game"?"2px 2px 0px rgba(248, 4, 4, 0.34)":"none",transform:t==="game"?"translateY(-2px)":"none"},children:[s.jsx("span",{className:`${t==="game"?"animate-pulse":""}`,children:" GAME"}),t==="game"&&s.jsxs("span",{className:"absolute -top-1 -right-1 flex h-3 w-3",children:[s.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"}),s.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-red-500"})]})]}),s.jsxs("button",{onClick:()=>l("leaderboard"),className:`relative px-6 py-2 rounded-lg font-bold uppercase tracking-wide transition-all duration-300 ${t==="leaderboard"?"bg-gradient-to-r from-yellow-400 via-yellow-500 to-yellow-600 text-gray-900 shadow-[0_0_20px_rgba(251,191,36,0.6)] scale-105":"bg-gradient-to-r from-yellow-500 to-orange-500 text-white hover:shadow-[0_0_15px_rgba(251,191,36,0.5)] hover:scale-105"}`,style:{textShadow:t==="leaderboard"?"1px 1px 2px rgba(0,0,0,0.2)":"none",border:"2px solid rgba(255,255,255,0.3)"},children:[s.jsx("span",{className:"flex items-center gap-2",children:" LEADERBOARD"}),t==="leaderboard"&&s.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center animate-pulse",children:"1"})]})]}),s.jsx("div",{className:"flex items-center space-x-4 relative",children:e?s.jsxs("div",{className:"relative",children:[s.jsx("button",{ref:N,onClick:()=>m(!x),className:"w-20 h-15 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white font-semibold overflow-hidden border-2 border-white/50 hover:border-white transition-all shadow-md hover:shadow-lg cursor-pointer",children:e.avatar_url?s.jsx("img",{src:oo(e.avatar_url),alt:"Avatar",className:"w-full h-full object-cover",onError:u=>{u.currentTarget.style.display="none",u.currentTarget.parentElement.textContent=e.username.charAt(0).toUpperCase()}}):e.username.charAt(0).toUpperCase()}),x&&s.jsxs("div",{ref:b,className:"absolute right-0 mt-2 w-52 bg-white/95 backdrop-blur-lg rounded-lg shadow-xl border border-white/50 z-50 overflow-hidden",children:[s.jsx("div",{className:"px-4 pt-3 pb-2 border-b border-gray-100",children:s.jsxs("p",{className:"text-gray-800 font-medium",children:["Sup, ",e.username,"!"]})}),s.jsxs("div",{className:"py-1",children:[s.jsxs("button",{onClick:()=>{e!=null&&e.is_guest||(l("profile"),m(!1))},title:e!=null&&e.is_guest?"Register to access Profile":void 0,className:`w-full text-left px-4 py-2 transition-colors flex items-center space-x-2 ${e!=null&&e.is_guest?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-blue-50 cursor-pointer"}`,children:[s.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),s.jsx("span",{children:"Profile"})]}),s.jsx("hr",{className:"my-1 border-gray-200"}),s.jsxs("button",{onClick:()=>{e!=null&&e.is_guest||(l("settings"),m(!1))},title:e!=null&&e.is_guest?"Register to access Settings":void 0,className:`w-full text-left px-4 py-2 transition-colors flex items-center space-x-2 ${e!=null&&e.is_guest?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-blue-50 cursor-pointer"}`,children:[s.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),s.jsx("span",{children:"Settings"})]}),s.jsx("hr",{className:"my-1 border-gray-200"}),s.jsxs("button",{onClick:()=>{n(),m(!1)},className:"w-full text-left px-4 py-2 text-red-600 hover:bg-red-50 transition-colors flex items-center space-x-2",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),s.jsx("span",{children:"Logout"})]})]})]})]}):s.jsx("button",{ref:v,onClick:()=>o(!c),className:"px-4 py-2 rounded-md border-2 border-blue-600 bg-blue-600/80 text-white hover:bg-blue-600 backdrop-blur-sm transition-colors",children:c?"Close":"Login / Register"})})]})})}),c&&!e&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-[1px] z-[998]",onClick:()=>o(!1)}),s.jsxs("div",{ref:g,className:"fixed top-20 right-4 bg-white/95 backdrop-blur-lg rounded-xl shadow-2xl border border-white/50 z-[999] w-96 max-w-[calc(100vw-2rem)] max-h-[calc(100vh-6rem)] overflow-hidden",children:[s.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-white/30 bg-white/80 rounded-t-xl",children:[s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>y("login"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${d==="login"?"bg-blue-500 text-white shadow-md":"bg-white/60 text-gray-700 hover:bg-white/80"}`,children:"Login"}),s.jsx("button",{onClick:()=>y("register"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${d==="register"?"bg-blue-500 text-white shadow-md":"bg-white/60 text-gray-700 hover:bg-white/80"}`,children:"Register"})]}),s.jsx("div",{className:"flex items-center space-x-2",children:s.jsx("button",{onClick:()=>o(!1),className:"text-gray-400 hover:text-gray-600 text-sm bg-white/60 hover:bg-white/80 w-8 h-8 flex items-center justify-center rounded-full transition-all",title:"Close (ESC)",children:""})})]}),s.jsx("div",{className:"p-6 overflow-y-auto max-h-[60vh]",children:d==="login"?s.jsx(jm,{onLoginSuccess:f,onSwitchToRegister:()=>y("register"),isInPanel:!0}):s.jsx(Nm,{onSwitchToLogin:()=>y("login"),isInPanel:!0})}),s.jsx("div",{className:"px-4 py-2 border-t border-white/30 bg-white/60 rounded-b-xl",children:s.jsx("p",{className:"text-xs text-gray-500 text-center",children:"Press ESC or click outside to close  Auto-closes in 30s"})})]})]}),s.jsxs("main",{className:"flex-1 flex min-h-0 overflow-hidden",children:[s.jsx("div",{className:"flex-1 p-4 border-r border-white/20 overflow-hidden",children:s.jsx("div",{className:"bg-white/50 backdrop-blur-sm rounded-lg shadow-sm border border-white/20 h-full overflow-hidden",children:s.jsx("div",{className:"h-full overflow-y-auto",children:r})})}),s.jsxs("div",{className:"w-80 bg-white/50 backdrop-blur-sm border-l border-white/20 flex flex-col overflow-hidden",children:[s.jsx("div",{className:"p-4 border-b border-white/20 bg-white/30 backdrop-blur-sm flex-shrink-0",children:s.jsx("h3",{className:"font-semibold text-gray-900",children:"Chat"})}),s.jsx("div",{className:"flex-1 min-h-0 overflow-hidden",children:e?s.jsx(_y,{user:e,navigateToUserProfile:i}):s.jsx("div",{className:"h-full flex flex-col items-center justify-center text-gray-900 p-4",children:s.jsx("p",{className:"text-center mb-2",children:"Login to join the chat"})})})]})]}),s.jsx("footer",{className:"bg-gray-900/80 backdrop-blur-sm text-white h-6 flex items-center px-4 flex-shrink-0 border-t border-white/10 z-30",children:s.jsxs("div",{className:"text-xs",children:["Status: ",e?`Connected as ${e.username}`:"Browsing as guest"," | Current Page: ",t.charAt(0).toUpperCase()+t.slice(1),c&&" | Auth panel open"]})})]})},Fl=["#00FFFF","#FF00FF","#00FF00","#FF6B6B","#9D4EDD","#FFE66D"],ky=()=>{const e=p.useRef(null),t=p.useRef([]),l=p.useRef([]),a=p.useRef(),n=12,i=130,r=p.useCallback((y,x)=>{const m=[],g=[];for(let v=0;v<x;v++){m[v]=[],g[v]=[];for(let b=0;b<y;b++)m[v][b]=Math.random()>.75?1:0,g[v][b]=Fl[Math.floor(Math.random()*Fl.length)]}t.current=m,l.current=g},[]),c=p.useCallback((y,x,m,g,v)=>{let b=0;for(let N=-1;N<=1;N++)for(let f=-1;f<=1;f++){if(N===0&&f===0)continue;const u=(m+N+g)%g,h=(x+f+v)%v;b+=y[u][h]}return b},[]),o=p.useCallback(()=>{const y=t.current,x=l.current;if(!y.length)return;const m=y.length,g=y[0].length,v=[],b=[];for(let N=0;N<m;N++){v[N]=[],b[N]=[];for(let f=0;f<g;f++){const u=c(y,f,N,m,g),h=y[N][f];h&&(u===2||u===3)?(v[N][f]=1,b[N][f]=x[N][f]):!h&&u===3?(v[N][f]=1,b[N][f]=Fl[Math.floor(Math.random()*Fl.length)]):(v[N][f]=0,b[N][f]=x[N][f])}}if(Math.random()>.45){const N=Math.floor(Math.random()*m),f=Math.floor(Math.random()*g);for(let u=0;u<Math.min(3,m);u++)for(let h=0;h<Math.min(3,g);h++){const j=(N+u)%m,E=(f+h)%g;v[j][E]=1,b[j][E]=Fl[Math.floor(Math.random()*Fl.length)]}}t.current=v,l.current=b},[c]),d=p.useCallback(y=>{const x=t.current,m=l.current;if(!x.length)return;y.fillStyle="rgba(0, 0, 0, 0.18)",y.fillRect(0,0,y.canvas.width,y.canvas.height);const g=x.length,v=x[0].length;for(let b=0;b<g;b++)for(let N=0;N<v;N++)x[b][N]&&(y.beginPath(),y.fillStyle=m[b][N],y.shadowColor=m[b][N],y.shadowBlur=8,y.arc(N*n+n/2,b*n+n/2,n/3,0,Math.PI*2),y.fill(),y.shadowBlur=0)},[]);return p.useEffect(()=>{const y=e.current;if(!y)return;const x=y.getContext("2d");if(!x)return;const m=()=>{y.width=y.offsetWidth,y.height=y.offsetHeight;const b=Math.ceil(y.width/n),N=Math.ceil(y.height/n);r(b,N)};m(),window.addEventListener("resize",m);let g=0;const v=b=>{b-g>i&&(o(),g=b),d(x),a.current=requestAnimationFrame(v)};return a.current=requestAnimationFrame(v),()=>{window.removeEventListener("resize",m),a.current&&cancelAnimationFrame(a.current)}},[r,o,d]),s.jsx("canvas",{ref:e,className:"absolute inset-0 w-full h-full opacity-80"})},ar=({items:e,direction:t="left",speed:l=25})=>{const a=t==="left"?"animate-marquee-left":"animate-marquee-right",n=[...e,...e,...e,...e];return s.jsx("div",{className:"w-full overflow-hidden",children:s.jsx("div",{className:`flex w-max ${a}`,style:{animationDuration:`${l}s`},children:n.map((i,r)=>s.jsx("div",{className:"flex-shrink-0 px-6 py-3 mx-2 bg-black/40 backdrop-blur-xl border border-white/10 rounded-lg text-white/90 font-medium whitespace-nowrap",children:i},r))})})},nr=["#00FFFF","#FF00FF","#00FF00","#FF6B6B","#9D4EDD","#FFE66D"],Ly=({children:e})=>{const[t,l]=p.useState(0);p.useEffect(()=>{const r=setInterval(()=>{l(c=>(c+1)%nr.length)},2e3);return()=>clearInterval(r)},[]);const a=["Local Play","Tournament Mode","Online Functionalities","Leaderboards","AI Opponents"],n=["Customizable Avatars","Match History","Friend System","2FA Security","GDPR Compliance"],i=["Classic Pong","Pls pass us","Fast Matches","Chat","Anonymous Mode"];return s.jsxs("div",{className:"min-h-screen w-full relative overflow-hidden",children:[s.jsx("div",{className:"fixed inset-0 z-0",children:s.jsx(ky,{})}),s.jsx("div",{className:"fixed inset-0 z-[1] bg-black/40"}),s.jsx("div",{className:"fixed top-6 left-6 z-50",children:s.jsx("img",{src:"/ping-pong-icon.png",alt:"Pong Logo",className:"h-16 w-auto object-contain transition-[filter] duration-700",style:{filter:`brightness(0) invert(1) drop-shadow(0 0 12px ${nr[t]}) drop-shadow(0 0 4px ${nr[t]})`}})}),s.jsx("div",{className:"relative z-30 min-h-screen flex flex-col items-center pt-20 px-4",children:s.jsxs("div",{className:"w-full max-w-md bg-black/30 backdrop-blur-xl border border-white/10 rounded-2xl p-8 shadow-2xl",children:[s.jsxs("div",{className:"mb-6 text-center",children:[s.jsx("h1",{className:"text-2xl font-bold text-white",children:"Transcendence"}),s.jsx("p",{className:"text-white/50 mt-1 text-sm",children:"A homage to the pioneer of games."})]}),e]})}),s.jsxs("div",{className:"fixed bottom-12 left-0 right-0 z-20 flex flex-col gap-3",children:[s.jsx(ar,{items:a,direction:"left",speed:30}),s.jsx(ar,{items:n,direction:"right",speed:35}),s.jsx(ar,{items:i,direction:"left",speed:28})]}),s.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-30 px-8 py-2",children:s.jsxs("div",{className:"flex items-center justify-center gap-2 text-white/80 text-xs",children:[s.jsx("span",{children:"Made at"}),s.jsx("img",{src:"/logo_codam_white.png",alt:"Codam Logo",className:"h-4 w-auto object-contain invert-0 opacity-70"})]})})]})},By=({username:e})=>{const[t,l]=p.useState(null),[a,n]=p.useState(!0);p.useEffect(()=>{e&&i()},[e]);const i=async()=>{n(!0);try{const o=await ee(`/api/users/profile/${e}`);if(o.ok){const d=await o.json();l(d.profile)}else o.status===404&&alert("User not found")}catch(o){console.error("Failed to fetch profile:",o)}finally{n(!1)}},r=o=>{if(o)return o.includes("/uploads/avatars/")?`/api/avatars/${o.split("/").pop()}`:o.includes("/")?`/api/avatars/${o}`:`/api/avatars/${o}`};if(a)return s.jsxs("div",{className:"p-6 text-center",children:[s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"bg-gray-200 h-8 w-48 mx-auto mb-4 rounded"}),s.jsx("div",{className:"bg-gray-200 h-20 w-20 mx-auto mb-4 rounded-full"})]}),s.jsx("p",{className:"text-gray-500 mt-4",children:"Loading profile..."})]});if(!t)return s.jsx("div",{className:"p-6 text-center",children:s.jsx("p",{className:"text-gray-500",children:"Profile not found"})});if(t.is_anonymous)return s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"bg-yellow-50 border-2 border-yellow-200 rounded-lg p-8 mb-6",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[s.jsx("div",{className:"w-16 h-16 bg-gray-400 rounded-full flex items-center justify-center",children:s.jsx("svg",{className:"w-8 h-8 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-yellow-900",children:"Anonymous User"}),s.jsx("p",{className:"text-yellow-700",children:"This user has chosen to keep their profile private"})]})]}),t.anonymized_at&&s.jsxs("p",{className:"text-sm text-yellow-600 mt-2",children:["Anonymized on: ",new Date(t.anonymized_at).toLocaleDateString()]})]}),s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow border border-gray-200",children:[s.jsx("h3",{className:"text-xl font-semibold mb-4 text-gray-900",children:"Game Statistics"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-green-50 p-4 rounded-lg text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-green-600",children:t.wins||0}),s.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Wins"})]}),s.jsxs("div",{className:"bg-red-50 p-4 rounded-lg text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-red-600",children:t.losses||0}),s.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Losses"})]}),s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-blue-600",children:t.total_games||0}),s.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Total Games"})]}),s.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-purple-600",children:t.winRate||"0%"}),s.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Win Rate"})]})]})]})]});const c=r(t.avatar_url);return s.jsxs("div",{className:"p-6",children:[s.jsx("div",{className:"flex justify-between items-center mb-6",children:s.jsxs("h1",{className:"text-3xl font-bold text-gray-900",children:[t.username,"'s Profile"]})}),s.jsx("div",{className:"bg-gray-50 rounded-lg p-6 mb-6",children:s.jsxs("div",{className:"flex items-start space-x-6",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-20 h-20 bg-blue-500 rounded-full flex items-center justify-center overflow-hidden",children:t.avatar_url?s.jsx("img",{src:c||void 0,alt:"Avatar",className:"w-full h-full object-cover"}):s.jsx("span",{className:"text-2xl font-bold text-white",children:t.username.charAt(0).toUpperCase()})})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:t.display_name||t.username}),t.nickname&&s.jsxs("p",{className:"text-lg text-gray-600",children:["@",t.nickname]}),s.jsxs("p",{className:"text-gray-500",children:["Username: ",t.username]})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow border border-gray-200",children:[s.jsx("h3",{className:"text-xl font-semibold mb-4 text-gray-900",children:"Game Statistics"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded",children:[s.jsx("span",{className:"font-medium text-green-700",children:"Wins"}),s.jsx("span",{className:"text-2xl font-bold text-green-600",children:t.wins||0})]}),s.jsxs("div",{className:"flex justify-between items-center p-3 bg-red-50 rounded",children:[s.jsx("span",{className:"font-medium text-red-700",children:"Losses"}),s.jsx("span",{className:"text-2xl font-bold text-red-600",children:t.losses||0})]}),s.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded",children:[s.jsx("span",{className:"font-medium text-blue-700",children:"Total Games"}),s.jsx("span",{className:"text-2xl font-bold text-blue-600",children:t.total_games||0})]}),s.jsxs("div",{className:"flex justify-between items-center p-3 bg-purple-50 rounded",children:[s.jsx("span",{className:"font-medium text-purple-700",children:"Win Rate"}),s.jsx("span",{className:"text-2xl font-bold text-purple-600",children:t.winRate||"0%"})]})]})]}),s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow border border-gray-200",children:[s.jsx("h3",{className:"text-xl font-semibold mb-4 text-gray-900",children:"User Information"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"border-b pb-2",children:[s.jsx("span",{className:"text-sm text-gray-500",children:"Username"}),s.jsx("p",{className:"font-medium",children:t.username})]}),t.nickname&&s.jsxs("div",{className:"border-b pb-2",children:[s.jsx("span",{className:"text-sm text-gray-500",children:"Nickname"}),s.jsxs("p",{className:"font-medium",children:["@",t.nickname]})]}),t.display_name&&s.jsxs("div",{className:"border-b pb-2",children:[s.jsx("span",{className:"text-sm text-gray-500",children:"Display Name"}),s.jsx("p",{className:"font-medium",children:t.display_name})]})]})]})]})]})},Hy=({user:e})=>s.jsxs("div",{className:"p-6",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Welcome to ft_transcendence"}),e?s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:s.jsxs("p",{className:"text-blue-800",children:["Hello, ",s.jsx("strong",{children:e.username}),"! Welcome back."]})}):s.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4 mb-6",children:s.jsx("p",{className:"text-gray-700",children:"Welcome! You're browsing as a guest. Login or register to access all features."})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow border border-gray-200",children:[s.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Play Game"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Start a new Pong game with other players."}),s.jsx("button",{className:`px-4 py-2 rounded ${e?"bg-blue-500 text-white hover:bg-blue-600":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,disabled:!e,children:e?"Play Now":"Login to Play"})]}),s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow border border-gray-200",children:[s.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Leaderboard"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Check rankings of all players."}),s.jsx("button",{className:"bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600",children:"View Rankings"})]}),s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow border border-gray-200",children:[s.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Tournaments"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Browse competitive tournaments."}),s.jsx("button",{className:"bg-purple-500 text-white px-4 py-2 rounded hover:bg-purple-600",children:"Browse Tournaments"})]})]})]});class Yy{constructor(t,l,a,n,i,r,c,o,d){this.trailLen=9,this.x=t,this.y=l,this.dirVector=a,this.radius=n,this.movementSpeed=i,this.color=r,this.speedX=c,this.maxSpeed=o,this.trailPos=new Array(this.trailLen),this.trailColors=d}drawTrail(t){const l=this.trailLen/this.trailColors.length;let a=0,n=0;for(;n<this.trailLen;){const i=this.trailPos[n];i!==void 0&&(this.drawHelper(t,this.trailColors[a],i.x+this.radius,i.y+this.radius,this.radius*(n/this.trailLen)),n%l-1===0&&a++),n++}}appendPos(t){this.trailPos.shift(),this.trailPos[this.trailLen-1]=t}drawHelper(t,l,a,n,i){t.fillStyle=l,t.beginPath(),t.arc(a,n,i,0,Math.PI*2,!0),t.closePath(),t.fill()}draw(t){this.drawTrail(t),this.drawHelper(t,this.color,this.x+this.radius,this.y+this.radius,this.radius)}drawHitbox(t,l){mn(t),t.strokeStyle=l,t.strokeRect(this.x,this.y,this.radius*2,this.radius*2)}setStart(t){this.x=St/2-this.radius,this.y=yt/2-this.radius,this.dirVector=t}reset(){this.trailPos=new Array(this.trailLen)}}class Gy{constructor(t,l,a,n,i,r){this.upPressed=!1,this.downPressed=!1,this.x=t,this.y=l,this.width=a,this.height=n,this.yVector=i,this.color=r}moveUp(){let t=this.y-this.yVector;t<0&&(t=0),this.y=t}moveDown(){let t=this.y+this.yVector;t+this.height>yt&&(t=yt-this.height),this.y=t}update(){this.downPressed&&this.moveDown(),this.upPressed&&this.moveUp()}draw(t){t.fillStyle=this.color,t.fillRect(this.x,this.y,this.width,this.height)}}var Wu;(e=>{(t=>{t[t.Top=0]="Top",t[t.Bottom=1]="Bottom",t[t.Left=2]="Left",t[t.Right=3]="Right",t[t.None=4]="None"})(e.hitSide||(e.hitSide={}))})(Wu||(Wu={}));var Sm=(e=>(e[e.Easy=0]="Easy",e[e.Normal=1]="Normal",e[e.Hard=2]="Hard",e))(Sm||{});function qy(e,t){let l=null;return l=ul(e,t,{x:St-Ue,y:-Ue},{x:St-Ue,y:yt+Ue},"right"),l!==null||(l=ul(e,t,{x:Ue,y:-Ue},{x:Ue,y:yt+Ue},"left"),l!==null)||(l=ul(e,t,{x:0,y:Ue},{x:St,y:Ue},"top"),l!==null)||(l=ul(e,t,{x:0,y:yt-Ue},{x:St,y:yt-Ue},"bottom")),l}class Xy{constructor(t,l){switch(this.msSinceLastAction=0,this.centreY=0,this.targetY=0,this.lastBallXDir=1,this.lastBallY=0,this.rayPoints=new Array,this.maxRayDistance=Math.sqrt(Math.pow(St,2)+Math.pow(yt,2)),this.maxRayIters=10,this.centreY=yt/2-t.height/2,this.difficultyLevel=l,this.difficultyLevel){case 0:this.levelModifier=.2;break;case 1:this.levelModifier=.6;break;case 2:this.levelModifier=.8;break}}moveTo(t,l){if(this.coversCentreTargetY(t,l))return;t-(l.y+l.height/2)<0?l.moveUp():l.moveDown()}coversCentreTargetY(t,l){const a=l.height*.3333333333333333;return t>l.y+a&&t<l.y+a*2}moveToTargetPoint(t){this.moveTo(this.targetY,t)}getTargetPoint(t,l){let a=null,n=new Xe(t.x+t.radius,t.y+t.radius),i=new Am(t.dirVector.x,t.dirVector.y),r=new Xe(n.x,n.y),c=0;for(this.rayPoints=[],this.rayPoints.push(n);c<this.maxRayIters&&a===null;){const x=Math.atan2(i.y,i.x);r.x+=Math.cos(x)*this.maxRayDistance,r.y+=Math.sin(x)*this.maxRayDistance,this.rayPoints.push(r);const m=qy(n,r);if(m===null)return null;switch(m[1]){case"bottom":case"top":i.y=-i.y;break;case"left":i.x=-i.x;break;case"right":a=m[0];break}n=m[0],this.rayPoints.push(n),r={x:n.x,y:n.y},c++}if(a===null)return null;if(!(Math.random()>this.levelModifier))return a.y;const d=Math.random()>.5,y=Math.random()*(l.height*2);return d?a.y-y:a.y+y}update(t,l,a){if(this.moveToTargetPoint(a),this.msSinceLastAction+=t,this.msSinceLastAction<1e3)return;this.lastBallXDir=l.dirVector.x,this.lastBallY=l.y,this.msSinceLastAction=0;const n=this.getTargetPoint(l,a);n===null?this.targetY=l.y+l.radius:this.targetY=n}drawRays(t){t.fillStyle="black";let l=0;if(this.rayPoints.length!==0){for(t.moveTo(this.rayPoints[0].x,this.rayPoints[0].y),l++;l<this.rayPoints.length;){const a=this.rayPoints[l];t.lineTo(a.x,a.y),l++}t.stroke()}}}class wm{constructor(t,l,a,n,i,r){this.roundScore=0,this.gameScore=0,this.paddle=new Gy(t,l,a,n,i,r),this.humanControlled=!0,this.ai=void 0}setAI(t){this.humanControlled=!1,this.ai=new Xy(this.paddle,t)}}class Qy{constructor(t,l){this.gameOfflineUpdate=t,this.gameOnlineUpdate=l}reset(){this.gameOfflineUpdate!==void 0&&clearInterval(this.gameOfflineUpdate),this.gameOnlineUpdate!==void 0&&clearInterval(this.gameOnlineUpdate)}}const St=1024,yt=768,Pu=3,Ue=15,pa=Ue*2,Vy=60,Zy=3e3,bt=1e3/Vy,Jy=.25,Ky=.5,Em=Jy*bt,Tm=Ky*bt,ie=new Yy(0,0,{x:1,y:1},Ue,Em,"#160f29",0,7.5,new Array("#ffffff","#cdc3e9","#9c88d3")),V=new wm(0,0,pa,pa*4,Tm,"#5885a2"),P=new wm(St-pa,0,pa,pa*4,Tm,"#b8383b"),uo=new Qy,Iu="#36454f";function Fy(){ie.x=0,ie.y=0,ie.dirVector.x=1,ie.dirVector.y=1,ie.radius=Ue,ie.movementSpeed=Em,ie.color="#160f29",ie.speedX=0,ie.maxSpeed=7.5,ie.reset()}function $y(){V.paddle.x=0,V.paddle.y=0,V.roundScore=0,V.gameScore=0,V.ai=void 0,V.humanControlled=!0}function Wy(){P.paddle.x=St-pa,P.paddle.y=0,P.roundScore=0,P.gameScore=0,P.ai=void 0,P.humanControlled=!0}function Py(){Fy(),$y(),Wy(),uo.reset()}class Am{constructor(t,l){this.x=t,this.y=l}}class Xe{constructor(t,l){this.x=t,this.y=l}}function mn(e){if(e===null)throw new Error("val cannot be null")}function ul(e,t,l,a,n){const i=(t.x-e.x)*(a.y-l.y)-(t.y-e.y)*(a.x-l.x);if(i===0)return null;const r=((e.y-l.y)*(a.x-l.x)-(e.x-l.x)*(a.y-l.y))/i,c=((e.y-l.y)*(t.x-e.x)-(e.x-l.x)*(t.y-e.y))/i;if(r>=0&&r<=1&&c>=0&&c<=1){const o=e.x+r*(t.x-e.x),d=e.y+r*(t.y-e.y);return[new Xe(o,d),n]}return null}function Iy(e,t,l,a){let n=null;return a.dirVector.x<0?n=ul(e,t,new Xe(l.x+l.width+a.radius,l.y-a.radius),new Xe(l.x+l.width+a.radius,l.y+l.height+a.radius),"right"):a.dirVector.x>0&&(n=ul(e,t,new Xe(l.x-a.radius,l.y-a.radius),new Xe(l.x-a.radius,l.y+l.height+a.radius),"left")),n===null&&(a.dirVector.y<0?n=ul(e,t,new Xe(l.x-a.radius,l.y+l.height+a.radius),new Xe(l.x+l.width+a.radius,l.y+l.height+a.radius),"bottom"):a.dirVector.y>0&&(n=ul(e,t,new Xe(l.x-a.radius,l.y-a.radius),new Xe(l.x+l.width+a.radius,l.y+l.width-a.radius),"top"))),n}function ep(e){return e.y+e.dirVector.y*e.movementSpeed>yt-e.radius*2||e.y+e.dirVector.y*e.movementSpeed<0}function tp(e){ep(e)&&(e.dirVector.y=-e.dirVector.y)}function lp(e,t,l,a,n,i,r){let c=0;for(const o of r)e.fillStyle=n,e.font=`${t}px ${i}`,e.fillText(o,l,a+c*t*1.1),c++;e.fillStyle=n}function Cm(e,t,l,a,n,i,r){t.font=`${l}px ${n}`,t.textAlign="center",t.fillStyle=a,t.fillText(r.toString(),e.width*.25,e.height*.1),t.fillText(i.toString(),e.width*.75,e.height*.1)}async function ap(e,t,l,a,n){const i=15.151515151515152;let r=0,c=0,o=0;function d(D){switch(D.key){case"ArrowDown":V.paddle.downPressed=!0;break;case"ArrowUp":V.paddle.upPressed=!0;break;case"s":V.paddle.downPressed=!0;break;case"w":V.paddle.upPressed=!0;break}D.preventDefault()}function y(D){switch(D.key){case"ArrowDown":V.paddle.downPressed=!1;break;case"ArrowUp":V.paddle.upPressed=!1;break;case"s":V.paddle.downPressed=!1;break;case"w":V.paddle.upPressed=!1;break}D.preventDefault()}function x(){const D=+new Date;if(V.paddle.downPressed){const k={type:"MOVE_DOWN",timestamp:D};V.paddle.moveDown(),n.send(JSON.stringify(k)),S.push(k)}if(V.paddle.upPressed){const k={type:"MOVE_UP",timestamp:D};V.paddle.moveUp(),n.send(JSON.stringify(k)),S.push(k)}}class m{constructor(k,W){this.x=k,this.y=W}}function g(D,k){return new m(D.x-k.x,D.y-k.y)}function v(D){if(E===void 0)return;const k=bt*(1+N/1e3);D.appendPos(new m(D.x,D.y)),D.x+=E.x*k,D.y+=E.y*k}function b(){if(_===void 0)return;const D=bt*(1+N/1e3);P.paddle.y+=_.y*D}let N,f,u;function h(){f=performance.now(),u===void 0&&(u=f),N=f-u,N>bt&&(x(),b(),u=f-N%bt,v(ie));const D=Date.now();(r===0||D-r>Zy)&&(n.send(JSON.stringify({type:"HEARTBEAT",timestamp:D})),r=D)}function j(){requestAnimationFrame(j),t.clearRect(0,0,e.width,e.height),a.clearRect(0,0,e.width,e.height),a.fillStyle="white",a.fillRect(0,0,e.width,e.height),ie.draw(a),V.paddle.draw(a),P.paddle.draw(a),Cm(e,a,48,"#36454f","sans-serif",o,c),t.drawImage(l,0,0)}let E,_,S=new Array;function C(D){let k=0;if(S.length!==0){for(;k<S.length;){const W=S[k];if(W.timestamp>=D)break;W.type==="MOVE_UP"?V.paddle.moveUp():W.type==="MOVE_DOWN"&&V.paddle.moveDown(),k++}S.splice(0,k)}}let z=0,O=!1,H=0;async function R(D){const k=JSON.parse(D.data);console.log(" WebSocket message received:",k.type,k);const W=k.p1,T=k.p2,U=k.ball;switch(k.type){case"STATE":E=g(new m(U.x,U.y),new m(ie.x,ie.y)),E.x/=i,E.y/=i,O&&H++,H===2&&(E.x=0,E.y=0,ie.x=U.x,ie.y=U.y,H=0,O=!1),z===1?(_=g(new m(T.x,T.y),new m(P.paddle.x,P.paddle.y)),V.paddle.x=W.x,V.paddle.y=W.y,C(W.last_ts)):(_=g(new m(W.x,W.y),new m(P.paddle.x,P.paddle.y)),V.paddle.x=T.x,V.paddle.y=T.y,C(T.last_ts)),_.y/=i;break;case"LOBBY_WAIT":console.log("Waiting for other players to connect...");break;case"ID":if(z=k.player_id,z===2){const L=V.paddle.color;V.paddle.x=e.width-V.paddle.width,V.paddle.y=0,V.paddle.color=P.paddle.color,P.paddle.x=0,P.paddle.y=0,P.paddle.color=L}console.log(`You are player ${z}`);break;case"SCORE":switch(O=!0,k.scored_by){case"p1":c++;break;case"p2":o++;break}break;case"OPPONENT_DISCONNECT":alert("Your opponent disconnected, giving you a default win");break;default:console.log(`Unrecognized message type: ${k.type}`)}}n.onmessage=R,e.addEventListener("keydown",d),e.addEventListener("keyup",y),ie.x=e.width/2,ie.y=e.height/2,requestAnimationFrame(j),uo.gameOnlineUpdate=setInterval(h,bt)}async function np(e,t,l,a,n){let i,r,c,o=!1;function d(h){switch(h.key){case"ArrowDown":V.paddle.downPressed=!0;break;case"ArrowUp":V.paddle.upPressed=!0;break;case"s":P.paddle.downPressed=!0;break;case"w":P.paddle.upPressed=!0;break;case" ":if(u.state!==1)break;o=!0;break}h.preventDefault()}function y(h){switch(h.key){case"ArrowDown":V.paddle.downPressed=!1;break;case"ArrowUp":V.paddle.upPressed=!1;break;case"s":P.paddle.downPressed=!1;break;case"w":P.paddle.upPressed=!1;break;case" ":if(u.state!==1)break;o=!1}h.preventDefault()}function x(h,j,E){const _=new Xe(h.x+h.radius,h.y+h.radius),S=new Xe(_.x+h.dirVector.x*h.movementSpeed,_.y+h.dirVector.y*h.movementSpeed);h.appendPos(new Xe(h.x,h.y)),h.x=S.x-h.radius,h.y=S.y-h.radius;let C=null;if(h.dirVector.x<0?C=j:h.dirVector.x>0&&(C=E),C===null)return;const z=Iy(_,S,C,h);if(z===null){tp(h);return}const O=z[0];switch(z[1]){case"left":case"right":h.dirVector.x*=-1,h.x=O.x-h.radius;break;case"bottom":case"top":h.dirVector.y*=-1,h.y=O.y-h.radius;break}}function m(){return ie.x+ie.radius*4<0}function g(){return ie.x-ie.radius*4>St}function v(){return new Am(Math.random()<.5?-1:1,Math.random()<.5?-1:1)}let b;(h=>{h[h.Start=0]="Start",h[h.RoundEnd=1]="RoundEnd",h[h.GameEnd=2]="GameEnd",h[h.ActiveRound=3]="ActiveRound"})(b||(b={}));function N(){if(c=performance.now(),r===void 0&&(r=c),i=c-r,i>bt){if(r=c-i%bt,u.state===1)if(o)u.state=3,V.roundScore=0,P.roundScore=0,ie.movementSpeed=5,o=!1;else return;x(ie,V.paddle,P.paddle),V.paddle.update(),P.humanControlled?P.paddle.update():(mn(P.ai),P.ai.update(i,ie,P.paddle)),m()&&(V.roundScore++,u.state=1),g()&&(P.roundScore++,u.state=1),u.state===1&&(ie.setStart(v()),u.state=3),(V.roundScore===Pu||P.roundScore===Pu)&&(u.state=1)}}function f(){requestAnimationFrame(f),l.clearRect(0,0,t.width,t.height),n.clearRect(0,0,t.width,t.height),n.fillStyle="white",n.fillRect(0,0,t.width,t.height),ie.draw(n),V.paddle.draw(n),P.paddle.draw(n),Cm(t,n,48,Iu,"sans-serif",V.roundScore,P.roundScore),u.state===1&&(n.textAlign="center",lp(n,48,St/2,yt*.8,Iu,"sans-serif",Array("Press spacebar to continue..."))),l.drawImage(a,0,0)}t.addEventListener("keydown",d),t.addEventListener("keyup",y),e==="singleplayer"&&P.setAI(Sm.Normal);const u={state:0};ie.setStart(v()),requestAnimationFrame(f),uo.gameOfflineUpdate=setInterval(N,bt)}async function sp(e,t){let l=document.getElementById("game-canvas");if(l===null){console.error("Canvas element not found! GameCanvas component must render first.");return}const a=l.getContext("2d",{alpha:!1});mn(a);const n=document.createElement("canvas");mn(n),l.setAttribute("tabindex","0"),l.setAttribute("width","1024"),l.setAttribute("height","768"),n.width=l.width,n.height=l.height;const i=n.getContext("2d",{alpha:!1});switch(mn(i),console.log(`GAMING MODE: ${e}`),e){case"singleplayer":case"multiplayer":await np(e,l,a,n,i);break;case"online":await ap(l,a,n,i,t)}}function ip({mode:e,websocket:t}){return p.useEffect(()=>{async function l(){await sp(e,t.current)}return l(),()=>{const a=document.getElementById("game-canvas");a!==null&&a.remove(),Py()}},[]),s.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-900",children:s.jsx("canvas",{id:"game-canvas",className:"border-4 border-indigo-500 bg-white"})})}function rp({onModeSelect:e}){return s.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-black p-4",style:{backgroundImage:"linear-gradient(45deg, #1a1a2e 25%, transparent 25%, transparent 75%, #1a1a2e 75%, #1a1a2e), linear-gradient(45deg, #1a1a2e 25%, transparent 25%, transparent 75%, #1a1a2e 75%, #1a1a2e)",backgroundSize:"40px 40px",backgroundPosition:"0 0, 20px 20px"},children:[s.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{backgroundImage:"repeating-linear-gradient(0deg, rgba(0,0,0,0.15) 0px, rgba(0,0,0,0.15) 1px, transparent 1px, transparent 2px)"}}),s.jsxs("div",{className:"relative z-10 text-center max-w-2xl",children:[s.jsx("h1",{className:"text-7xl font-black mb-2 text-center",style:{color:"#00ff00",textShadow:"0 0 10px #00ff00, 0 0 20px #00ff00, 3px 3px 0 #ff00ff",fontFamily:"monospace",letterSpacing:"4px"},children:"PONG"}),s.jsxs("div",{className:"border-4 border-yellow-300 p-8 mb-8 bg-gray-900",style:{boxShadow:"inset 0 0 10px rgba(255,255,0,0.3), 0 0 20px rgba(255,0,255,0.5)"},children:[s.jsx("p",{className:"text-yellow-300 text-2xl mb-4 font-bold",style:{textShadow:"2px 2px 0 #ff00ff",fontFamily:"monospace",letterSpacing:"2px"},children:"SELECT YOUR GAME MODE"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("button",{onClick:()=>e("singleplayer"),className:"group relative p-6 bg-blue-900 hover:bg-blue-700 border-4 border-cyan-400 transition-all duration-200 transform hover:scale-110 active:scale-95",style:{boxShadow:"inset 0 0 10px rgba(0,255,255,0.3), 0 0 20px rgba(0,255,255,0.5)",textShadow:"2px 2px 0 #000"},children:[s.jsx("div",{className:"text-5xl mb-3",children:""}),s.jsx("h2",{className:"text-2xl font-black text-cyan-300 mb-2 uppercase",style:{fontFamily:"monospace"},children:"Single"}),s.jsx("p",{className:"text-cyan-200 text-sm font-bold uppercase",style:{fontFamily:"monospace"},children:"vs AI"}),s.jsx("div",{className:"absolute top-0 left-0 w-2 h-2 bg-cyan-400",style:{boxShadow:"0 0 10px #00ffff"}}),s.jsx("div",{className:"absolute bottom-0 right-0 w-2 h-2 bg-cyan-400",style:{boxShadow:"0 0 10px #00ffff"}})]}),s.jsxs("button",{onClick:()=>e("multiplayer"),className:"group relative p-6 bg-red-900 hover:bg-red-700 border-4 border-red-400 transition-all duration-200 transform hover:scale-110 active:scale-95",style:{boxShadow:"inset 0 0 10px rgba(255,0,0,0.3), 0 0 20px rgba(255,0,0,0.5)",textShadow:"2px 2px 0 #000"},children:[s.jsx("div",{className:"text-5xl mb-3",children:""}),s.jsx("h2",{className:"text-2xl font-black text-red-300 mb-2 uppercase",style:{fontFamily:"monospace"},children:"Multi"}),s.jsx("p",{className:"text-red-200 text-sm font-bold uppercase",style:{fontFamily:"monospace"},children:"2 Players"}),s.jsx("div",{className:"absolute top-0 left-0 w-2 h-2 bg-red-400",style:{boxShadow:"0 0 10px #ff0000"}}),s.jsx("div",{className:"absolute bottom-0 right-0 w-2 h-2 bg-red-400",style:{boxShadow:"0 0 10px #ff0000"}})]}),s.jsxs("button",{onClick:()=>e("tournament"),className:"group relative p-6 bg-yellow-900 hover:bg-yellow-700 border-4 border-yellow-300 transition-all duration-200 transform hover:scale-110 active:scale-95",style:{boxShadow:"inset 0 0 10px rgba(255,255,0,0.3), 0 0 20px rgba(255,255,0,0.5)",textShadow:"2px 2px 0 #000"},children:[s.jsx("div",{className:"text-5xl mb-3",children:""}),s.jsx("h2",{className:"text-2xl font-black text-yellow-300 mb-2 uppercase",style:{fontFamily:"monospace"},children:"Tourney"}),s.jsx("p",{className:"text-yellow-200 text-sm font-bold uppercase",style:{fontFamily:"monospace"},children:"Online"}),s.jsx("div",{className:"absolute top-0 left-0 w-2 h-2 bg-yellow-400",style:{boxShadow:"0 0 10px #ffff00"}}),s.jsx("div",{className:"absolute bottom-0 right-0 w-2 h-2 bg-yellow-400",style:{boxShadow:"0 0 10px #ffff00"}})]})]})]}),s.jsx("p",{className:"text-green-400 font-bold text-sm",style:{fontFamily:"monospace",textShadow:"0 0 10px #00ff00"},children:">>> INSERT COIN TO CONTINUE <<<"})]})]})}function cp({onSinglePlayer:e,onMultiPlayer:t,onBack:l}){return s.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-black p-4",style:{backgroundImage:"linear-gradient(45deg, #1a1a2e 25%, transparent 25%, transparent 75%, #1a1a2e 75%, #1a1a2e), linear-gradient(45deg, #1a1a2e 25%, transparent 25%, transparent 75%, #1a1a2e 75%, #1a1a2e)",backgroundSize:"40px 40px",backgroundPosition:"0 0, 20px 20px"},children:[s.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{backgroundImage:"repeating-linear-gradient(0deg, rgba(0,0,0,0.15) 0px, rgba(0,0,0,0.15) 1px, transparent 1px, transparent 2px)"}}),s.jsxs("div",{className:"relative z-10 text-center max-w-2xl",children:[s.jsx("button",{onClick:l,className:"mb-6 px-6 py-2 border-2 border-green-400 bg-black hover:bg-green-900 text-green-400 font-bold uppercase transition-all",style:{fontFamily:"monospace",textShadow:"0 0 10px #00ff00",boxShadow:"0 0 15px rgba(0,255,0,0.5)"},children:"<< BACK"}),s.jsx("h1",{className:"text-6xl font-black mb-2 text-center",style:{color:"#00ff00",textShadow:"0 0 10px #00ff00, 0 0 20px #00ff00, 3px 3px 0 #ff00ff",fontFamily:"monospace",letterSpacing:"4px"},children:"LOCAL PLAY"}),s.jsxs("div",{className:"border-4 border-cyan-400 p-8 mb-8 bg-gray-900",style:{boxShadow:"inset 0 0 10px rgba(0,255,255,0.3), 0 0 20px rgba(0,255,255,0.5)"},children:[s.jsx("p",{className:"text-cyan-300 text-xl mb-8 font-bold",style:{textShadow:"2px 2px 0 #ff00ff",fontFamily:"monospace",letterSpacing:"2px"},children:"CHOOSE YOUR GAME MODE"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("button",{onClick:e,className:"w-full p-6 bg-blue-900 hover:bg-blue-700 border-4 border-cyan-400 transition-all duration-200 transform hover:scale-105 active:scale-95",style:{boxShadow:"inset 0 0 10px rgba(0,255,255,0.3), 0 0 20px rgba(0,255,255,0.5)",textShadow:"2px 2px 0 #000"},children:[s.jsx("div",{className:"text-4xl mb-2",children:""}),s.jsx("h2",{className:"text-2xl font-black text-cyan-300 uppercase",style:{fontFamily:"monospace"},children:"Single Player"}),s.jsx("p",{className:"text-cyan-200 text-sm font-bold mt-2",style:{fontFamily:"monospace"},children:"PLAY AGAINST AI"})]}),s.jsxs("button",{onClick:t,className:"w-full p-6 bg-red-900 hover:bg-red-700 border-4 border-red-400 transition-all duration-200 transform hover:scale-105 active:scale-95",style:{boxShadow:"inset 0 0 10px rgba(255,0,0,0.3), 0 0 20px rgba(255,0,0,0.5)",textShadow:"2px 2px 0 #000"},children:[s.jsx("div",{className:"text-4xl mb-2",children:""}),s.jsx("h2",{className:"text-2xl font-black text-red-300 uppercase",style:{fontFamily:"monospace"},children:"Multiplayer"}),s.jsx("p",{className:"text-red-200 text-sm font-bold mt-2",style:{fontFamily:"monospace"},children:"PLAY WITH FRIEND"})]})]})]}),s.jsx("p",{className:"text-green-400 font-bold text-sm",style:{fontFamily:"monospace",textShadow:"0 0 10px #00ff00"},children:">>> PRESS START <<<"})]})]})}function op({onPlayRandom:e,onHostLobby:t,onJoinLobby:l,onTournament:a,onBack:n}){return s.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-black p-4",style:{backgroundImage:"linear-gradient(45deg, #1a1a2e 25%, transparent 25%, transparent 75%, #1a1a2e 75%, #1a1a2e), linear-gradient(45deg, #1a1a2e 25%, transparent 25%, transparent 75%, #1a1a2e 75%, #1a1a2e)",backgroundSize:"40px 40px",backgroundPosition:"0 0, 20px 20px"},children:[s.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{backgroundImage:"repeating-linear-gradient(0deg, rgba(0,0,0,0.15) 0px, rgba(0,0,0,0.15) 1px, transparent 1px, transparent 2px)"}}),s.jsxs("div",{className:"relative z-10 text-center max-w-3xl",children:[s.jsx("button",{onClick:n,className:"mb-6 px-6 py-2 border-2 border-green-400 bg-black hover:bg-green-900 text-green-400 font-bold uppercase transition-all",style:{fontFamily:"monospace",textShadow:"0 0 10px #00ff00",boxShadow:"0 0 15px rgba(0,255,0,0.5)"},children:"<< BACK"}),s.jsx("h1",{className:"text-6xl font-black mb-2 text-center",style:{color:"#ff00ff",textShadow:"0 0 10px #ff00ff, 0 0 20px #ff00ff, 3px 3px 0 #00ffff",fontFamily:"monospace",letterSpacing:"4px"},children:"ONLINE ARENA"}),s.jsxs("div",{className:"border-4 border-magenta-400 p-8 mb-8 bg-gray-900",style:{boxShadow:"inset 0 0 10px rgba(255,0,255,0.3), 0 0 20px rgba(255,0,255,0.5)",borderColor:"#ff00ff"},children:[s.jsx("p",{className:"text-pink-300 text-xl mb-8 font-bold",style:{textShadow:"2px 2px 0 #00ffff",fontFamily:"monospace",letterSpacing:"2px"},children:"SELECT BATTLE MODE"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("button",{onClick:e,className:"p-6 bg-green-900 hover:bg-green-700 border-4 border-green-400 transition-all duration-200 transform hover:scale-105 active:scale-95",style:{boxShadow:"inset 0 0 10px rgba(0,255,0,0.3), 0 0 20px rgba(0,255,0,0.5)",textShadow:"2px 2px 0 #000"},children:[s.jsx("div",{className:"text-4xl mb-2",children:""}),s.jsx("h2",{className:"text-2xl font-black text-green-300 uppercase",style:{fontFamily:"monospace"},children:"Random Match"}),s.jsx("p",{className:"text-green-200 text-xs font-bold mt-2",style:{fontFamily:"monospace"},children:"FIND OPPONENT"})]}),s.jsxs("button",{onClick:t,className:"p-6 bg-blue-900 hover:bg-blue-700 border-4 border-blue-400 transition-all duration-200 transform hover:scale-105 active:scale-95",style:{boxShadow:"inset 0 0 10px rgba(0,150,255,0.3), 0 0 20px rgba(0,150,255,0.5)",textShadow:"2px 2px 0 #000"},children:[s.jsx("div",{className:"text-4xl mb-2",children:""}),s.jsx("h2",{className:"text-2xl font-black text-blue-300 uppercase",style:{fontFamily:"monospace"},children:"Host Lobby"}),s.jsx("p",{className:"text-blue-200 text-xs font-bold mt-2",style:{fontFamily:"monospace"},children:"CREATE PRIVATE ROOM"})]}),s.jsxs("button",{onClick:l,className:"p-6 bg-purple-900 hover:bg-purple-700 border-4 border-purple-400 transition-all duration-200 transform hover:scale-105 active:scale-95",style:{boxShadow:"inset 0 0 10px rgba(168,85,247,0.3), 0 0 20px rgba(168,85,247,0.5)",textShadow:"2px 2px 0 #000"},children:[s.jsx("div",{className:"text-4xl mb-2",children:""}),s.jsx("h2",{className:"text-2xl font-black text-purple-300 uppercase",style:{fontFamily:"monospace"},children:"Join Lobby"}),s.jsx("p",{className:"text-purple-200 text-xs font-bold mt-2",style:{fontFamily:"monospace"},children:"ENTER ROOM CODE"})]}),s.jsxs("button",{onClick:a,className:"p-6 bg-yellow-900 hover:bg-yellow-700 border-4 border-yellow-300 transition-all duration-200 transform hover:scale-105 active:scale-95",style:{boxShadow:"inset 0 0 10px rgba(255,255,0,0.3), 0 0 20px rgba(255,255,0,0.5)",textShadow:"2px 2px 0 #000"},children:[s.jsx("div",{className:"text-4xl mb-2",children:""}),s.jsx("h2",{className:"text-2xl font-black text-yellow-300 uppercase",style:{fontFamily:"monospace"},children:"Tournament"}),s.jsx("p",{className:"text-yellow-200 text-xs font-bold mt-2",style:{fontFamily:"monospace"},children:"COMPETE FOR GLORY"})]})]})]}),s.jsx("p",{className:"text-green-400 font-bold text-sm",style:{fontFamily:"monospace",textShadow:"0 0 10px #00ff00"},children:">>> CHOOSE YOUR DESTINY <<<"})]})]})}function up({lobbyId:e,onGameCreated:t,onBack:l}){const[a,n]=p.useState(!1),i=()=>{navigator.clipboard.writeText(e),n(!0),setTimeout(()=>n(!1),2e3)};return p.useEffect(()=>{const r=setInterval(async()=>{var c;try{const d=await(await ee("/api/games/joinlobby",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({lobby_id:e})})).json();console.log(" Host poll:",d),d.success&&((c=d.data)!=null&&c.id)&&(console.log(" Opponent joined! Game:",d.data),clearInterval(r),t(d.data))}catch(o){console.error("Poll error:",o)}},2e3);return()=>clearInterval(r)},[e,t]),s.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-black p-4",style:{backgroundImage:"linear-gradient(45deg, #1a1a2e 25%, transparent 25%, transparent 75%, #1a1a2e 75%, #1a1a2e), linear-gradient(45deg, #1a1a2e 25%, transparent 25%, transparent 75%, #1a1a2e 75%, #1a1a2e)",backgroundSize:"40px 40px",backgroundPosition:"0 0, 20px 20px"},children:[s.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{backgroundImage:"repeating-linear-gradient(0deg, rgba(0,0,0,0.15) 0px, rgba(0,0,0,0.15) 1px, transparent 1px, transparent 2px)"}}),s.jsxs("div",{className:"relative z-10 w-full max-w-md",children:[s.jsx("h1",{className:"text-4xl font-bold text-center mb-8 uppercase",style:{fontFamily:"monospace",color:"#00ffff",textShadow:"0 0 10px #00ffff, 0 0 20px #00ffff"},children:" HOST LOBBY"}),s.jsxs("div",{className:"bg-gray-900 border-4 border-cyan-400 rounded-xl p-8",style:{boxShadow:"0 0 30px rgba(0,255,255,0.3), inset 0 0 30px rgba(0,255,255,0.05)"},children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("p",{className:"text-gray-400 text-sm mb-2 uppercase",style:{fontFamily:"monospace"},children:"Lobby Code"}),s.jsxs("div",{className:"bg-black border-2 border-cyan-600 rounded-lg p-4 flex items-center justify-between",children:[s.jsx("span",{className:"text-cyan-300 text-2xl font-bold tracking-widest",style:{fontFamily:"monospace",textShadow:"0 0 5px #00ffff"},children:e}),s.jsx("button",{onClick:i,className:"ml-4 px-4 py-2 rounded-lg font-bold transition-all duration-200",style:{fontFamily:"monospace",backgroundColor:a?"#22c55e":"#0891b2",color:"white",boxShadow:a?"0 0 15px rgba(34,197,94,0.5)":"0 0 15px rgba(8,145,178,0.5)"},children:a?" COPIED!":" COPY"})]})]}),s.jsx("div",{className:"text-center mb-6",children:s.jsx("div",{className:"animate-pulse",children:s.jsx("span",{className:"text-yellow-400 text-xl",style:{fontFamily:"monospace",textShadow:"0 0 10px #ffff00"},children:" WAITING FOR OPPONENT..."})})}),s.jsxs("div",{className:"bg-gray-800 border border-gray-700 rounded-lg p-4 mb-6",children:[s.jsx("p",{className:"text-gray-300 text-sm",style:{fontFamily:"monospace"},children:" Share the code above with your friend."}),s.jsxs("p",{className:"text-gray-300 text-sm mt-1",style:{fontFamily:"monospace"},children:[" They join using ",s.jsx("span",{className:"text-cyan-400",children:"Join Lobby"}),"."]}),s.jsx("p",{className:"text-gray-300 text-sm mt-1",style:{fontFamily:"monospace"},children:" Game starts when both players are ready."})]}),s.jsxs("div",{className:"flex justify-center gap-2 mb-6",children:[s.jsx("div",{className:"w-3 h-3 bg-cyan-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),s.jsx("div",{className:"w-3 h-3 bg-cyan-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),s.jsx("div",{className:"w-3 h-3 bg-cyan-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]}),s.jsx("button",{onClick:l,className:"w-full py-3 rounded-lg font-bold transition-all duration-200 hover:scale-105",style:{fontFamily:"monospace",backgroundColor:"#dc2626",color:"white",boxShadow:"0 0 15px rgba(220,38,38,0.5)",border:"2px solid #ef4444"},children:" CANCEL"})]})]})]})}function dp({onJoin:e,onBack:t}){const[l,a]=p.useState(""),[n,i]=p.useState(null),r=()=>{const o=l.trim();if(o.length===0){i("Please enter a lobby code");return}i(null),e(o)},c=o=>{o.key==="Enter"&&r()};return s.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-black p-4",style:{backgroundImage:"linear-gradient(45deg, #1a1a2e 25%, transparent 25%, transparent 75%, #1a1a2e 75%, #1a1a2e), linear-gradient(45deg, #1a1a2e 25%, transparent 25%, transparent 75%, #1a1a2e 75%, #1a1a2e)",backgroundSize:"40px 40px",backgroundPosition:"0 0, 20px 20px"},children:[s.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{backgroundImage:"repeating-linear-gradient(0deg, rgba(0,0,0,0.15) 0px, rgba(0,0,0,0.15) 1px, transparent 1px, transparent 2px)"}}),s.jsxs("div",{className:"relative z-10 w-full max-w-md",children:[s.jsx("h1",{className:"text-4xl font-bold text-center mb-8 uppercase",style:{fontFamily:"monospace",color:"#00ffff",textShadow:"0 0 10px #00ffff, 0 0 20px #00ffff"},children:" JOIN LOBBY"}),s.jsxs("div",{className:"bg-gray-900 border-4 border-cyan-400 rounded-xl p-8",style:{boxShadow:"0 0 30px rgba(0,255,255,0.3), inset 0 0 30px rgba(0,255,255,0.05)"},children:[s.jsx("p",{className:"text-gray-400 text-sm mb-2 uppercase",style:{fontFamily:"monospace"},children:"Enter Lobby Code"}),s.jsx("input",{type:"text",value:l,onChange:o=>{a(o.target.value),i(null)},onKeyDown:c,placeholder:"e.g. abc123",autoFocus:!0,className:"w-full bg-black border-2 border-cyan-600 rounded-lg p-4 text-cyan-300 text-xl font-bold tracking-widest text-center mb-4 focus:outline-none focus:border-cyan-400 focus:ring-2 focus:ring-cyan-400/50 placeholder-gray-600 transition-all",style:{fontFamily:"monospace",textShadow:"0 0 5px #00ffff"}}),n&&s.jsx("div",{className:"mb-4 p-3 bg-red-900/50 border border-red-500 rounded-lg",children:s.jsxs("p",{className:"text-red-400 text-sm text-center",style:{fontFamily:"monospace"},children:[" ",n]})}),s.jsxs("div",{className:"bg-gray-800 border border-gray-700 rounded-lg p-4 mb-6",children:[s.jsx("p",{className:"text-gray-300 text-sm",style:{fontFamily:"monospace"},children:" Ask your friend for the lobby code."}),s.jsxs("p",{className:"text-gray-300 text-sm mt-1",style:{fontFamily:"monospace"},children:[" Enter the code above and press ",s.jsx("span",{className:"text-green-400",children:"JOIN"}),"."]}),s.jsxs("p",{className:"text-gray-300 text-sm mt-1",style:{fontFamily:"monospace"},children:[" Press ",s.jsx("span",{className:"text-cyan-400",children:"Enter"})," to quick join."]})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx("button",{onClick:t,className:"flex-1 py-3 rounded-lg font-bold transition-all duration-200 hover:scale-105",style:{fontFamily:"monospace",backgroundColor:"#dc2626",color:"white",boxShadow:"0 0 15px rgba(220,38,38,0.5)",border:"2px solid #ef4444"},children:" BACK"}),s.jsx("button",{onClick:r,className:"flex-1 py-3 rounded-lg font-bold transition-all duration-200 hover:scale-105",style:{fontFamily:"monospace",backgroundColor:l.trim().length>0?"#22c55e":"#374151",color:"white",boxShadow:l.trim().length>0?"0 0 15px rgba(34,197,94,0.5)":"none",border:l.trim().length>0?"2px solid #4ade80":"2px solid #4b5563"},children:" JOIN"})]})]})]})]})}function fp({gameData:e,gameMode:t,currentUser:l,onBothReady:a,onBack:n}){const[i,r]=p.useState(!1),[c,o]=p.useState(!1),[d,y]=p.useState(!1),[x,m]=p.useState("Opponent"),g=Number(l==null?void 0:l.id)===Number(e==null?void 0:e.player1_id),v=(l==null?void 0:l.username)||(g?"Player 1":"Player 2");p.useEffect(()=>{console.log(" ReadyRoom DEBUG:"),console.log("  currentUser?.id:",l==null?void 0:l.id,typeof(l==null?void 0:l.id)),console.log("  gameData?.player1_id:",e==null?void 0:e.player1_id,typeof(e==null?void 0:e.player1_id)),console.log("  gameData?.player2_id:",e==null?void 0:e.player2_id,typeof(e==null?void 0:e.player2_id)),console.log("  isPlayer1:",g)},[l,e,g]),p.useEffect(()=>{if(!e||!l)return;const f=g?e.player2_id:e.player1_id;f&&ee(`/api/users/${f}`).then(u=>u.json()).then(u=>{var h,j;((h=u==null?void 0:u.data)!=null&&h.username||u!=null&&u.username)&&m(((j=u.data)==null?void 0:j.username)||u.username)}).catch(u=>console.error("Failed to fetch opponent:",u))},[e,l,g]);const b=t==="singleplayer"||t==="multiplayer";if(p.useEffect(()=>{b&&a()},[b,a]),!l&&!b)return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-black",children:s.jsx("p",{className:"text-cyan-400 text-2xl animate-pulse",style:{fontFamily:"monospace"},children:"Loading player data..."})});const N=async()=>{try{const u=await(await ee("/api/games/ready",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({game_id:e.id})})).json();console.log(" Ready response:",u),u.success&&(r(!0),u.data.all_ready&&(o(!0),y(!0)))}catch(f){console.error("Failed to set ready:",f)}};return p.useEffect(()=>{if(!i||d||!(e!=null&&e.id))return;const f=setInterval(async()=>{try{const h=await(await ee(`/api/games/${e.id}/ready`)).json();if(console.log(" Ready poll:",h),h.success&&h.data){const{player1_ready:j,player2_ready:E,all_ready:_}=h.data;o(g?E:j),_&&(y(!0),clearInterval(f))}}catch(u){console.error("Ready poll error:",u)}},1500);return()=>clearInterval(f)},[i,d,e,g]),p.useEffect(()=>{if(d){const f=setTimeout(()=>{a()},1500);return()=>clearTimeout(f)}},[d,a]),b?null:s.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-black p-4",style:{backgroundImage:"linear-gradient(45deg, #1a1a2e 25%, transparent 25%, transparent 75%, #1a1a2e 75%, #1a1a2e), linear-gradient(45deg, #1a1a2e 25%, transparent 25%, transparent 75%, #1a1a2e 75%, #1a1a2e)",backgroundSize:"40px 40px",backgroundPosition:"0 0, 20px 20px"},children:[s.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{backgroundImage:"repeating-linear-gradient(0deg, rgba(0,0,0,0.15) 0px, rgba(0,0,0,0.15) 1px, transparent 1px, transparent 2px)"}}),s.jsxs("div",{className:"relative z-10 w-full max-w-lg",children:[s.jsx("h1",{className:"text-4xl font-bold text-center mb-2 uppercase",style:{fontFamily:"monospace",color:"#00ffff",textShadow:"0 0 10px #00ffff, 0 0 20px #00ffff"},children:" MATCH FOUND"}),s.jsx("p",{className:"text-gray-400 text-center mb-8",style:{fontFamily:"monospace"},children:"Both players must be ready to start"}),s.jsxs("div",{className:"bg-gray-900 border-4 border-cyan-400 rounded-xl p-8",style:{boxShadow:"0 0 30px rgba(0,255,255,0.3), inset 0 0 30px rgba(0,255,255,0.05)"},children:[s.jsxs("div",{className:"flex items-center justify-between gap-4 mb-8",children:[s.jsx("div",{className:"flex-1 text-center",children:s.jsxs("div",{className:`border-4 rounded-xl p-6 transition-all duration-500 ${i?"border-green-400 bg-green-900/30":"border-cyan-600 bg-cyan-900/20"}`,style:{boxShadow:i?"0 0 20px rgba(74,222,128,0.4)":"0 0 10px rgba(0,255,255,0.2)"},children:[s.jsx("div",{className:"text-4xl mb-3",children:i?"":""}),s.jsx("p",{className:"text-white font-bold text-lg mb-1",style:{fontFamily:"monospace"},children:v}),s.jsx("p",{className:"text-xs text-gray-400",style:{fontFamily:"monospace"},children:"(YOU)"}),s.jsx("p",{className:"text-sm mt-2",style:{fontFamily:"monospace",color:i?"#4ade80":"#fbbf24"},children:i?"READY!":"NOT READY"})]})}),s.jsx("div",{className:"flex-shrink-0",children:s.jsx("span",{className:"text-3xl font-black",style:{fontFamily:"monospace",color:"#ff6b6b",textShadow:"0 0 10px #ff6b6b, 0 0 20px #ff6b6b"},children:"VS"})}),s.jsx("div",{className:"flex-1 text-center",children:s.jsxs("div",{className:`border-4 rounded-xl p-6 transition-all duration-500 ${c?"border-green-400 bg-green-900/30":"border-gray-600 bg-gray-800/50"}`,style:{boxShadow:c?"0 0 20px rgba(74,222,128,0.4)":"none"},children:[s.jsx("div",{className:"text-4xl mb-3",children:c?"":""}),s.jsx("p",{className:"text-white font-bold text-lg mb-1",style:{fontFamily:"monospace"},children:x}),s.jsx("p",{className:"text-xs text-gray-400",style:{fontFamily:"monospace"},children:"(OPPONENT)"}),s.jsx("p",{className:"text-sm mt-2",style:{fontFamily:"monospace",color:c?"#4ade80":"#fbbf24"},children:c?"READY!":"WAITING..."})]})})]}),(e==null?void 0:e.id)&&s.jsx("div",{className:"bg-gray-800 border border-gray-700 rounded-lg p-3 mb-6 text-center",children:s.jsxs("p",{className:"text-gray-400 text-xs",style:{fontFamily:"monospace"},children:["GAME #",e.id]})}),d&&s.jsx("div",{className:"text-center mb-6 animate-pulse",children:s.jsx("p",{className:"text-green-400 text-2xl font-bold",style:{fontFamily:"monospace",textShadow:"0 0 15px #4ade80"},children:" BOTH READY  STARTING!"})}),i&&!d&&s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("p",{className:"text-green-400 font-bold mb-3",style:{fontFamily:"monospace"},children:" You are ready!"}),s.jsxs("div",{className:"flex justify-center gap-2 mb-2",children:[s.jsx("div",{className:"w-3 h-3 bg-yellow-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),s.jsx("div",{className:"w-3 h-3 bg-yellow-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),s.jsx("div",{className:"w-3 h-3 bg-yellow-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]}),s.jsx("p",{className:"text-yellow-400 text-sm",style:{fontFamily:"monospace"},children:"Waiting for opponent..."})]}),!i&&!d&&s.jsx("button",{onClick:N,className:"w-full py-4 rounded-lg font-bold text-xl transition-all duration-200 hover:scale-105 active:scale-95",style:{fontFamily:"monospace",backgroundColor:"#22c55e",color:"white",boxShadow:"0 0 20px rgba(34,197,94,0.5)",border:"3px solid #4ade80",textShadow:"0 0 5px rgba(0,0,0,0.5)"},children:" I'M READY!"}),!d&&s.jsx("button",{onClick:n,className:"w-full mt-4 py-2 rounded-lg font-bold transition-all duration-200 hover:scale-105",style:{fontFamily:"monospace",backgroundColor:"transparent",color:"#ef4444",border:"2px solid #ef4444"},children:" LEAVE"})]})]})]})}function mp({onCancel:e}){const[t,l]=p.useState(0),[a,n]=p.useState(".");p.useEffect(()=>{const r=setInterval(()=>{l(c=>c+1)},1e3);return()=>clearInterval(r)},[]),p.useEffect(()=>{const r=setInterval(()=>{n(c=>c.length>=3?".":c+".")},500);return()=>clearInterval(r)},[]);const i=r=>{const c=Math.floor(r/60),o=r%60;return`${c.toString().padStart(2,"0")}:${o.toString().padStart(2,"0")}`};return s.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-black p-4",style:{backgroundImage:"linear-gradient(45deg, #1a1a2e 25%, transparent 25%, transparent 75%, #1a1a2e 75%, #1a1a2e), linear-gradient(45deg, #1a1a2e 25%, transparent 25%, transparent 75%, #1a1a2e 75%, #1a1a2e)",backgroundSize:"40px 40px",backgroundPosition:"0 0, 20px 20px"},children:[s.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{backgroundImage:"repeating-linear-gradient(0deg, rgba(0,0,0,0.15) 0px, rgba(0,0,0,0.15) 1px, transparent 1px, transparent 2px)"}}),s.jsxs("div",{className:"relative z-10 text-center max-w-2xl",children:[s.jsx("h1",{className:"text-6xl font-black mb-8 text-center",style:{color:"#00ff00",textShadow:"0 0 10px #00ff00, 0 0 20px #00ff00, 3px 3px 0 #ff00ff",fontFamily:"monospace",letterSpacing:"4px"},children:"SEARCHING"}),s.jsxs("div",{className:"border-4 border-cyan-400 p-12 mb-8 bg-gray-900",style:{boxShadow:"inset 0 0 10px rgba(0,255,255,0.3), 0 0 20px rgba(0,255,255,0.5)"},children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"flex justify-center gap-4 mb-8",children:[s.jsx("div",{className:"w-6 h-6 border-2 border-cyan-400 rounded-full",style:{animation:"pulse 1s ease-in-out infinite",animationDelay:"0s"}}),s.jsx("div",{className:"w-6 h-6 border-2 border-cyan-400 rounded-full",style:{animation:"pulse 1s ease-in-out infinite",animationDelay:"0.2s"}}),s.jsx("div",{className:"w-6 h-6 border-2 border-cyan-400 rounded-full",style:{animation:"pulse 1s ease-in-out infinite",animationDelay:"0.4s"}})]}),s.jsxs("p",{className:"text-cyan-300 text-2xl font-bold uppercase",style:{fontFamily:"monospace",textShadow:"0 0 10px #00ffff",letterSpacing:"2px",height:"40px"},children:["Looking for opponent",a]})]}),s.jsxs("div",{className:"bg-purple-900 border-4 border-purple-500 rounded-none p-6 mb-8",style:{boxShadow:"0 0 15px rgba(168,85,247,0.5)",fontFamily:"monospace"},children:[s.jsx("p",{className:"text-purple-200 text-sm font-bold mb-2 uppercase",children:" SEARCHING TIME"}),s.jsx("p",{className:"text-purple-300 text-4xl font-black",style:{textShadow:"0 0 10px #a855f7"},children:i(t)})]}),s.jsx("div",{className:"bg-green-900 border-4 border-green-400 rounded-none p-4 mb-8",style:{boxShadow:"0 0 15px rgba(0,255,0,0.3)",fontFamily:"monospace"},children:s.jsx("p",{className:"text-green-300 text-sm font-bold uppercase",children:" MATCHMAKING IN PROGRESS"})}),s.jsx("button",{onClick:e,className:"w-full p-4 bg-red-900 hover:bg-red-700 border-4 border-red-400 font-black text-red-300 uppercase transition-all duration-200 transform hover:scale-105 active:scale-95",style:{fontFamily:"monospace",boxShadow:"0 0 15px rgba(255,0,0,0.5)",textShadow:"2px 2px 0 #000"},children:"CANCEL SEARCH"})]}),s.jsx("p",{className:"text-green-400 font-bold text-sm",style:{fontFamily:"monospace",textShadow:"0 0 10px #00ff00"},children:">>> WAITING FOR OPPONENT <<<"}),s.jsx("style",{children:`
                    @keyframes pulse {
                        0%, 100% { 
                            transform: scale(1);
                            opacity: 1;
                        }
                        50% { 
                            transform: scale(1.2);
                            opacity: 0.5;
                        }
                    }
                `})]})]})}function za({id:e,className:t,buttonName:l,onClick:a}){return s.jsx("button",{id:e,className:t,onClick:a,children:l})}var Om=(e=>(e[e.Bad=0]="Bad",e[e.Neutral=1]="Neutral",e[e.Good=2]="Good",e))(Om||{});function hp({type:e,children:t}){let l,a,n;switch(e){case 0:l="bg-red-50",a="text-red-900",n="border-red-200";break;case 1:l="bg-yellow-50",a="text-yellow-900",n="border-yellow-200";break;case 2:l="bg-green-50",a="text-green-900",n="border-green-200";break}const i=`${l} ${a} ${n} rounded-lg p-4 flex flex-col space-y-2 items-center m-auto w-[60%]`;return s.jsx("div",{className:i,children:t})}function xp({onExit:e,onRetry:t}){return s.jsxs(hp,{type:Om.Neutral,children:[s.jsx("p",{children:"No player found"}),s.jsx(za,{id:"btn-retry",className:"bg-indigo-500 text-white py-2 px-8 uppercase rounded-xl w-[20%]",buttonName:"retry",onClick:t}),s.jsx(za,{id:"btn-exit",className:"bg-indigo-500 text-white py-2 px-8 uppercase rounded-xl w-[20%]",buttonName:"exit",onClick:e})]})}function gp({onTournamentCreated:e,onBack:t}){const[l,a]=p.useState(""),[n,i]=p.useState(""),[r,c]=p.useState(4),[o,d]=p.useState(!1),[y,x]=p.useState(null),m=async()=>{if(!l.trim()){x("Tournament name is required");return}d(!0),x(null);try{const g=await ee("/api/tournaments",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:l,description:n,max_participants:r})});if(!g.ok){const b=await g.json();throw new Error(b.error||"Failed to create tournament")}const v=await g.json();console.log(" Tournament created:",v.data.id),e(v.data.id,v.data.max_participants)}catch(g){x(g.message),console.error(" Failed to create tournament:",g)}finally{d(!1)}};return s.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 p-4",children:s.jsxs("div",{className:"w-full max-w-md bg-gray-900 border-4 border-cyan-400 rounded-xl p-10 shadow-2xl shadow-cyan-500/20",children:[s.jsx("h1",{className:"text-4xl font-bold text-cyan-400 text-center mb-8 uppercase tracking-widest font-arcade",children:"CREATE TOURNAMENT"}),y&&s.jsx("div",{className:"bg-red-500/10 border-2 border-red-500 text-red-400 p-4 rounded-lg mb-6 font-arcade text-center text-sm",children:y}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-cyan-400 font-bold mb-2 uppercase font-arcade text-sm",children:"Tournament Name"}),s.jsx("input",{type:"text",value:l,onChange:g=>a(g.target.value),disabled:o,className:"w-full bg-gray-800 border-2 border-cyan-400 text-white px-4 py-2 rounded-lg focus:outline-none focus:bg-gray-700 font-arcade disabled:opacity-50",placeholder:"Enter tournament name"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-cyan-400 font-bold mb-2 uppercase font-arcade text-sm",children:"Description (Optional)"}),s.jsx("textarea",{value:n,onChange:g=>i(g.target.value),disabled:o,className:"w-full bg-gray-800 border-2 border-cyan-400 text-white px-4 py-2 rounded-lg focus:outline-none focus:bg-gray-700 font-arcade h-20 disabled:opacity-50",placeholder:"Enter tournament description"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-cyan-400 font-bold mb-2 uppercase font-arcade text-sm",children:"Max Players"}),s.jsxs("select",{value:r,onChange:g=>c(parseInt(g.target.value)),disabled:o,className:"w-full bg-gray-800 border-2 border-cyan-400 text-white px-4 py-2 rounded-lg focus:outline-none focus:bg-gray-700 font-arcade disabled:opacity-50",children:[s.jsx("option",{value:4,children:"4 Players"}),s.jsx("option",{value:8,children:"8 Players"}),s.jsx("option",{value:16,children:"16 Players"})]})]})]}),s.jsxs("div",{className:"flex gap-4 mt-8",children:[s.jsx("button",{onClick:m,disabled:o||!l.trim(),className:"flex-1 bg-cyan-600 hover:bg-cyan-700 disabled:bg-gray-600 text-white font-bold py-3 px-4 rounded-lg transition-all duration-200 uppercase tracking-wide font-arcade border-2 border-cyan-500",children:o?"CREATING...":"CREATE"}),s.jsx("button",{onClick:t,disabled:o,className:"flex-1 bg-transparent border-2 border-gray-500 text-gray-400 hover:border-gray-400 hover:text-gray-300 font-bold py-3 px-4 rounded-lg transition-all duration-200 uppercase tracking-wide font-arcade disabled:opacity-50",children:"BACK"})]})]})})}function yp({tournamentId:e,onTournamentJoined:t,onCreateNew:l,onBack:a}){const[n,i]=p.useState([]),[r,c]=p.useState(!0),[o,d]=p.useState(null),[y,x]=p.useState(null);p.useEffect(()=>{const g=async()=>{try{const b=await fetch("/api/tournaments");if(!b.ok)throw new Error("Failed to fetch tournaments");const N=await b.json();console.log(" Available tournaments:",N.data);const f=N.data.filter(u=>u.status==="open");i(f),d(null)}catch(b){console.error(" Failed to fetch tournaments:",b),d(String(b))}finally{c(!1)}};g();const v=setInterval(g,3e3);return()=>clearInterval(v)},[]),p.useEffect(()=>{e&&(console.log(" Auto-joining tournament:",e),m(e))},[e]);const m=async g=>{x(g);try{const v=await ee(`/api/tournaments/${g}/join`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({})});if(!v.ok){const u=await v.json();throw new Error(u.error||"Failed to join tournament")}const b=await v.json();console.log(" Joined tournament:",b);const f=await(await fetch(`/api/tournaments/${g}`)).json();t(g,f.data.max_participants)}catch(v){console.error(" Failed to join:",v),d(v.message),x(null)}};return r?s.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900",children:s.jsx("p",{className:"text-cyan-400 text-xl animate-pulse font-arcade",children:"SEARCHING FOR TOURNAMENTS..."})}):s.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 p-4",children:s.jsxs("div",{className:"w-full max-w-2xl",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h1",{className:"text-5xl font-bold text-cyan-400 uppercase tracking-widest font-arcade mb-2",children:"TOURNAMENTS"}),s.jsx("p",{className:"text-gray-400 text-sm font-arcade",children:"Join an existing tournament or create your own"})]}),o&&s.jsx("div",{className:"bg-red-500/10 border-2 border-red-500 text-red-400 p-4 rounded-lg mb-8 font-arcade text-center text-sm",children:o}),s.jsx("div",{className:"mb-12",children:s.jsx("button",{onClick:l,className:"w-full bg-gradient-to-r from-cyan-600 to-cyan-500 hover:from-cyan-700 hover:to-cyan-600 text-white font-bold py-4 px-6 rounded-lg transition-all duration-200 uppercase tracking-wide font-arcade border-2 border-cyan-400",children:"+ CREATE NEW TOURNAMENT"})}),s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl font-bold text-cyan-400 uppercase mb-6 tracking-wider font-arcade",children:["OPEN TOURNAMENTS (",n.length,")"]}),n.length===0?s.jsxs("div",{className:"text-center py-12 bg-gray-900 border-4 border-cyan-400/20 rounded-xl",children:[s.jsx("p",{className:"text-gray-400 text-lg font-arcade mb-6",children:"No open tournaments available"}),s.jsx("p",{className:"text-gray-500 text-sm font-arcade",children:"Be the first to create one!"})]}):s.jsx("div",{className:"grid gap-4",children:n.map(g=>s.jsx("div",{className:"bg-gray-900 border-4 border-cyan-400 rounded-lg p-6 hover:shadow-lg hover:shadow-cyan-500/20 transition-all duration-200",children:s.jsxs("div",{className:"flex items-center justify-between gap-6",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-2xl font-bold text-white mb-2 font-arcade",children:g.name}),s.jsx("p",{className:"text-gray-400 text-sm mb-3 font-arcade",children:g.description||"No description"}),s.jsxs("div",{className:"flex gap-4 text-xs font-arcade",children:[s.jsxs("span",{className:"text-cyan-400 font-bold",children:[g.max_participants,"-PLAYER TOURNAMENT"]}),s.jsx("span",{className:"text-green-400 font-bold",children:"STATUS: OPEN"})]})]}),s.jsx("button",{onClick:()=>m(g.id),disabled:y===g.id,className:"bg-green-600 hover:bg-green-700 disabled:bg-gray-600 text-white font-bold py-3 px-8 rounded-lg transition-all duration-200 uppercase tracking-wide font-arcade border-2 border-green-500 whitespace-nowrap",children:y===g.id?"JOINING...":"JOIN"})]})},g.id))})]}),s.jsx("div",{className:"mt-8",children:s.jsx("button",{onClick:a,className:"w-full bg-transparent border-2 border-gray-500 text-gray-400 hover:border-gray-400 hover:text-gray-300 font-bold py-3 px-4 rounded-lg transition-all duration-200 uppercase tracking-wide font-arcade",children:"BACK"})})]})})}function pp({tournamentId:e,maxParticipants:t,onStartTournament:l,onLeaveTournament:a,websocket:n}){const[i,r]=p.useState(null),[c,o]=p.useState([]),[d,y]=p.useState(!0),[x,m]=p.useState(null);p.useEffect(()=>{if(!(n!=null&&n.current)){console.log(" WebSocket not available, will use polling fallback");return}const f=u=>{try{const h=JSON.parse(u.data);h.type==="tournament_started"&&h.tournamentId===e&&(console.log(" WebSocket: Tournament started event received!"),console.log(" Moving all users to bracket..."),l())}catch(h){console.error("Failed to parse WebSocket message:",h)}};return n.current.addEventListener("message",f),()=>{var u;(u=n.current)==null||u.removeEventListener("message",f)}},[e,l,n]),p.useEffect(()=>{if(!e)return;const f=async()=>{try{const h=await fetch(`/api/tournaments/${e}`);if(!h.ok)throw new Error("Failed to fetch tournament");const j=await h.json();console.log(" Tournament data:",j),r(j.data),o(j.participants||[]),m(null),y(!1),j.data.status==="ongoing"&&(console.log(" Polling: Tournament status is ongoing, moving to bracket..."),l())}catch(h){console.error(" Failed to fetch tournament status:",h),m(String(h))}};f();const u=setInterval(f,2e3);return()=>clearInterval(u)},[e,l]);const g=async()=>{try{if(!e)throw new Error("Tournament ID is required");if(c.length<2)throw new Error("Need at least 2 participants");console.log(" Starting tournament with participants:",c);const f=await ee(`/api/tournaments/${parseInt(String(e))}/start`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({})}),u=await f.json();if(console.log(" Start response:",u),!f.ok)throw console.error(" Server error:",u),new Error(u.error||"Failed to start tournament");console.log(" Tournament started successfully"),l()}catch(f){console.error(" Failed to start tournament:",f),m(String(f))}},v=async()=>{try{if(!(await ee(`/api/tournaments/${e}/leave`,{method:"DELETE",headers:{"Content-Type":"application/json"}})).ok)throw new Error("Failed to leave tournament");console.log(" Left tournament"),a()}catch(f){console.error(" Failed to leave tournament:",f),m(String(f))}};if(d)return s.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-cyan-400 text-xl animate-pulse font-arcade mb-4",children:"LOADING TOURNAMENT..."}),s.jsxs("p",{className:"text-gray-400 text-sm",children:["Tournament ID: ",e]})]})});if(x)return s.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900",children:s.jsxs("div",{className:"text-center bg-red-500/10 border-2 border-red-500 p-8 rounded-lg",children:[s.jsx("p",{className:"text-red-400 text-lg font-arcade mb-4",children:"ERROR"}),s.jsx("p",{className:"text-gray-400 text-sm",children:x})]})});const b=c.length===t,N=t-c.length;return s.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 p-4",children:s.jsxs("div",{className:"w-full max-w-2xl bg-gray-900 border-4 border-cyan-400 rounded-xl p-10 shadow-2xl shadow-cyan-500/20",children:[s.jsx("h1",{className:"text-4xl font-bold text-cyan-400 text-center mb-2 uppercase tracking-widest font-arcade",children:"TOURNAMENT LOBBY"}),s.jsxs("p",{className:"text-center text-gray-400 text-sm mb-8 font-arcade",children:["ID: ",e]}),i&&s.jsxs("div",{className:"bg-gradient-to-r from-cyan-500/10 to-cyan-400/5 border-2 border-cyan-400/30 rounded-lg p-6 mb-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-white mb-3 font-arcade",children:i.name}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("p",{className:"text-cyan-400 font-semibold text-lg font-arcade",children:[t,"-PLAYER TOURNAMENT"]}),s.jsxs("p",{className:"text-sm text-gray-400 font-arcade",children:["STATUS: ",s.jsx("span",{className:"text-cyan-400 font-bold",children:i.status.toUpperCase()})]})]})]}),s.jsxs("div",{className:"mb-8",children:[s.jsxs("h3",{className:"text-cyan-400 text-lg font-bold uppercase mb-4 tracking-wide font-arcade",children:["PARTICIPANTS (",c.length,"/",t,")"]}),s.jsx("div",{className:"bg-black/50 border-2 border-cyan-400/30 rounded-lg max-h-96 overflow-y-auto",children:c.length===0?s.jsx("div",{className:"p-4 text-center text-gray-500 font-arcade",children:"Waiting for players to join..."}):s.jsxs(s.Fragment,{children:[c.map((f,u)=>s.jsxs("div",{className:"flex items-center gap-4 px-4 py-3 border-b border-cyan-400/10 hover:bg-cyan-400/5 transition-colors font-arcade",children:[s.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-cyan-400 text-gray-900 rounded font-bold text-sm flex-shrink-0",children:u+1}),s.jsx("span",{className:"flex-1 text-white font-bold",children:f.display_name||f.username}),s.jsx("span",{className:"text-green-400 text-xs font-bold",children:" JOINED"})]},f.user_id)),Array.from({length:N}).map((f,u)=>s.jsxs("div",{className:"flex items-center gap-4 px-4 py-3 border-b border-cyan-400/10 opacity-40 font-arcade",children:[s.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-gray-700 text-gray-500 rounded font-bold text-sm flex-shrink-0",children:c.length+u+1}),s.jsx("span",{className:"flex-1 text-gray-500 italic",children:"WAITING FOR PLAYER..."}),s.jsx("span",{className:"text-gray-700 text-xs",children:""})]},`empty-${u}`))]})})]}),s.jsx("div",{className:`rounded-lg p-4 mb-8 border-l-4 font-arcade font-bold text-center ${b?"bg-green-500/10 border-green-500 text-green-400":"bg-cyan-500/10 border-cyan-500 text-cyan-400"}`,children:b?" TOURNAMENT FULL! READY TO START":` WAITING FOR ${N} MORE PLAYER${N!==1?"S":""}...`}),s.jsxs("div",{className:"flex gap-4",children:[b&&s.jsx(za,{id:"btn-start-tournament",onClick:g,className:"flex-1 bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-4 rounded-lg transition-all duration-200 uppercase tracking-wide font-arcade border-2 border-green-500",buttonName:"START TOURNAMENT"}),s.jsx(za,{id:"btn-leave-tournament",onClick:v,className:`${b?"flex-1":"w-full"} bg-transparent border-2 border-cyan-400 text-cyan-400 hover:bg-cyan-400/10 font-bold py-3 px-4 rounded-lg transition-all duration-200 uppercase tracking-wide font-arcade`,buttonName:"LEAVE TOURNAMENT"})]})]})})}function bp({tournamentId:e,onPlayMatch:t,onTournamentFinished:l,currentUserId:a}){var f;const[n,i]=p.useState([]),[r,c]=p.useState(1),[o,d]=p.useState(!0),[y,x]=p.useState(new Map);p.useEffect(()=>{const u=async()=>{var j;try{const E=await fetch(`/api/tournaments/${e}/games`);if(!E.ok)throw new Error("Failed to fetch games");const _=await E.json();console.log(" Fetched games:",_.data),i(_.data||[]),d(!1);const S=new Set;(j=_.data)==null||j.forEach(z=>{S.add(z.player1_id),S.add(z.player2_id)});const C=new Map;for(const z of Array.from(S))try{const H=await(await fetch(`/api/users/${z}`)).json();H.data&&C.set(z,H.data)}catch(O){console.error("Failed to fetch player:",O)}x(C)}catch(E){console.error("Failed to fetch games:",E)}};u();const h=setInterval(u,2e3);return()=>clearInterval(h)},[e]);const m=n.filter(u=>u.round===r),g=Math.max(...n.map(u=>u.round),1),v=n.every(u=>u.status==="finished"),b=u=>{var h;return((h=y.get(u))==null?void 0:h.display_name)||`Player ${u}`},N=u=>{console.log(" Play match clicked - Game ID:",u.id,"Status:",u.status),t(u.id)};if(o)return s.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900",children:s.jsx("p",{className:"text-cyan-400 text-xl animate-pulse font-arcade",children:"LOADING BRACKET..."})});if(v){const u=(f=n.find(h=>h.round===g))==null?void 0:f.winner_id;return s.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 p-4",children:s.jsxs("div",{className:"w-full max-w-md bg-gray-900 border-4 border-green-400 rounded-xl p-10 text-center shadow-2xl",children:[s.jsx("h1",{className:"text-4xl font-bold text-green-400 mb-4 font-arcade",children:"TOURNAMENT FINISHED!"}),s.jsxs("p",{className:"text-xl text-white mb-6 font-arcade",children:[" CHAMPION: ",b(u||0)]}),s.jsx(za,{id:"btn-return-menu",onClick:()=>l(u||0),buttonName:"RETURN TO MENU",className:"w-full bg-green-500 hover:bg-green-600 text-white font-bold py-3 rounded-lg font-arcade"})]})})}return s.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 p-4",children:s.jsxs("div",{className:"w-full max-w-2xl bg-gray-900 border-4 border-cyan-400 rounded-xl p-10 shadow-2xl",children:[s.jsx("h1",{className:"text-4xl font-bold text-cyan-400 text-center mb-8 uppercase font-arcade",children:"TOURNAMENT BRACKET"}),s.jsx("div",{className:"bg-cyan-500/10 border-2 border-cyan-400/30 rounded-lg p-4 mb-8 text-center",children:s.jsxs("p",{className:"text-cyan-400 font-arcade font-bold text-xl",children:["ROUND ",r," OF ",g]})}),s.jsx("div",{className:"space-y-4 mb-8",children:m.length===0?s.jsx("p",{className:"text-gray-400 text-center font-arcade",children:"NO MATCHES THIS ROUND"}):m.map(u=>s.jsxs("div",{className:"bg-black/50 border-2 border-cyan-400/30 rounded-lg p-6 font-arcade",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-white font-bold text-lg",children:b(u.player1_id)}),s.jsx("p",{className:"text-gray-500 text-sm",children:"Player 1"})]}),s.jsx("div",{className:"text-cyan-400 font-bold text-2xl mx-4",children:"VS"}),s.jsxs("div",{className:"flex-1 text-right",children:[s.jsx("p",{className:"text-white font-bold text-lg",children:b(u.player2_id)}),s.jsx("p",{className:"text-gray-500 text-sm",children:"Player 2"})]})]}),s.jsx("div",{className:"text-center mb-4",children:u.status==="finished"&&u.winner_id?s.jsxs("p",{className:"text-green-400 font-bold",children:[" WINNER: ",b(u.winner_id)]}):u.status==="ongoing"?s.jsx("p",{className:"text-yellow-400 font-bold animate-pulse",children:" MATCH IN PROGRESS..."}):s.jsxs("p",{className:"text-gray-400",children:["Ready to play (status: ",u.status,")"]})}),u.status==="ready"&&(u.player1_id===a||u.player2_id===a)&&s.jsx(za,{id:`btn-play-match-${u.id}`,onClick:()=>N(u),buttonName:"PLAY MATCH",className:"w-full bg-cyan-500 hover:bg-cyan-600 text-white font-bold py-2 rounded-lg"}),(u.status!=="ready"||u.player1_id!==a&&u.player2_id!==a)&&s.jsxs("p",{className:"text-center text-gray-500 text-xs",children:["Status: ",u.status]})]},u.id))}),s.jsxs("div",{className:"flex gap-4 justify-center",children:[s.jsx("button",{onClick:()=>c(Math.max(1,r-1)),disabled:r===1,className:"px-6 py-2 bg-gray-700 hover:bg-gray-600 disabled:opacity-50 text-white rounded-lg font-arcade font-bold",children:"PREV ROUND"}),s.jsx("button",{onClick:()=>c(Math.min(g,r+1)),disabled:r===g,className:"px-6 py-2 bg-gray-700 hover:bg-gray-600 disabled:opacity-50 text-white rounded-lg font-arcade font-bold",children:"NEXT ROUND"})]})]})})}function vp({onCountdownComplete:e,gameMode:t}){const[l,a]=p.useState(3),n=()=>{switch(t){case"singleplayer":return" VS BOT";case"multiplayer":return" LOCAL PVP";case"online":return" ONLINE MATCH";default:return" PONG"}};return p.useEffect(()=>{if(l<=0){const r=setTimeout(()=>{e()},500);return()=>clearTimeout(r)}const i=setTimeout(()=>{a(l-1)},1e3);return()=>clearTimeout(i)},[l,e]),s.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-black p-4",style:{backgroundImage:"linear-gradient(45deg, #1a1a2e 25%, transparent 25%, transparent 75%, #1a1a2e 75%, #1a1a2e), linear-gradient(45deg, #1a1a2e 25%, transparent 25%, transparent 75%, #1a1a2e 75%, #1a1a2e)",backgroundSize:"40px 40px",backgroundPosition:"0 0, 20px 20px"},children:[s.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{backgroundImage:"repeating-linear-gradient(0deg, rgba(0,0,0,0.15) 0px, rgba(0,0,0,0.15) 1px, transparent 1px, transparent 2px)"}}),s.jsxs("div",{className:"relative z-10 text-center",children:[s.jsx("p",{className:"text-cyan-400 text-2xl font-bold mb-8 uppercase",style:{fontFamily:"monospace",textShadow:"0 0 10px #00ffff"},children:n()}),s.jsx("div",{className:"text-9xl font-black mb-8",style:{color:l===1?"#ff0000":l===0?"#00ffff":"#00ff00",textShadow:l===1?"0 0 30px #ff0000, 0 0 60px #ff0000":"0 0 30px #00ff00, 0 0 60px #00ff00",fontFamily:"monospace",transition:"all 0.3s ease",animation:l===0?"none":"pulse 1s infinite"},children:l>0?l:"GO!"}),s.jsx("div",{className:"border-4 border-green-400 p-8 bg-gray-900 inline-block",style:{boxShadow:"0 0 20px rgba(0,255,0,0.5)"},children:s.jsx("p",{className:"text-green-400 font-bold uppercase",style:{fontFamily:"monospace",textShadow:"0 0 10px #00ff00"},children:"Get Ready!"})}),s.jsx("style",{children:`
          @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
          }
        `})]})]})}function sr(e){const t=e.style.display,l=.75;e.setAttribute("style",`height:${e.offsetWidth*l}px`),e.setAttribute("style",`display:${t}`),e.style.height=String(e.offsetWidth*l)+"px"}function jp({screen:e,gameMode:t,lobbyId:l,error:a,websocket:n,setScreen:i,setGameMode:r,handleRandomPlayer:c,handleHostReq:o,joinLobbyReq:d,resetPlayerStatus:y,gameData:x,tournamentId:m,selectedBracketSize:g,currentUser:v,setTournamentId:b,setGameData:N,setError:f,onTournamentJoined:u,onTournamentCreated:h,onTournamentStarted:j,onTournamentLeft:E,onCreateTournament:_,onBackFromCreate:S,onBackFromJoin:C}){p.useEffect(()=>{const O=document.getElementById("game-ui");if(O!==null)return sr(O),window.addEventListener("resize",()=>{sr(O)}),()=>{removeEventListener("resize",()=>{sr(O)})}},[]);const z=async O=>{(await ee("/api/auth/validate")).ok&&O()};switch(e){case"main":return s.jsx(rp,{onModeSelect:O=>{O==="singleplayer"?i("local"):O==="multiplayer"?z(()=>i("online")):O==="tournament"&&z(()=>i("tournament"))}});case"local":return s.jsx(cp,{onSinglePlayer:()=>{r("singleplayer"),i("countdown")},onMultiPlayer:()=>{r("multiplayer"),i("countdown")},onBack:()=>{r("none"),i("main")}});case"online":return s.jsx(op,{onPlayRandom:c,onHostLobby:()=>{o()},onJoinLobby:()=>i("join-lobby"),onTournament:()=>i("tournament"),onBack:()=>i("main")});case"host-lobby":return s.jsx(up,{lobbyId:l,onGameCreated:O=>{N(O),r("online"),i("ready-room")},onBack:()=>{i("online"),y()}});case"join-lobby":return s.jsx(dp,{onJoin:O=>d(O),onBack:()=>i("online")});case"ready-room":return s.jsx(fp,{gameData:x,websocket:n,gameMode:t,lobbyId:l,currentUser:v,onBothReady:()=>i("countdown"),onBack:()=>{i("online"),y()}});case"tournament":return s.jsx(yp,{tournamentId:m,onTournamentJoined:u,onCreateNew:_,onBack:C});case"create-tournament":return s.jsx(gp,{onTournamentCreated:h,onBack:S});case"tournament-lobby":return s.jsx(pp,{tournamentId:m,maxParticipants:g,websocket:n,onStartTournament:j,onLeaveTournament:E});case"tournament-bracket":return s.jsx(bp,{tournamentId:m,onPlayMatch:async O=>{console.log(" Playing tournament match - Game ID:",O);try{const H=await ee(`/api/games/${O}`);if(!H.ok)throw new Error("Failed to fetch game");const R=await H.json();console.log("Game data:",R.data),r("online"),N(R.data),i("ready-room")}catch(H){console.error("Failed to start match:",H),f(String(H)),i("error")}},onTournamentFinished:()=>{r("none"),b(null),i("main"),y()},currentUserId:v==null?void 0:v.id});case"countdown":return s.jsx(vp,{gameData:x,websocket:n,onCountdownComplete:()=>i("game"),gameMode:t,currentUserId:v==null?void 0:v.id});case"searching":return s.jsx(mp,{onCancel:()=>{r("none"),i("online"),y()}});case"game":return s.jsx(ip,{mode:t,websocket:n});case"timeout":return s.jsx(xp,{onExit:()=>{r("none"),i("main"),y()},onRetry:async()=>{await y(),c()}});case"error":return s.jsx("div",{className:"flex items-center justify-center min-h-screen bg-red-900",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-white text-2xl mb-4",children:a}),s.jsx("button",{onClick:()=>{r("none"),i("main"),y()},className:"bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-4 rounded",children:"Return to Main Menu"})]})});case"websocket-connecting":return s.jsx("div",{className:"flex items-center justify-center min-h-screen bg-black",children:s.jsx("p",{className:"text-cyan-400 text-2xl font-arcade animate-pulse",children:"CONNECTING TO SERVER..."})});case"websocket-closed":return s.jsx("div",{className:"flex items-center justify-center min-h-screen bg-black",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-red-400 text-2xl font-arcade mb-4",children:"CONNECTION LOST"}),s.jsx("button",{onClick:()=>window.location.reload(),className:"bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-4 rounded",children:"Reconnect"})]})})}}function Np(){const[e,t]=p.useState("none"),[l,a]=p.useState("websocket-connecting"),[n,i]=p.useState(null),[r,c]=p.useState(""),[o,d]=p.useState(null),y=p.useRef(null),[x,m]=p.useState(null),[g,v]=p.useState(null);p.useEffect(()=>{(async()=>{try{const D=await ee("/api/users/profile/me");if(!D.ok)throw new Error("Failed to fetch user");const k=await D.json();v(k.data||k),console.log(" Current user loaded:",k)}catch(D){console.error("Failed to fetch current user:",D)}})()},[]),p.useEffect(()=>{const R="Snatcher",D="8081",k="8443",T=localStorage.getItem("token")||"";let U;return window.location.protocol==="https:"?U=`wss://${R}:${k}/ws/${T}`:U=`ws://${R}:${D}`,console.log(" WebSocket connecting to:",U),y.current=new WebSocket(U),y.current.onopen=()=>{a("main"),console.log("[connection opened]")},y.current.onclose=()=>{a("websocket-closed"),console.log("[connection closed]")},y.current.onerror=()=>{a("websocket-closed"),console.log("[error on connection]")},()=>{y.current.close()}},[]),p.useEffect(()=>{if(l!=="searching")return;const R=setInterval(async()=>{var D,k;try{const W=await ee("/api/games/matchmaking");if(!W.ok){const U=await W.json().catch(()=>{});if(console.error("error: MATCHMAKING POLL: ",U),U!=null&&U.message)throw d(U.message),a("error"),new Error("failed to poll matchmaking status")}const T=await W.json();(D=T.data)!=null&&D.id?(console.log("Match found! Going to ready room",T),i(T.data),N("online"),a("ready-room")):((k=T.data)==null?void 0:k.status)==="idle"&&(console.log("data is idle.... TIMEOUT PROBABLY OCCURED"),a("timeout"))}catch(W){console.error(W)}},5e3);return()=>clearInterval(R)},[l]);const b=p.useRef(!1);p.useEffect(()=>{l==="game"&&e==="online"&&n&&!b.current&&(b.current=!0,console.log(" Sending START_GAME:",n.id),y.current.send(JSON.stringify({type:"START_GAME",game_id:n.id,player1_id:n.player1_id,player2_id:n.player2_id}))),(l==="main"||l==="online")&&(b.current=!1)},[l,e,n]);function N(R){console.log("Selected mode: ",R),t(R)}const f=async()=>{a("searching");try{const R=await ee("/api/games/matchmaking",{method:"POST"});if(!R.ok){const D=await R.json().catch(()=>{});if(console.log("errordata: ",D),D!=null&&D.message)throw d(D.message),a("error"),new Error("failed to join queue")}}catch(R){console.log(R),N("none")}};async function u(){try{const R=await ee("/api/games/host",{method:"POST"});if(!R.ok){const k=await R.json().catch(()=>{});if(console.log("errordata: ",k),k!=null&&k.message)throw d(k.message),a("error"),new Error("failed to create lobbyId")}const D=await R.json();console.log("data: ",D),c(D.data.lobby_id),a("host-lobby")}catch(R){console.log(R),N("none")}}async function h(R){var D;c(R);try{const k=await ee("/api/games/joinlobby",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({lobby_id:R})});if(!k.ok){const T=await k.json().catch(()=>{});throw T!=null&&T.message&&alert(T.message),new Error("failed to join lobby")}const W=await k.json();(D=W.data)!=null&&D.id&&(console.log(W),i(W.data),N("online"),a("ready-room"))}catch(k){console.error(k),N("none")}}async function j(){console.log("resetting the player_status to none");try{if(!(await ee("/api/games/matchmaking/cancel",{method:"PUT"})).ok)throw new Error("could not reset user status on backend..");t("none"),a("online")}catch(R){console.error(R),t("none"),a("online")}}const E=R=>{console.log(" Joined tournament:",R),m(R),a("tournament-lobby")},_=R=>{console.log(" Created tournament:",R),m(R),a("tournament-lobby")},S=()=>{console.log(" Tournament started"),a("tournament-bracket")},C=()=>{console.log(" Left tournament"),m(null),a("online")},z=()=>{a("create-tournament")},O=()=>{a("tournament")},H=()=>{a("tournament")};return s.jsxs("main",{className:"w-80% m-auto my-4",id:"main",children:[s.jsx("h1",{className:"text-4xl font-bold text-center mb-8",children:"Pong Game"}),s.jsx(jp,{screen:l,gameMode:e,lobbyId:r,error:o,websocket:y,gameData:n,tournamentId:x,selectedBracketSize:0,currentUser:g,setScreen:a,setGameMode:t,setTournamentId:m,setGameData:i,setError:d,handleRandomPlayer:f,handleHostReq:u,joinLobbyReq:h,resetPlayerStatus:j,onTournamentJoined:E,onTournamentCreated:_,onTournamentStarted:S,onTournamentLeft:C,onCreateTournament:z,onBackFromCreate:O,onBackFromJoin:H})]})}const Sp=()=>{const e=[{id:1,username:"Player1",wins:15,losses:3,rank:1},{id:2,username:"Player2",wins:12,losses:5,rank:2},{id:3,username:"Player3",wins:10,losses:7,rank:3},{id:4,username:"Player4",wins:8,losses:9,rank:4},{id:5,username:"Player5",wins:6,losses:11,rank:5}];return s.jsxs("div",{className:"p-6",children:[s.jsx("h1",{className:"text-4xl font-bold text-center mb-8 text-white",children:"Leaderboard"}),s.jsx("div",{className:"max-w-4xl mx-auto",children:s.jsxs("div",{className:"bg-white/50 backdrop-blur-sm rounded-lg shadow-md overflow-hidden border border-white/20",children:[s.jsx("div",{className:"bg-white/30 backdrop-blur-sm px-6 py-4 border-b border-white/20",children:s.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Top Players"})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-white/20 backdrop-blur-sm",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Rank"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Player"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Wins"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Losses"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Win Rate"})]})}),s.jsx("tbody",{className:"divide-y divide-white/20",children:e.map(t=>s.jsxs("tr",{className:"hover:bg-white/20 backdrop-blur-sm",children:[s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["#",t.rank]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:t.username}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-green-600",children:t.wins}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-red-600",children:t.losses}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[(t.wins/(t.wins+t.losses)*100).toFixed(1),"%"]})]},t.id))})]})})]})})]})},wp=({user:e})=>{const[t,l]=p.useState(null),[a,n]=p.useState(!0);p.useEffect(()=>{e&&!e.is_guest&&i()},[e]);const i=async()=>{n(!0);const o=await sc();console.log("Profile response:",o),o&&l(o),n(!1)};if(e!=null&&e.is_guest)return s.jsx(pm,{to:"/",replace:!0});if(a&&!t)return s.jsxs("div",{className:"p-6 text-center",children:[s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"bg-gray-200 h-8 w-48 mx-auto mb-4 rounded"}),s.jsx("div",{className:"bg-gray-200 h-20 w-20 mx-auto mb-4 rounded-full"}),s.jsx("div",{className:"bg-gray-200 h-4 w-32 mx-auto mb-2 rounded"})]}),s.jsx("p",{className:"text-gray-500 mt-4",children:"Loading profile..."})]});const r=t||e;if(!r)return s.jsx("div",{className:"p-6 text-center text-gray-500",children:"No user data available"});const c=oo(r.avatar_url);return s.jsxs("div",{className:"p-6",children:[s.jsx("div",{className:"bg-white rounded-lg shadow border border-gray-200 p-6 mb-6",children:s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-24 h-24 bg-blue-500 rounded-full flex items-center justify-center overflow-hidden",children:c?s.jsx("img",{src:c,alt:"Avatar",className:"w-full h-full object-cover"}):s.jsx("span",{className:"text-white text-3xl font-bold",children:r.username.charAt(0).toUpperCase()})})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:r.display_name||r.username}),r.nickname&&s.jsxs("p",{className:"text-gray-600 text-lg mt-1",children:["@",r.nickname]}),s.jsxs("p",{className:"text-gray-500 mt-1",children:["Username: ",r.username]}),r.email&&s.jsx("p",{className:"text-gray-500 mt-1",children:r.email})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow border border-gray-200",children:[s.jsx("h3",{className:"text-xl font-semibold mb-4 text-gray-900",children:"Game Statistics"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded",children:[s.jsx("span",{className:"text-gray-700 font-medium",children:"Wins"}),s.jsx("span",{className:"text-green-600 font-bold text-xl",children:r.wins||0})]}),s.jsxs("div",{className:"flex justify-between items-center p-3 bg-red-50 rounded",children:[s.jsx("span",{className:"text-gray-700 font-medium",children:"Losses"}),s.jsx("span",{className:"text-red-600 font-bold text-xl",children:r.losses||0})]}),s.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded",children:[s.jsx("span",{className:"text-gray-700 font-medium",children:"Total Games"}),s.jsx("span",{className:"text-blue-600 font-bold text-xl",children:r.total_games||0})]}),s.jsxs("div",{className:"flex justify-between items-center p-3 bg-purple-50 rounded",children:[s.jsx("span",{className:"text-gray-700 font-medium",children:"Win Rate"}),s.jsx("span",{className:"text-purple-600 font-bold text-xl",children:r.winRate||"0%"})]})]}),(r.total_games||0)===0&&s.jsx("p",{className:"text-center text-gray-500 mt-4 text-sm",children:"No games played yet"})]}),s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow border border-gray-200",children:[s.jsx("h3",{className:"text-xl font-semibold mb-4 text-gray-900",children:"Account Information"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"p-3 bg-gray-50 rounded",children:[s.jsx("div",{className:"text-sm text-gray-600",children:"User ID"}),s.jsx("div",{className:"font-mono text-gray-900",children:r.id})]}),s.jsxs("div",{className:"p-3 bg-gray-50 rounded",children:[s.jsx("div",{className:"text-sm text-gray-600",children:"Username"}),s.jsx("div",{className:"font-medium text-gray-900",children:r.username})]}),r.email&&s.jsxs("div",{className:"p-3 bg-gray-50 rounded",children:[s.jsx("div",{className:"text-sm text-gray-600",children:"Email"}),s.jsx("div",{className:"font-medium text-gray-900",children:r.email})]}),r.nickname&&s.jsxs("div",{className:"p-3 bg-gray-50 rounded",children:[s.jsx("div",{className:"text-sm text-gray-600",children:"Nickname"}),s.jsxs("div",{className:"font-medium text-gray-900",children:["@",r.nickname]})]}),r.display_name&&s.jsxs("div",{className:"p-3 bg-gray-50 rounded",children:[s.jsx("div",{className:"text-sm text-gray-600",children:"Display Name"}),s.jsx("div",{className:"font-medium text-gray-900",children:r.display_name})]})]})]})]})]})};function Ep({onSuccess:e}){const[t,l]=p.useState(null),[a,n]=p.useState(!1),[i,r]=p.useState(""),[c,o]=p.useState(""),[d,y]=p.useState(""),x=async()=>{n(!0),r("");try{const g=localStorage.getItem("token");if(!g){r("You must be logged in to setup 2FA!"),n(!1);return}const v=await fetch("/api/auth/2fa/setup",{method:"POST",headers:{Authorization:`Bearer ${g}`}}),b=await v.json();if(v.ok&&b.success){l(b.qrCode),o(b.message);//! add this in later, delete current message
}else r(b.error||"Failed to setup 2FA")}catch{r("An error occurred while setting up 2FA")}n(!1)},m=async()=>{if(d.length!==6){r("Please enter a 6-digit code");return}n(!0),r("");try{const g=localStorage.getItem("token"),v=await fetch("/api/auth/2fa/enable",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${g}`},body:JSON.stringify({code:d})}),b=await v.json();v.ok&&b.success?(o(" 2FA successfully enabled!"),l(null),y(""),e&&e()):r(b.error||"Invalid code. Please try again.")}catch(g){r("Failed to verify code"),console.error("2FA verification error:",g)}finally{n(!1)}};return s.jsxs("div",{className:"space-y-4",children:[t?s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[s.jsx("p",{className:"text-sm text-gray-700 mb-3",children:c}),s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("img",{src:t,alt:"2FA QR Code",className:"border-4 border-white shadow-lg rounded"})}),s.jsxs("div",{className:"space-y-3 mt-4",children:[s.jsx("p",{className:"text-sm text-gray-700 font-semibold",children:"Enter the code from your authenticator app:"}),s.jsx("input",{type:"text",value:d,onChange:g=>y(g.target.value.replace(/\D/g,"").slice(0,6)),placeholder:"000000",maxLength:6,inputMode:"numeric",className:"w-full px-4 py-2 text-center text-xl tracking-widest border rounded-md focus:ring-2 focus:ring-blue-500"}),s.jsx("button",{onClick:m,disabled:a||d.length!==6,className:"w-full bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600 disabled:bg-gray-400 transition-colors",children:a?"Verifying...":"Verify & Enable 2FA"})]})]})}):s.jsx("button",{onClick:x,disabled:a,className:"w-full bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 disabled:bg-gray-400 transition-colors",children:a?"Generating QR Code...":"Generate QR Code"}),i&&s.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:s.jsx("p",{className:"text-red-700 text-sm",children:i})})]})}const Tp=({user:e,onUserUpdate:t})=>{const[l,a]=p.useState("profile"),[n,i]=p.useState(!1),[r,c]=p.useState(null),[o,d]=p.useState(!1),[y,x]=p.useState(!1),[m,g]=p.useState(""),[v,b]=p.useState(!1),[N,f]=p.useState(!1),[u,h]=p.useState(!1),[j,E]=p.useState(""),[_,S]=p.useState(""),[C,z]=p.useState(""),[O,H]=p.useState({display_name:"",nickname:"",email:""}),[R,D]=p.useState({current_password:"",new_password:"",confirm_password:""}),[k,W]=p.useState(null),[T,U]=p.useState(null),[L,I]=p.useState(null);p.useEffect(()=>{e&&H({display_name:e.display_name||"",nickname:e.nickname||"",email:e.email||""})},[e]);const G=(M,Z)=>{c({type:M,text:Z}),setTimeout(()=>c(null),5e3)},mt=async M=>{M.preventDefault(),i(!0);try{const Z={};L==="display_name"?Z.display_name=O.display_name:L==="nickname"?Z.nickname=O.nickname:L==="email"&&(Z.email=O.email);const Y=await ee("/api/users/profile/me",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(Z)}),pi=await Y.json();Y.ok?(G("success","Profile updated successfully"),I(null),t&&t({...e,...Z})):G("error",pi.error||"Failed to update profile")}catch{G("error","Network error. Please try again.")}finally{i(!1)}},Kt=async M=>{if(M.preventDefault(),R.new_password!==R.confirm_password){G("error","New passwords do not match");return}if(R.new_password.length<8){G("error","Password must be at least 8 characters long");return}i(!0);try{const Z=await ee("/api/users/change-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({current_password:R.current_password,new_password:R.new_password})}),Y=await Z.json();Z.ok?(G("success","Password changed successfully"),D({current_password:"",new_password:"",confirm_password:""})):G("error",Y.error||"Failed to change password")}catch{G("error","Network error. Please try again.")}finally{i(!1)}},Ft=async()=>{if(k){i(!0);try{const M=new FormData;M.append("file",k);const Z=await ee("/api/users/profile/avatar",{method:"POST",body:M}),Y=await Z.json();Z.ok?(G("success","Avatar uploaded successfully"),W(null),U(null),t&&t({...e,avatar_url:Y.avatar_url})):G("error",Y.error||"Failed to upload avatar")}catch{G("error","Network error. Please try again.")}finally{i(!1)}}},ht=M=>{var Y;const Z=(Y=M.target.files)==null?void 0:Y[0];if(Z){if(Z.type!=="image/jpg"){G("error","Only JPG files are allowed"),M.target.value="";return}if(Z.size>5*1024*1024){G("error","File size must be less than 5MB"),M.target.value="";return}W(Z),U(URL.createObjectURL(Z))}},$t=async M=>{if(M.preventDefault(),m.length!==6){G("error","Please enter a valid 6-digit code");return}i(!0);try{const Z=await ee("/api/auth/2fa/disable",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:m})}),Y=await Z.json();Z.ok?(G("success","2FA disabled successfully"),x(!1),g(""),t&&t({...e,two_factor_enabled:!1})):G("error",Y.error||"Failed to disable 2FA")}catch{G("error","Network error. Please try again.")}finally{i(!1)}},yi=async()=>{console.log(" handleAnonymizeProfile called"),i(!0);try{console.log(" Sending request to /api/users/anonymize");const M=await ee("/api/users/anonymize",{method:"POST"});console.log(" Response status:",M.status);const Z=await M.json();console.log(" Response data:",Z),M.ok?(G("success","Profile anonymized successfully. Logging out..."),t&&t({...e,is_anonymous:!0})):G("error",Z.error||"Failed to anonymize profile")}catch(M){console.error(" Error:",M),G("error","Network error. Please try again.")}finally{i(!1),b(!1)}},A=async M=>{if(M.preventDefault(),!j){G("error","Please enter your password to confirm deletion");return}i(!0);try{const Z=await ee("/api/users/me",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:j})});if(Z.ok)S(""),z("Account deleted. Going back to the login page..."),setTimeout(()=>{localStorage.removeItem("token"),window.location.href="/"},2e3);else{const Y=await Z.json();S(Y.error||"Failed to delete account")}}catch{S("Network error. Please try again.")}finally{i(!1)}};if(!e)return s.jsx("div",{className:"p-6 text-center",children:s.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6 max-w-md mx-auto",children:[s.jsx("h2",{className:"text-xl font-semibold text-yellow-800 mb-2",children:"Authentication Required"}),s.jsx("p",{className:"text-yellow-700 mb-4",children:"Please log in to access settings."}),s.jsx("button",{onClick:()=>window.location.reload(),className:"bg-yellow-600 text-white px-4 py-2 rounded hover:bg-yellow-700",children:"Go to Login"})]})});if(e.is_guest)return s.jsx(pm,{to:"/",replace:!0});const X=oo(e.avatar_url);return s.jsxs("div",{className:"p-6",children:[r&&s.jsx("div",{className:`mb-6 p-4 rounded-lg ${r.type==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:r.text}),u&&s.jsx(nc,{isModal:!0,lightMode:!0,onClose:()=>h(!1)}),N&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-xl max-w-md w-full",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full mx-auto mb-4 flex items-center justify-center",children:s.jsx("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})}),s.jsx("p",{className:"text-2xl font-bold text-red-600 mb-2",children:"!FINAL WARNING!"}),s.jsx("h2",{className:"text-2xl font-bold text-red-600 mb-2",children:"Delete Account"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"This action is permanent and cannot be undone"})]}),s.jsxs("div",{className:"bg-red-50 rounded-lg p-4 mb-6",children:[s.jsx("h3",{className:"font-semibold text-red-900 mb-3",children:"This will permanently:"}),s.jsxs("ul",{className:"space-y-2 text-sm text-red-800",children:[s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("svg",{className:"w-5 h-5 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),s.jsx("span",{children:"Delete your account and all data"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("svg",{className:"w-5 h-5 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),s.jsx("span",{children:"Remove all game history"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("svg",{className:"w-5 h-5 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),s.jsx("span",{children:"Clear all profile information"})]})]})]}),s.jsxs("form",{onSubmit:A,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"If you are still absolutely sure, enter your password to confirm"}),s.jsx("input",{type:"password",value:j,onChange:M=>{E(M.target.value),S("")},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Your password",required:!0,disabled:!!C}),_&&s.jsx("p",{className:"mt-2 text-sm text-red-600",role:"alert",children:_}),C&&s.jsx("p",{className:"mt-2 text-sm text-green-600",role:"status",children:C})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{type:"submit",disabled:n||!j||!!C,className:"flex-1 bg-red-500 text-white py-3 px-4 rounded-lg font-medium hover:bg-red-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:n?"Deleting...":"Delete Account"}),s.jsx("button",{type:"button",onClick:()=>{f(!1),E(""),S(""),z("")},disabled:n,className:"flex-1 bg-gray-200 text-gray-800 py-3 px-4 rounded-lg font-medium hover:bg-gray-300 transition-colors disabled:opacity-50",children:"Cancel"})]})]})]})}),v&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-xl max-w-md w-full",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full mx-auto mb-4 flex items-center justify-center",children:s.jsx("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),s.jsx("h2",{className:"text-2xl font-bold text-red-600 mb-2",children:"Anonymize Profile"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"This action is permanent and cannot be undone"})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"This will:"}),s.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("svg",{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),s.jsx("span",{children:"Hide your personal information"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("svg",{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),s.jsx("span",{children:"Permanently restrict chat access"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("svg",{className:"w-5 h-5 text-green-500 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),s.jsx("span",{children:"Keep your game statistics"})]})]})]}),s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 mb-6",children:s.jsx("p",{className:"text-red-800 text-sm font-semibold text-center",children:" This cannot be reversed!"})}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:yi,disabled:n,className:"flex-1 bg-red-500 text-white py-3 px-4 rounded-lg font-medium hover:bg-red-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:n?"Processing...":"Yes, Anonymize"}),s.jsx("button",{onClick:()=>b(!1),disabled:n,className:"flex-1 bg-gray-200 text-gray-800 py-3 px-4 rounded-lg font-medium hover:bg-gray-300 transition-colors",children:"Cancel"})]})]})}),o&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl max-w-md w-full",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h2",{className:"text-xl font-bold",children:"Enable Two-Factor Authentication"}),s.jsx("button",{onClick:()=>d(!1),className:"text-gray-500 hover:text-gray-700 text-2xl leading-none",children:""})]}),s.jsx(Ep,{onSuccess:()=>{d(!1),G("success","2FA enabled successfully!"),t&&e&&t({...e,two_factor_enabled:!0})}})]})}),y&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl max-w-md w-full",children:[s.jsx("h2",{className:"text-xl font-bold mb-4",children:"Disable Two-Factor Authentication"}),s.jsxs("form",{onSubmit:$t,children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Enter your 6-digit code"}),s.jsx("input",{type:"text",value:m,onChange:M=>g(M.target.value.replace(/\D/g,"").slice(0,6)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"000000",maxLength:6})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{type:"submit",disabled:n||m.length!==6,className:"flex-1 bg-red-500 text-white py-2 px-4 rounded hover:bg-red-600 disabled:opacity-50",children:n?"Disabling...":"Disable 2FA"}),s.jsx("button",{type:"button",onClick:()=>{x(!1),g("")},className:"flex-1 bg-gray-500 text-white py-2 px-4 rounded hover:bg-gray-600",children:"Cancel"})]})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[s.jsx("div",{className:"lg:col-span-1",children:s.jsxs("nav",{className:"bg-white rounded-lg shadow border border-gray-200 overflow-hidden",children:[s.jsx("button",{onClick:()=>a("profile"),className:`w-full px-4 py-3 text-left transition-colors border-l-4 ${l==="profile"?"bg-blue-50 border-blue-500 text-blue-700":"border-transparent text-gray-700 hover:bg-gray-50"}`,children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:1.5,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"})}),s.jsx("span",{className:"font-medium",children:"Profile"})]})}),s.jsx("button",{onClick:()=>a("security"),className:`w-full px-4 py-3 text-left transition-colors border-l-4 ${l==="security"?"bg-blue-50 border-blue-500 text-blue-700":"border-transparent text-gray-700 hover:bg-gray-50"}`,children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:1.5,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"})}),s.jsx("span",{className:"font-medium",children:"Security"})]})}),s.jsx("button",{onClick:()=>a("privacy"),className:`w-full px-4 py-3 text-left transition-colors border-l-4 ${l==="privacy"?"bg-blue-50 border-blue-500 text-blue-700":"border-transparent text-gray-700 hover:bg-gray-50"}`,children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:1.5,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z"})}),s.jsx("span",{className:"font-medium",children:"Privacy & Data"})]})})]})}),s.jsxs("div",{className:"lg:col-span-3",children:[l==="profile"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow border border-gray-200",children:[s.jsx("div",{className:"p-4 border-b border-gray-200",children:s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Avatar"})}),s.jsx("div",{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsx("div",{className:"w-20 h-20 bg-blue-500 rounded-full flex items-center justify-center overflow-hidden flex-shrink-0",children:T?s.jsx("img",{src:T,alt:"Preview",className:"w-full h-full object-cover"}):X?s.jsx("img",{src:X,alt:"Avatar",className:"w-full h-full object-cover"}):s.jsx("span",{className:"text-white text-2xl font-bold",children:e.username.charAt(0).toUpperCase()})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("input",{type:"file",accept:".jpg,image/jpg",onChange:ht,className:"hidden",id:"avatar-upload"}),s.jsx("label",{htmlFor:"avatar-upload",className:"inline-block bg-gray-100 hover:bg-gray-200 text-gray-800 px-4 py-2 rounded cursor-pointer transition-colors",children:"Choose File"}),k&&s.jsx("button",{onClick:Ft,disabled:n,className:"ml-2 bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded disabled:opacity-50",children:n?"Uploading...":"Upload"}),s.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"JPG Max 5MB."})]})]})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow border border-gray-200",children:[s.jsx("div",{className:"p-4 border-b border-gray-200",children:s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Profile Information"})}),s.jsxs("div",{className:"p-4 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Display Name"}),L==="display_name"?s.jsxs("form",{onSubmit:mt,className:"flex gap-2",children:[s.jsx("input",{type:"text",value:O.display_name,onChange:M=>H({...O,display_name:M.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"}),s.jsx("button",{type:"submit",disabled:n,className:"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 disabled:opacity-50",children:"Save"}),s.jsx("button",{type:"button",onClick:()=>I(null),className:"bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600",children:"Cancel"})]}):s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-900",children:e.display_name||"Not set"}),s.jsx("button",{onClick:()=>I("display_name"),className:"text-blue-500 hover:text-blue-600 text-sm",children:"Edit"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nickname"}),L==="nickname"?s.jsxs("form",{onSubmit:mt,className:"flex gap-2",children:[s.jsx("input",{type:"text",value:O.nickname,onChange:M=>H({...O,nickname:M.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"}),s.jsx("button",{type:"submit",disabled:n,className:"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 disabled:opacity-50",children:"Save"}),s.jsx("button",{type:"button",onClick:()=>I(null),className:"bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600",children:"Cancel"})]}):s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-900",children:e.nickname||"Not set"}),s.jsx("button",{onClick:()=>I("nickname"),className:"text-blue-500 hover:text-blue-600 text-sm",children:"Edit"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),L==="email"?s.jsxs("form",{onSubmit:mt,className:"flex gap-2",children:[s.jsx("input",{type:"email",value:O.email,onChange:M=>H({...O,email:M.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"}),s.jsx("button",{type:"submit",disabled:n,className:"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 disabled:opacity-50",children:"Save"}),s.jsx("button",{type:"button",onClick:()=>I(null),className:"bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600",children:"Cancel"})]}):s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-900",children:e.email||"Not set"}),s.jsx("button",{onClick:()=>I("email"),className:"text-blue-500 hover:text-blue-600 text-sm",children:"Edit"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Username"}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-900",children:e.username}),s.jsx("span",{className:"text-xs text-gray-500",children:"Cannot be changed"})]})]})]})]})]}),l==="security"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow border border-gray-200",children:[s.jsx("div",{className:"p-4 border-b border-gray-200",children:s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Change Password"})}),s.jsx("div",{className:"p-4",children:s.jsxs("form",{onSubmit:Kt,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Current Password"}),s.jsx("input",{type:"password",value:R.current_password,onChange:M=>D({...R,current_password:M.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"New Password"}),s.jsx("input",{type:"password",value:R.new_password,onChange:M=>D({...R,new_password:M.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0,minLength:8})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm New Password"}),s.jsx("input",{type:"password",value:R.confirm_password,onChange:M=>D({...R,confirm_password:M.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0,minLength:8})]}),s.jsx("button",{type:"submit",disabled:n,className:"w-full bg-blue-500 text-white py-2 px-4 rounded-lg hover:bg-blue-600 disabled:opacity-50",children:n?"Changing Password...":"Change Password"})]})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow border border-gray-200",children:[s.jsxs("div",{className:"p-4 border-b border-gray-200",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Two-Factor Authentication"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Add an extra layer of security to your account"})]}),s.jsx("div",{className:"p-4",children:e.two_factor_enabled?s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center",children:s.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:"2FA Enabled"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Your account is protected"})]})]}),s.jsx("button",{onClick:()=>x(!0),className:"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg transition-colors",children:"Disable"})]}):s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-gray-100 rounded-full flex items-center justify-center",children:s.jsx("svg",{className:"w-6 h-6 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:1.5,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:"2FA Disabled"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Enable for better security"})]})]}),s.jsx("button",{onClick:()=>d(!0),className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg transition-colors",children:"Enable"})]})})]})]}),l==="privacy"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow border border-gray-200",children:[s.jsx("div",{className:"p-4 border-b border-gray-200",children:s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Privacy policy Ft_transcendence"})}),s.jsx("div",{className:"p-6",children:s.jsxs("p",{className:"text-sm text-gray-700 leading-relaxed",children:["If you want to read the privacy policy,"," ",s.jsx("button",{type:"button",onClick:()=>h(!0),className:"text-sm text-blue-600 hover:text-blue-500 font-medium underline focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-1 rounded",children:"click here"}),"."]})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow border border-gray-200",children:[s.jsx("div",{className:"p-4 border-b border-gray-200",children:s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Anonymous Mode"})}),s.jsx("div",{className:"p-6",children:e.is_anonymous?s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex gap-3",children:[s.jsx("svg",{className:"w-6 h-6 text-green-600 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-green-900 font-semibold mb-2",children:" Anonymous Mode Enabled"}),s.jsx("p",{className:"text-sm text-green-800 leading-relaxed",children:"Your profile is now in anonymous mode. Your personal information has been hidden and chat access is permanently restricted."})]})]})}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Current Status:"}),s.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-green-500 font-bold",children:""}),s.jsx("span",{children:"Personal information is hidden"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-green-500 font-bold",children:""}),s.jsx("span",{children:"Chat access is permanently restricted"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-blue-500 font-bold",children:""}),s.jsx("span",{children:"Game statistics are preserved"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-blue-500 font-bold",children:""}),s.jsx("span",{children:"You can still play games"})]})]})]}),s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:s.jsx("p",{className:"text-red-800 text-sm text-center font-semibold",children:" This action cannot be reversed"})})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6",children:s.jsxs("div",{className:"flex gap-3",children:[s.jsx("svg",{className:"w-6 h-6 text-yellow-600 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-yellow-900 font-semibold mb-2",children:"Warning: Permanent Action"}),s.jsxs("p",{className:"text-sm text-yellow-800 leading-relaxed",children:["Enabling anonymous mode is ",s.jsx("strong",{children:"permanent and cannot be reversed"}),". Your profile will be hidden, personal information removed, and chat access will be permanently restricted."]})]})]})}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"What happens:"}),s.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-red-500 font-bold",children:""}),s.jsx("span",{children:"Personal information (email, display name) will be removed"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-red-500 font-bold",children:""}),s.jsx("span",{children:"Chat access will be permanently restricted"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-green-500 font-bold",children:""}),s.jsx("span",{children:"Game statistics will be preserved"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-green-500 font-bold",children:""}),s.jsx("span",{children:"You can still play games"})]})]})]}),s.jsxs("button",{onClick:()=>b(!0),className:"w-full bg-red-500 hover:bg-red-600 text-white px-6 py-3 rounded-lg font-medium transition-colors flex items-center justify-center gap-2",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),"Enable Anonymous Mode"]})]})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow border border-gray-200",children:[s.jsx("div",{className:"p-4 border-b border-gray-200",children:s.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:"Delete Account"})}),s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"bg-red-50 rounded-lg p-4",children:[s.jsx("p",{className:"text-sm text-red-800 mb-4",children:"Permanently delete your account and all associated data. This action cannot be undone."}),s.jsxs("button",{onClick:()=>{f(!0),S(""),z("")},className:"w-full bg-red-500 hover:bg-red-600 text-white px-6 py-3 rounded-lg font-medium transition-colors flex items-center justify-center gap-2",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Delete Account"]})]})})]})]})]})]})]})},zm=()=>s.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-9xl font-bold text-gray-300",children:"404"}),s.jsx("h2",{className:"text-4xl font-bold text-gray-700 mb-4",children:"Page Not Found"}),s.jsx("p",{className:"text-gray-600 mb-8",children:"Sorry, the page you're looking for doesn't exist."}),s.jsx("button",{onClick:()=>window.location.href="/",className:"bg-blue-500 text-white px-6 py-3 rounded-lg hover:bg-blue-600 transition-colors",children:"Go Home"})]})});function Ap(){const{username:e}=uy();return e?s.jsx(By,{username:e}):s.jsx(zm,{})}function Cp({user:e,onLogin:t,onLogout:l}){const a=hm(),n=gi(),i=()=>{const o=n.pathname;return o==="/"?"home":o.startsWith("/user/")?"userProfile":o==="/game"?"game":o==="/leaderboard"?"leaderboard":o==="/profile"?"profile":o==="/settings"?"settings":"home"},r=o=>{a(o==="home"?"/":`/${o}`)},c=o=>{a(`/user/${o}`)};return s.jsx(Uy,{user:e,currentView:i(),setCurrentView:r,onLogin:t,onLogout:l,navigateToUserProfile:c,children:s.jsx(Ey,{})})}function Op(){const[e,t]=p.useState(!1),[l,a]=p.useState(!0),[n,i]=p.useState(null),[r,c]=p.useState(!0);p.useEffect(()=>{o()},[]),p.useEffect(()=>{const x=()=>{document.visibilityState==="visible"&&o()};return document.addEventListener("visibilitychange",x),()=>document.removeEventListener("visibilitychange",x)},[]),p.useEffect(()=>{const x=()=>{i(null),t(!1)};return window.addEventListener("auth:unauthorized",x),()=>window.removeEventListener("auth:unauthorized",x)},[]);const o=async()=>{try{if(!localStorage.getItem("token")){c(!1);return}const m=await ee("/api/auth/validate");if(m.ok){const g=await m.json();i(g.user),t(!0);const v=await sc();v&&i(b=>b?{...b,...v}:v)}else localStorage.removeItem("token"),i(null),t(!1)}catch(x){console.error("Session check failed:",x)}c(!1)},d=async(x,m)=>{localStorage.setItem("token",m),i(x),t(!0);const g=await sc();g&&i(v=>v?{...v,...g}:g)},y=async()=>{try{const x=localStorage.getItem("token");x&&await fetch("/api/auth/logout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:x})})}catch(x){console.error("Logout failed:",x)}localStorage.removeItem("token"),i(null),t(!1)};return r?s.jsx("div",{className:"min-h-screen bg-gradient-to-b from-slate-800 via-blue-950 to-slate-950 flex items-center justify-center",children:s.jsx("div",{className:"text-xl text-white",children:"Loading..."})}):e?s.jsx(zy,{children:s.jsx("div",{className:"min-h-screen bg-gradient-to-b from-slate-800 via-blue-950 to-slate-950",children:s.jsx(Ay,{children:s.jsxs(Mt,{path:"/",element:s.jsx(Cp,{user:n,onLogin:d,onLogout:y}),children:[s.jsx(Mt,{index:!0,element:s.jsx(Hy,{user:n})}),s.jsx(Mt,{path:"/game",element:s.jsx(Np,{})}),s.jsx(Mt,{path:"/leaderboard",element:s.jsx(Sp,{})}),s.jsx(Mt,{path:"/profile",element:s.jsx(wp,{user:n})}),s.jsx(Mt,{path:"/settings",element:s.jsx(Tp,{user:n,onUserUpdate:i})}),s.jsx(Mt,{path:"/user/:username",element:s.jsx(Ap,{})}),s.jsx(Mt,{path:"*",element:s.jsx(zm,{})})]})})})}):s.jsx(Ly,{onLoginSuccess:d,children:l?s.jsx(jm,{onLoginSuccess:d,onSwitchToRegister:()=>a(!1),isInPanel:!0}):s.jsx(Nm,{onSwitchToLogin:()=>a(!0),isInPanel:!0})})}Mg.createRoot(document.getElementById("root")).render(s.jsx(ud.StrictMode,{children:s.jsx(Op,{})}));
