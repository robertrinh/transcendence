function Mm(e,t){for(var l=0;l<t.length;l++){const a=t[l];if(typeof a!="string"&&!Array.isArray(a)){for(const n in a)if(n!=="default"&&!(n in e)){const i=Object.getOwnPropertyDescriptor(a,n);i&&Object.defineProperty(e,n,i.get?i:{enumerable:!0,get:()=>a[n]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const r of i.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&a(r)}).observe(document,{childList:!0,subtree:!0});function l(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(n){if(n.ep)return;n.ep=!0;const i=l(n);fetch(n.href,i)}})();function Iu(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ed={exports:{}},Ws={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rm=Symbol.for("react.transitional.element"),Um=Symbol.for("react.fragment");function td(e,t,l){var a=null;if(l!==void 0&&(a=""+l),t.key!==void 0&&(a=""+t.key),"key"in t){l={};for(var n in t)n!=="key"&&(l[n]=t[n])}else l=t;return t=l.ref,{$$typeof:Rm,type:e,key:a,ref:t!==void 0?t:null,props:l}}Ws.Fragment=Um;Ws.jsx=td;Ws.jsxs=td;ed.exports=Ws;var s=ed.exports,ld={exports:{}},H={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rc=Symbol.for("react.transitional.element"),km=Symbol.for("react.portal"),Dm=Symbol.for("react.fragment"),Lm=Symbol.for("react.strict_mode"),Bm=Symbol.for("react.profiler"),Hm=Symbol.for("react.consumer"),Ym=Symbol.for("react.context"),Gm=Symbol.for("react.forward_ref"),qm=Symbol.for("react.suspense"),Vm=Symbol.for("react.memo"),ad=Symbol.for("react.lazy"),Xm=Symbol.for("react.activity"),fo=Symbol.iterator;function Qm(e){return e===null||typeof e!="object"?null:(e=fo&&e[fo]||e["@@iterator"],typeof e=="function"?e:null)}var nd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},sd=Object.assign,id={};function Ma(e,t,l){this.props=e,this.context=t,this.refs=id,this.updater=l||nd}Ma.prototype.isReactComponent={};Ma.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ma.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function rd(){}rd.prototype=Ma.prototype;function cc(e,t,l){this.props=e,this.context=t,this.refs=id,this.updater=l||nd}var oc=cc.prototype=new rd;oc.constructor=cc;sd(oc,Ma.prototype);oc.isPureReactComponent=!0;var mo=Array.isArray;function rr(){}var ue={H:null,A:null,T:null,S:null},cd=Object.prototype.hasOwnProperty;function uc(e,t,l){var a=l.ref;return{$$typeof:rc,type:e,key:t,ref:a!==void 0?a:null,props:l}}function Zm(e,t){return uc(e.type,t,e.props)}function dc(e){return typeof e=="object"&&e!==null&&e.$$typeof===rc}function Jm(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(l){return t[l]})}var ho=/\/+/g;function bi(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Jm(""+e.key):t.toString(36)}function Fm(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(rr,rr):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function Pl(e,t,l,a,n){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var r=!1;if(e===null)r=!0;else switch(i){case"bigint":case"string":case"number":r=!0;break;case"object":switch(e.$$typeof){case rc:case km:r=!0;break;case ad:return r=e._init,Pl(r(e._payload),t,l,a,n)}}if(r)return n=n(e),r=a===""?"."+bi(e,0):a,mo(n)?(l="",r!=null&&(l=r.replace(ho,"$&/")+"/"),Pl(n,t,l,"",function(u){return u})):n!=null&&(dc(n)&&(n=Zm(n,l+(n.key==null||e&&e.key===n.key?"":(""+n.key).replace(ho,"$&/")+"/")+r)),t.push(n)),1;r=0;var c=a===""?".":a+":";if(mo(e))for(var o=0;o<e.length;o++)a=e[o],i=c+bi(a,o),r+=Pl(a,t,l,i,n);else if(o=Qm(e),typeof o=="function")for(e=o.call(e),o=0;!(a=e.next()).done;)a=a.value,i=c+bi(a,o++),r+=Pl(a,t,l,i,n);else if(i==="object"){if(typeof e.then=="function")return Pl(Fm(e),t,l,a,n);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return r}function Qn(e,t,l){if(e==null)return e;var a=[],n=0;return Pl(e,a,"","",function(i){return t.call(l,i,n++)}),a}function Km(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(l){(e._status===0||e._status===-1)&&(e._status=1,e._result=l)},function(l){(e._status===0||e._status===-1)&&(e._status=2,e._result=l)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var xo=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},$m={map:Qn,forEach:function(e,t,l){Qn(e,function(){t.apply(this,arguments)},l)},count:function(e){var t=0;return Qn(e,function(){t++}),t},toArray:function(e){return Qn(e,function(t){return t})||[]},only:function(e){if(!dc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};H.Activity=Xm;H.Children=$m;H.Component=Ma;H.Fragment=Dm;H.Profiler=Bm;H.PureComponent=cc;H.StrictMode=Lm;H.Suspense=qm;H.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ue;H.__COMPILER_RUNTIME={__proto__:null,c:function(e){return ue.H.useMemoCache(e)}};H.cache=function(e){return function(){return e.apply(null,arguments)}};H.cacheSignal=function(){return null};H.cloneElement=function(e,t,l){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var a=sd({},e.props),n=e.key;if(t!=null)for(i in t.key!==void 0&&(n=""+t.key),t)!cd.call(t,i)||i==="key"||i==="__self"||i==="__source"||i==="ref"&&t.ref===void 0||(a[i]=t[i]);var i=arguments.length-2;if(i===1)a.children=l;else if(1<i){for(var r=Array(i),c=0;c<i;c++)r[c]=arguments[c+2];a.children=r}return uc(e.type,n,a)};H.createContext=function(e){return e={$$typeof:Ym,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:Hm,_context:e},e};H.createElement=function(e,t,l){var a,n={},i=null;if(t!=null)for(a in t.key!==void 0&&(i=""+t.key),t)cd.call(t,a)&&a!=="key"&&a!=="__self"&&a!=="__source"&&(n[a]=t[a]);var r=arguments.length-2;if(r===1)n.children=l;else if(1<r){for(var c=Array(r),o=0;o<r;o++)c[o]=arguments[o+2];n.children=c}if(e&&e.defaultProps)for(a in r=e.defaultProps,r)n[a]===void 0&&(n[a]=r[a]);return uc(e,i,n)};H.createRef=function(){return{current:null}};H.forwardRef=function(e){return{$$typeof:Gm,render:e}};H.isValidElement=dc;H.lazy=function(e){return{$$typeof:ad,_payload:{_status:-1,_result:e},_init:Km}};H.memo=function(e,t){return{$$typeof:Vm,type:e,compare:t===void 0?null:t}};H.startTransition=function(e){var t=ue.T,l={};ue.T=l;try{var a=e(),n=ue.S;n!==null&&n(l,a),typeof a=="object"&&a!==null&&typeof a.then=="function"&&a.then(rr,xo)}catch(i){xo(i)}finally{t!==null&&l.types!==null&&(t.types=l.types),ue.T=t}};H.unstable_useCacheRefresh=function(){return ue.H.useCacheRefresh()};H.use=function(e){return ue.H.use(e)};H.useActionState=function(e,t,l){return ue.H.useActionState(e,t,l)};H.useCallback=function(e,t){return ue.H.useCallback(e,t)};H.useContext=function(e){return ue.H.useContext(e)};H.useDebugValue=function(){};H.useDeferredValue=function(e,t){return ue.H.useDeferredValue(e,t)};H.useEffect=function(e,t){return ue.H.useEffect(e,t)};H.useEffectEvent=function(e){return ue.H.useEffectEvent(e)};H.useId=function(){return ue.H.useId()};H.useImperativeHandle=function(e,t,l){return ue.H.useImperativeHandle(e,t,l)};H.useInsertionEffect=function(e,t){return ue.H.useInsertionEffect(e,t)};H.useLayoutEffect=function(e,t){return ue.H.useLayoutEffect(e,t)};H.useMemo=function(e,t){return ue.H.useMemo(e,t)};H.useOptimistic=function(e,t){return ue.H.useOptimistic(e,t)};H.useReducer=function(e,t,l){return ue.H.useReducer(e,t,l)};H.useRef=function(e){return ue.H.useRef(e)};H.useState=function(e){return ue.H.useState(e)};H.useSyncExternalStore=function(e,t,l){return ue.H.useSyncExternalStore(e,t,l)};H.useTransition=function(){return ue.H.useTransition()};H.version="19.2.4";ld.exports=H;var b=ld.exports;const od=Iu(b),Wm=Mm({__proto__:null,default:od},[b]);var ud={exports:{}},Ps={},dd={exports:{}},fd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,A){var z=T.length;T.push(A);e:for(;0<z;){var k=z-1>>>1,D=T[k];if(0<n(D,A))T[k]=A,T[z]=D,z=k;else break e}}function l(T){return T.length===0?null:T[0]}function a(T){if(T.length===0)return null;var A=T[0],z=T.pop();if(z!==A){T[0]=z;e:for(var k=0,D=T.length,xe=D>>>1;k<xe;){var vt=2*(k+1)-1,st=T[vt],De=vt+1,it=T[De];if(0>n(st,z))De<D&&0>n(it,st)?(T[k]=it,T[De]=z,k=De):(T[k]=st,T[vt]=z,k=vt);else if(De<D&&0>n(it,z))T[k]=it,T[De]=z,k=De;else break e}}return A}function n(T,A){var z=T.sortIndex-A.sortIndex;return z!==0?z:T.id-A.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var r=Date,c=r.now();e.unstable_now=function(){return r.now()-c}}var o=[],u=[],p=1,d=null,h=3,g=!1,j=!1,y=!1,N=!1,m=typeof setTimeout=="function"?setTimeout:null,f=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;function v(T){for(var A=l(u);A!==null;){if(A.callback===null)a(u);else if(A.startTime<=T)a(u),A.sortIndex=A.expirationTime,t(o,A);else break;A=l(u)}}function E(T){if(y=!1,v(T),!j)if(l(o)!==null)j=!0,_||(_=!0,W());else{var A=l(u);A!==null&&K(E,A.startTime-T)}}var _=!1,w=-1,O=5,M=-1;function R(){return N?!0:!(e.unstable_now()-M<O)}function V(){if(N=!1,_){var T=e.unstable_now();M=T;var A=!0;try{e:{j=!1,y&&(y=!1,f(w),w=-1),g=!0;var z=h;try{t:{for(v(T),d=l(o);d!==null&&!(d.expirationTime>T&&R());){var k=d.callback;if(typeof k=="function"){d.callback=null,h=d.priorityLevel;var D=k(d.expirationTime<=T);if(T=e.unstable_now(),typeof D=="function"){d.callback=D,v(T),A=!0;break t}d===l(o)&&a(o),v(T)}else a(o);d=l(o)}if(d!==null)A=!0;else{var xe=l(u);xe!==null&&K(E,xe.startTime-T),A=!1}}break e}finally{d=null,h=z,g=!1}A=void 0}}finally{A?W():_=!1}}}var W;if(typeof x=="function")W=function(){x(V)};else if(typeof MessageChannel<"u"){var Te=new MessageChannel,ke=Te.port2;Te.port1.onmessage=V,W=function(){ke.postMessage(null)}}else W=function(){m(V,0)};function K(T,A){w=m(function(){T(e.unstable_now())},A)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_next=function(T){switch(h){case 1:case 2:case 3:var A=3;break;default:A=h}var z=h;h=A;try{return T()}finally{h=z}},e.unstable_requestPaint=function(){N=!0},e.unstable_runWithPriority=function(T,A){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var z=h;h=T;try{return A()}finally{h=z}},e.unstable_scheduleCallback=function(T,A,z){var k=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?k+z:k):z=k,T){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=z+D,T={id:p++,callback:A,priorityLevel:T,startTime:z,expirationTime:D,sortIndex:-1},z>k?(T.sortIndex=z,t(u,T),l(o)===null&&T===l(u)&&(y?(f(w),w=-1):y=!0,K(E,z-k))):(T.sortIndex=D,t(o,T),j||g||(j=!0,_||(_=!0,W()))),T},e.unstable_shouldYield=R,e.unstable_wrapCallback=function(T){var A=h;return function(){var z=h;h=A;try{return T.apply(this,arguments)}finally{h=z}}}})(fd);dd.exports=fd;var Pm=dd.exports,md={exports:{}},Ye={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Im=b;function hd(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)t+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Pt(){}var He={d:{f:Pt,r:function(){throw Error(hd(522))},D:Pt,C:Pt,L:Pt,m:Pt,X:Pt,S:Pt,M:Pt},p:0,findDOMNode:null},eh=Symbol.for("react.portal");function th(e,t,l){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:eh,key:a==null?null:""+a,children:e,containerInfo:t,implementation:l}}var Ia=Im.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Is(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}Ye.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=He;Ye.createPortal=function(e,t){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(hd(299));return th(e,t,null,l)};Ye.flushSync=function(e){var t=Ia.T,l=He.p;try{if(Ia.T=null,He.p=2,e)return e()}finally{Ia.T=t,He.p=l,He.d.f()}};Ye.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,He.d.C(e,t))};Ye.prefetchDNS=function(e){typeof e=="string"&&He.d.D(e)};Ye.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var l=t.as,a=Is(l,t.crossOrigin),n=typeof t.integrity=="string"?t.integrity:void 0,i=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;l==="style"?He.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:a,integrity:n,fetchPriority:i}):l==="script"&&He.d.X(e,{crossOrigin:a,integrity:n,fetchPriority:i,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};Ye.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var l=Is(t.as,t.crossOrigin);He.d.M(e,{crossOrigin:l,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&He.d.M(e)};Ye.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var l=t.as,a=Is(l,t.crossOrigin);He.d.L(e,l,{crossOrigin:a,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};Ye.preloadModule=function(e,t){if(typeof e=="string")if(t){var l=Is(t.as,t.crossOrigin);He.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:l,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else He.d.m(e)};Ye.requestFormReset=function(e){He.d.r(e)};Ye.unstable_batchedUpdates=function(e,t){return e(t)};Ye.useFormState=function(e,t,l){return Ia.H.useFormState(e,t,l)};Ye.useFormStatus=function(){return Ia.H.useHostTransitionStatus()};Ye.version="19.2.4";function xd(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(xd)}catch(e){console.error(e)}}xd(),md.exports=Ye;var lh=md.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ee=Pm,pd=b,ah=lh;function S(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)t+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function gd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function _n(e){var t=e,l=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(l=t.return),e=t.return;while(e)}return t.tag===3?l:null}function yd(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function bd(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function po(e){if(_n(e)!==e)throw Error(S(188))}function nh(e){var t=e.alternate;if(!t){if(t=_n(e),t===null)throw Error(S(188));return t!==e?null:e}for(var l=e,a=t;;){var n=l.return;if(n===null)break;var i=n.alternate;if(i===null){if(a=n.return,a!==null){l=a;continue}break}if(n.child===i.child){for(i=n.child;i;){if(i===l)return po(n),e;if(i===a)return po(n),t;i=i.sibling}throw Error(S(188))}if(l.return!==a.return)l=n,a=i;else{for(var r=!1,c=n.child;c;){if(c===l){r=!0,l=n,a=i;break}if(c===a){r=!0,a=n,l=i;break}c=c.sibling}if(!r){for(c=i.child;c;){if(c===l){r=!0,l=i,a=n;break}if(c===a){r=!0,a=i,l=n;break}c=c.sibling}if(!r)throw Error(S(189))}}if(l.alternate!==a)throw Error(S(190))}if(l.tag!==3)throw Error(S(188));return l.stateNode.current===l?e:t}function vd(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=vd(e),t!==null)return t;e=e.sibling}return null}var de=Object.assign,sh=Symbol.for("react.element"),Zn=Symbol.for("react.transitional.element"),Fa=Symbol.for("react.portal"),ta=Symbol.for("react.fragment"),jd=Symbol.for("react.strict_mode"),cr=Symbol.for("react.profiler"),Nd=Symbol.for("react.consumer"),Lt=Symbol.for("react.context"),fc=Symbol.for("react.forward_ref"),or=Symbol.for("react.suspense"),ur=Symbol.for("react.suspense_list"),mc=Symbol.for("react.memo"),It=Symbol.for("react.lazy"),dr=Symbol.for("react.activity"),ih=Symbol.for("react.memo_cache_sentinel"),go=Symbol.iterator;function Ga(e){return e===null||typeof e!="object"?null:(e=go&&e[go]||e["@@iterator"],typeof e=="function"?e:null)}var rh=Symbol.for("react.client.reference");function fr(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===rh?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ta:return"Fragment";case cr:return"Profiler";case jd:return"StrictMode";case or:return"Suspense";case ur:return"SuspenseList";case dr:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Fa:return"Portal";case Lt:return e.displayName||"Context";case Nd:return(e._context.displayName||"Context")+".Consumer";case fc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case mc:return t=e.displayName||null,t!==null?t:fr(e.type)||"Memo";case It:t=e._payload,e=e._init;try{return fr(e(t))}catch{}}return null}var Ka=Array.isArray,L=pd.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee=ah.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Rl={pending:!1,data:null,method:null,action:null},mr=[],la=-1;function At(e){return{current:e}}function Oe(e){0>la||(e.current=mr[la],mr[la]=null,la--)}function re(e,t){la++,mr[la]=e.current,e.current=t}var Tt=At(null),xn=At(null),fl=At(null),Ns=At(null);function Ss(e,t){switch(re(fl,t),re(xn,e),re(Tt,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Su(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Su(t),e=V0(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Oe(Tt),re(Tt,e)}function ja(){Oe(Tt),Oe(xn),Oe(fl)}function hr(e){e.memoizedState!==null&&re(Ns,e);var t=Tt.current,l=V0(t,e.type);t!==l&&(re(xn,e),re(Tt,l))}function ws(e){xn.current===e&&(Oe(Tt),Oe(xn)),Ns.current===e&&(Oe(Ns),Tn._currentValue=Rl)}var vi,yo;function Ol(e){if(vi===void 0)try{throw Error()}catch(l){var t=l.stack.trim().match(/\n( *(at )?)/);vi=t&&t[1]||"",yo=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+vi+e+yo}var ji=!1;function Ni(e,t){if(!e||ji)return"";ji=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var d=function(){throw Error()};if(Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(g){var h=g}Reflect.construct(e,[],d)}else{try{d.call()}catch(g){h=g}e.call(d.prototype)}}else{try{throw Error()}catch(g){h=g}(d=e())&&typeof d.catch=="function"&&d.catch(function(){})}}catch(g){if(g&&h&&typeof g.stack=="string")return[g.stack,h.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var n=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");n&&n.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=a.DetermineComponentFrameRoot(),r=i[0],c=i[1];if(r&&c){var o=r.split(`
`),u=c.split(`
`);for(n=a=0;a<o.length&&!o[a].includes("DetermineComponentFrameRoot");)a++;for(;n<u.length&&!u[n].includes("DetermineComponentFrameRoot");)n++;if(a===o.length||n===u.length)for(a=o.length-1,n=u.length-1;1<=a&&0<=n&&o[a]!==u[n];)n--;for(;1<=a&&0<=n;a--,n--)if(o[a]!==u[n]){if(a!==1||n!==1)do if(a--,n--,0>n||o[a]!==u[n]){var p=`
`+o[a].replace(" at new "," at ");return e.displayName&&p.includes("<anonymous>")&&(p=p.replace("<anonymous>",e.displayName)),p}while(1<=a&&0<=n);break}}}finally{ji=!1,Error.prepareStackTrace=l}return(l=e?e.displayName||e.name:"")?Ol(l):""}function ch(e,t){switch(e.tag){case 26:case 27:case 5:return Ol(e.type);case 16:return Ol("Lazy");case 13:return e.child!==t&&t!==null?Ol("Suspense Fallback"):Ol("Suspense");case 19:return Ol("SuspenseList");case 0:case 15:return Ni(e.type,!1);case 11:return Ni(e.type.render,!1);case 1:return Ni(e.type,!0);case 31:return Ol("Activity");default:return""}}function bo(e){try{var t="",l=null;do t+=ch(e,l),l=e,e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var xr=Object.prototype.hasOwnProperty,hc=Ee.unstable_scheduleCallback,Si=Ee.unstable_cancelCallback,oh=Ee.unstable_shouldYield,uh=Ee.unstable_requestPaint,Ie=Ee.unstable_now,dh=Ee.unstable_getCurrentPriorityLevel,Sd=Ee.unstable_ImmediatePriority,wd=Ee.unstable_UserBlockingPriority,Es=Ee.unstable_NormalPriority,fh=Ee.unstable_LowPriority,Ed=Ee.unstable_IdlePriority,mh=Ee.log,hh=Ee.unstable_setDisableYieldValue,Mn=null,et=null;function sl(e){if(typeof mh=="function"&&hh(e),et&&typeof et.setStrictMode=="function")try{et.setStrictMode(Mn,e)}catch{}}var tt=Math.clz32?Math.clz32:gh,xh=Math.log,ph=Math.LN2;function gh(e){return e>>>=0,e===0?32:31-(xh(e)/ph|0)|0}var Jn=256,Fn=262144,Kn=4194304;function zl(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ei(e,t,l){var a=e.pendingLanes;if(a===0)return 0;var n=0,i=e.suspendedLanes,r=e.pingedLanes;e=e.warmLanes;var c=a&134217727;return c!==0?(a=c&~i,a!==0?n=zl(a):(r&=c,r!==0?n=zl(r):l||(l=c&~e,l!==0&&(n=zl(l))))):(c=a&~i,c!==0?n=zl(c):r!==0?n=zl(r):l||(l=a&~e,l!==0&&(n=zl(l)))),n===0?0:t!==0&&t!==n&&!(t&i)&&(i=n&-n,l=t&-t,i>=l||i===32&&(l&4194048)!==0)?t:n}function Rn(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function yh(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Td(){var e=Kn;return Kn<<=1,!(Kn&62914560)&&(Kn=4194304),e}function wi(e){for(var t=[],l=0;31>l;l++)t.push(e);return t}function Un(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function bh(e,t,l,a,n,i){var r=e.pendingLanes;e.pendingLanes=l,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=l,e.entangledLanes&=l,e.errorRecoveryDisabledLanes&=l,e.shellSuspendCounter=0;var c=e.entanglements,o=e.expirationTimes,u=e.hiddenUpdates;for(l=r&~l;0<l;){var p=31-tt(l),d=1<<p;c[p]=0,o[p]=-1;var h=u[p];if(h!==null)for(u[p]=null,p=0;p<h.length;p++){var g=h[p];g!==null&&(g.lane&=-536870913)}l&=~d}a!==0&&Ad(e,a,0),i!==0&&n===0&&e.tag!==0&&(e.suspendedLanes|=i&~(r&~t))}function Ad(e,t,l){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-tt(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|l&261930}function Cd(e,t){var l=e.entangledLanes|=t;for(e=e.entanglements;l;){var a=31-tt(l),n=1<<a;n&t|e[a]&t&&(e[a]|=t),l&=~n}}function Od(e,t){var l=t&-t;return l=l&42?1:xc(l),l&(e.suspendedLanes|t)?0:l}function xc(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function pc(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function zd(){var e=ee.p;return e!==0?e:(e=window.event,e===void 0?32:em(e.type))}function vo(e,t){var l=ee.p;try{return ee.p=e,t()}finally{ee.p=l}}var El=Math.random().toString(36).slice(2),_e="__reactFiber$"+El,Je="__reactProps$"+El,Ra="__reactContainer$"+El,pr="__reactEvents$"+El,vh="__reactListeners$"+El,jh="__reactHandles$"+El,jo="__reactResources$"+El,kn="__reactMarker$"+El;function gc(e){delete e[_e],delete e[Je],delete e[pr],delete e[vh],delete e[jh]}function aa(e){var t=e[_e];if(t)return t;for(var l=e.parentNode;l;){if(t=l[Ra]||l[_e]){if(l=t.alternate,t.child!==null||l!==null&&l.child!==null)for(e=Cu(e);e!==null;){if(l=e[_e])return l;e=Cu(e)}return t}e=l,l=e.parentNode}return null}function Ua(e){if(e=e[_e]||e[Ra]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function $a(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(S(33))}function ma(e){var t=e[jo];return t||(t=e[jo]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ce(e){e[kn]=!0}var _d=new Set,Md={};function Xl(e,t){Na(e,t),Na(e+"Capture",t)}function Na(e,t){for(Md[e]=t,e=0;e<t.length;e++)_d.add(t[e])}var Nh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),No={},So={};function Sh(e){return xr.call(So,e)?!0:xr.call(No,e)?!1:Nh.test(e)?So[e]=!0:(No[e]=!0,!1)}function rs(e,t,l){if(Sh(t))if(l===null)e.removeAttribute(t);else{switch(typeof l){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+l)}}function $n(e,t,l){if(l===null)e.removeAttribute(t);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+l)}}function Ot(e,t,l,a){if(a===null)e.removeAttribute(l);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(l);return}e.setAttributeNS(t,l,""+a)}}function ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Rd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function wh(e,t,l){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var n=a.get,i=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(r){l=""+r,i.call(this,r)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(r){l=""+r},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function gr(e){if(!e._valueTracker){var t=Rd(e)?"checked":"value";e._valueTracker=wh(e,t,""+e[t])}}function Ud(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var l=t.getValue(),a="";return e&&(a=Rd(e)?e.checked?"true":"false":e.value),e=a,e!==l?(t.setValue(e),!0):!1}function Ts(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Eh=/[\n"\\]/g;function dt(e){return e.replace(Eh,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function yr(e,t,l,a,n,i,r,c){e.name="",r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"?e.type=r:e.removeAttribute("type"),t!=null?r==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+ct(t)):e.value!==""+ct(t)&&(e.value=""+ct(t)):r!=="submit"&&r!=="reset"||e.removeAttribute("value"),t!=null?br(e,r,ct(t)):l!=null?br(e,r,ct(l)):a!=null&&e.removeAttribute("value"),n==null&&i!=null&&(e.defaultChecked=!!i),n!=null&&(e.checked=n&&typeof n!="function"&&typeof n!="symbol"),c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"?e.name=""+ct(c):e.removeAttribute("name")}function kd(e,t,l,a,n,i,r,c){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.type=i),t!=null||l!=null){if(!(i!=="submit"&&i!=="reset"||t!=null)){gr(e);return}l=l!=null?""+ct(l):"",t=t!=null?""+ct(t):l,c||t===e.value||(e.value=t),e.defaultValue=t}a=a??n,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=c?e.checked:!!a,e.defaultChecked=!!a,r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(e.name=r),gr(e)}function br(e,t,l){t==="number"&&Ts(e.ownerDocument)===e||e.defaultValue===""+l||(e.defaultValue=""+l)}function ha(e,t,l,a){if(e=e.options,t){t={};for(var n=0;n<l.length;n++)t["$"+l[n]]=!0;for(l=0;l<e.length;l++)n=t.hasOwnProperty("$"+e[l].value),e[l].selected!==n&&(e[l].selected=n),n&&a&&(e[l].defaultSelected=!0)}else{for(l=""+ct(l),t=null,n=0;n<e.length;n++){if(e[n].value===l){e[n].selected=!0,a&&(e[n].defaultSelected=!0);return}t!==null||e[n].disabled||(t=e[n])}t!==null&&(t.selected=!0)}}function Dd(e,t,l){if(t!=null&&(t=""+ct(t),t!==e.value&&(e.value=t),l==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=l!=null?""+ct(l):""}function Ld(e,t,l,a){if(t==null){if(a!=null){if(l!=null)throw Error(S(92));if(Ka(a)){if(1<a.length)throw Error(S(93));a=a[0]}l=a}l==null&&(l=""),t=l}l=ct(t),e.defaultValue=l,a=e.textContent,a===l&&a!==""&&a!==null&&(e.value=a),gr(e)}function Sa(e,t){if(t){var l=e.firstChild;if(l&&l===e.lastChild&&l.nodeType===3){l.nodeValue=t;return}}e.textContent=t}var Th=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function wo(e,t,l){var a=t.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,l):typeof l!="number"||l===0||Th.has(t)?t==="float"?e.cssFloat=l:e[t]=(""+l).trim():e[t]=l+"px"}function Bd(e,t,l){if(t!=null&&typeof t!="object")throw Error(S(62));if(e=e.style,l!=null){for(var a in l)!l.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var n in t)a=t[n],t.hasOwnProperty(n)&&l[n]!==a&&wo(e,n,a)}else for(var i in t)t.hasOwnProperty(i)&&wo(e,i,t[i])}function yc(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ah=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ch=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function cs(e){return Ch.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Bt(){}var vr=null;function bc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var na=null,xa=null;function Eo(e){var t=Ua(e);if(t&&(e=t.stateNode)){var l=e[Je]||null;e:switch(e=t.stateNode,t.type){case"input":if(yr(e,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),t=l.name,l.type==="radio"&&t!=null){for(l=e;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+dt(""+t)+'"][type="radio"]'),t=0;t<l.length;t++){var a=l[t];if(a!==e&&a.form===e.form){var n=a[Je]||null;if(!n)throw Error(S(90));yr(a,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name)}}for(t=0;t<l.length;t++)a=l[t],a.form===e.form&&Ud(a)}break e;case"textarea":Dd(e,l.value,l.defaultValue);break e;case"select":t=l.value,t!=null&&ha(e,!!l.multiple,t,!1)}}}var Ei=!1;function Hd(e,t,l){if(Ei)return e(t,l);Ei=!0;try{var a=e(t);return a}finally{if(Ei=!1,(na!==null||xa!==null)&&(fi(),na&&(t=na,e=xa,xa=na=null,Eo(t),e)))for(t=0;t<e.length;t++)Eo(e[t])}}function pn(e,t){var l=e.stateNode;if(l===null)return null;var a=l[Je]||null;if(a===null)return null;l=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(l&&typeof l!="function")throw Error(S(231,t,typeof l));return l}var Qt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jr=!1;if(Qt)try{var qa={};Object.defineProperty(qa,"passive",{get:function(){jr=!0}}),window.addEventListener("test",qa,qa),window.removeEventListener("test",qa,qa)}catch{jr=!1}var il=null,vc=null,os=null;function Yd(){if(os)return os;var e,t=vc,l=t.length,a,n="value"in il?il.value:il.textContent,i=n.length;for(e=0;e<l&&t[e]===n[e];e++);var r=l-e;for(a=1;a<=r&&t[l-a]===n[i-a];a++);return os=n.slice(e,1<a?1-a:void 0)}function us(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Wn(){return!0}function To(){return!1}function Fe(e){function t(l,a,n,i,r){this._reactName=l,this._targetInst=n,this.type=a,this.nativeEvent=i,this.target=r,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(l=e[c],this[c]=l?l(i):i[c]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Wn:To,this.isPropagationStopped=To,this}return de(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Wn)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Wn)},persist:function(){},isPersistent:Wn}),t}var Ql={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ti=Fe(Ql),Dn=de({},Ql,{view:0,detail:0}),Oh=Fe(Dn),Ti,Ai,Va,li=de({},Dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Va&&(Va&&e.type==="mousemove"?(Ti=e.screenX-Va.screenX,Ai=e.screenY-Va.screenY):Ai=Ti=0,Va=e),Ti)},movementY:function(e){return"movementY"in e?e.movementY:Ai}}),Ao=Fe(li),zh=de({},li,{dataTransfer:0}),_h=Fe(zh),Mh=de({},Dn,{relatedTarget:0}),Ci=Fe(Mh),Rh=de({},Ql,{animationName:0,elapsedTime:0,pseudoElement:0}),Uh=Fe(Rh),kh=de({},Ql,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Dh=Fe(kh),Lh=de({},Ql,{data:0}),Co=Fe(Lh),Bh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Gh(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Yh[e])?!!t[e]:!1}function jc(){return Gh}var qh=de({},Dn,{key:function(e){if(e.key){var t=Bh[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=us(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Hh[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jc,charCode:function(e){return e.type==="keypress"?us(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?us(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Vh=Fe(qh),Xh=de({},li,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Oo=Fe(Xh),Qh=de({},Dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jc}),Zh=Fe(Qh),Jh=de({},Ql,{propertyName:0,elapsedTime:0,pseudoElement:0}),Fh=Fe(Jh),Kh=de({},li,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),$h=Fe(Kh),Wh=de({},Ql,{newState:0,oldState:0}),Ph=Fe(Wh),Ih=[9,13,27,32],Nc=Qt&&"CompositionEvent"in window,en=null;Qt&&"documentMode"in document&&(en=document.documentMode);var ex=Qt&&"TextEvent"in window&&!en,Gd=Qt&&(!Nc||en&&8<en&&11>=en),zo=" ",_o=!1;function qd(e,t){switch(e){case"keyup":return Ih.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var sa=!1;function tx(e,t){switch(e){case"compositionend":return Vd(t);case"keypress":return t.which!==32?null:(_o=!0,zo);case"textInput":return e=t.data,e===zo&&_o?null:e;default:return null}}function lx(e,t){if(sa)return e==="compositionend"||!Nc&&qd(e,t)?(e=Yd(),os=vc=il=null,sa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Gd&&t.locale!=="ko"?null:t.data;default:return null}}var ax={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ax[e.type]:t==="textarea"}function Xd(e,t,l,a){na?xa?xa.push(a):xa=[a]:na=a,t=Xs(t,"onChange"),0<t.length&&(l=new ti("onChange","change",null,l,a),e.push({event:l,listeners:t}))}var tn=null,gn=null;function nx(e){Y0(e,0)}function ai(e){var t=$a(e);if(Ud(t))return e}function Ro(e,t){if(e==="change")return t}var Qd=!1;if(Qt){var Oi;if(Qt){var zi="oninput"in document;if(!zi){var Uo=document.createElement("div");Uo.setAttribute("oninput","return;"),zi=typeof Uo.oninput=="function"}Oi=zi}else Oi=!1;Qd=Oi&&(!document.documentMode||9<document.documentMode)}function ko(){tn&&(tn.detachEvent("onpropertychange",Zd),gn=tn=null)}function Zd(e){if(e.propertyName==="value"&&ai(gn)){var t=[];Xd(t,gn,e,bc(e)),Hd(nx,t)}}function sx(e,t,l){e==="focusin"?(ko(),tn=t,gn=l,tn.attachEvent("onpropertychange",Zd)):e==="focusout"&&ko()}function ix(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ai(gn)}function rx(e,t){if(e==="click")return ai(t)}function cx(e,t){if(e==="input"||e==="change")return ai(t)}function ox(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var at=typeof Object.is=="function"?Object.is:ox;function yn(e,t){if(at(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var l=Object.keys(e),a=Object.keys(t);if(l.length!==a.length)return!1;for(a=0;a<l.length;a++){var n=l[a];if(!xr.call(t,n)||!at(e[n],t[n]))return!1}return!0}function Do(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Lo(e,t){var l=Do(e);e=0;for(var a;l;){if(l.nodeType===3){if(a=e+l.textContent.length,e<=t&&a>=t)return{node:l,offset:t-e};e=a}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Do(l)}}function Jd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Jd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Fd(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Ts(e.document);t instanceof e.HTMLIFrameElement;){try{var l=typeof t.contentWindow.location.href=="string"}catch{l=!1}if(l)e=t.contentWindow;else break;t=Ts(e.document)}return t}function Sc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var ux=Qt&&"documentMode"in document&&11>=document.documentMode,ia=null,Nr=null,ln=null,Sr=!1;function Bo(e,t,l){var a=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Sr||ia==null||ia!==Ts(a)||(a=ia,"selectionStart"in a&&Sc(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),ln&&yn(ln,a)||(ln=a,a=Xs(Nr,"onSelect"),0<a.length&&(t=new ti("onSelect","select",null,t,l),e.push({event:t,listeners:a}),t.target=ia)))}function Cl(e,t){var l={};return l[e.toLowerCase()]=t.toLowerCase(),l["Webkit"+e]="webkit"+t,l["Moz"+e]="moz"+t,l}var ra={animationend:Cl("Animation","AnimationEnd"),animationiteration:Cl("Animation","AnimationIteration"),animationstart:Cl("Animation","AnimationStart"),transitionrun:Cl("Transition","TransitionRun"),transitionstart:Cl("Transition","TransitionStart"),transitioncancel:Cl("Transition","TransitionCancel"),transitionend:Cl("Transition","TransitionEnd")},_i={},Kd={};Qt&&(Kd=document.createElement("div").style,"AnimationEvent"in window||(delete ra.animationend.animation,delete ra.animationiteration.animation,delete ra.animationstart.animation),"TransitionEvent"in window||delete ra.transitionend.transition);function Zl(e){if(_i[e])return _i[e];if(!ra[e])return e;var t=ra[e],l;for(l in t)if(t.hasOwnProperty(l)&&l in Kd)return _i[e]=t[l];return e}var $d=Zl("animationend"),Wd=Zl("animationiteration"),Pd=Zl("animationstart"),dx=Zl("transitionrun"),fx=Zl("transitionstart"),mx=Zl("transitioncancel"),Id=Zl("transitionend"),ef=new Map,wr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");wr.push("scrollEnd");function bt(e,t){ef.set(e,t),Xl(t,[e])}var As=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},rt=[],ca=0,wc=0;function ni(){for(var e=ca,t=wc=ca=0;t<e;){var l=rt[t];rt[t++]=null;var a=rt[t];rt[t++]=null;var n=rt[t];rt[t++]=null;var i=rt[t];if(rt[t++]=null,a!==null&&n!==null){var r=a.pending;r===null?n.next=n:(n.next=r.next,r.next=n),a.pending=n}i!==0&&tf(l,n,i)}}function si(e,t,l,a){rt[ca++]=e,rt[ca++]=t,rt[ca++]=l,rt[ca++]=a,wc|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function Ec(e,t,l,a){return si(e,t,l,a),Cs(e)}function Jl(e,t){return si(e,null,null,t),Cs(e)}function tf(e,t,l){e.lanes|=l;var a=e.alternate;a!==null&&(a.lanes|=l);for(var n=!1,i=e.return;i!==null;)i.childLanes|=l,a=i.alternate,a!==null&&(a.childLanes|=l),i.tag===22&&(e=i.stateNode,e===null||e._visibility&1||(n=!0)),e=i,i=i.return;return e.tag===3?(i=e.stateNode,n&&t!==null&&(n=31-tt(l),e=i.hiddenUpdates,a=e[n],a===null?e[n]=[t]:a.push(t),t.lane=l|536870912),i):null}function Cs(e){if(50<fn)throw fn=0,Qr=null,Error(S(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var oa={};function hx(e,t,l,a){this.tag=e,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function We(e,t,l,a){return new hx(e,t,l,a)}function Tc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function qt(e,t){var l=e.alternate;return l===null?(l=We(e.tag,t,e.key,e.mode),l.elementType=e.elementType,l.type=e.type,l.stateNode=e.stateNode,l.alternate=e,e.alternate=l):(l.pendingProps=t,l.type=e.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=e.flags&65011712,l.childLanes=e.childLanes,l.lanes=e.lanes,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,t=e.dependencies,l.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},l.sibling=e.sibling,l.index=e.index,l.ref=e.ref,l.refCleanup=e.refCleanup,l}function lf(e,t){e.flags&=65011714;var l=e.alternate;return l===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=l.childLanes,e.lanes=l.lanes,e.child=l.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=l.memoizedProps,e.memoizedState=l.memoizedState,e.updateQueue=l.updateQueue,e.type=l.type,t=l.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function ds(e,t,l,a,n,i){var r=0;if(a=e,typeof e=="function")Tc(e)&&(r=1);else if(typeof e=="string")r=bp(e,l,Tt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case dr:return e=We(31,l,t,n),e.elementType=dr,e.lanes=i,e;case ta:return Ul(l.children,n,i,t);case jd:r=8,n|=24;break;case cr:return e=We(12,l,t,n|2),e.elementType=cr,e.lanes=i,e;case or:return e=We(13,l,t,n),e.elementType=or,e.lanes=i,e;case ur:return e=We(19,l,t,n),e.elementType=ur,e.lanes=i,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Lt:r=10;break e;case Nd:r=9;break e;case fc:r=11;break e;case mc:r=14;break e;case It:r=16,a=null;break e}r=29,l=Error(S(130,e===null?"null":typeof e,"")),a=null}return t=We(r,l,t,n),t.elementType=e,t.type=a,t.lanes=i,t}function Ul(e,t,l,a){return e=We(7,e,a,t),e.lanes=l,e}function Mi(e,t,l){return e=We(6,e,null,t),e.lanes=l,e}function af(e){var t=We(18,null,null,0);return t.stateNode=e,t}function Ri(e,t,l){return t=We(4,e.children!==null?e.children:[],e.key,t),t.lanes=l,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Ho=new WeakMap;function ft(e,t){if(typeof e=="object"&&e!==null){var l=Ho.get(e);return l!==void 0?l:(t={value:e,source:t,stack:bo(t)},Ho.set(e,t),t)}return{value:e,source:t,stack:bo(t)}}var ua=[],da=0,Os=null,bn=0,ot=[],ut=0,jl=null,Nt=1,St="";function kt(e,t){ua[da++]=bn,ua[da++]=Os,Os=e,bn=t}function nf(e,t,l){ot[ut++]=Nt,ot[ut++]=St,ot[ut++]=jl,jl=e;var a=Nt;e=St;var n=32-tt(a)-1;a&=~(1<<n),l+=1;var i=32-tt(t)+n;if(30<i){var r=n-n%5;i=(a&(1<<r)-1).toString(32),a>>=r,n-=r,Nt=1<<32-tt(t)+n|l<<n|a,St=i+e}else Nt=1<<i|l<<n|a,St=e}function Ac(e){e.return!==null&&(kt(e,1),nf(e,1,0))}function Cc(e){for(;e===Os;)Os=ua[--da],ua[da]=null,bn=ua[--da],ua[da]=null;for(;e===jl;)jl=ot[--ut],ot[ut]=null,St=ot[--ut],ot[ut]=null,Nt=ot[--ut],ot[ut]=null}function sf(e,t){ot[ut++]=Nt,ot[ut++]=St,ot[ut++]=jl,Nt=t.id,St=t.overflow,jl=e}var Me=null,oe=null,F=!1,ml=null,mt=!1,Er=Error(S(519));function Nl(e){var t=Error(S(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw vn(ft(t,e)),Er}function Yo(e){var t=e.stateNode,l=e.type,a=e.memoizedProps;switch(t[_e]=e,t[Je]=a,l){case"dialog":Q("cancel",t),Q("close",t);break;case"iframe":case"object":case"embed":Q("load",t);break;case"video":case"audio":for(l=0;l<wn.length;l++)Q(wn[l],t);break;case"source":Q("error",t);break;case"img":case"image":case"link":Q("error",t),Q("load",t);break;case"details":Q("toggle",t);break;case"input":Q("invalid",t),kd(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":Q("invalid",t);break;case"textarea":Q("invalid",t),Ld(t,a.value,a.defaultValue,a.children)}l=a.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||t.textContent===""+l||a.suppressHydrationWarning===!0||q0(t.textContent,l)?(a.popover!=null&&(Q("beforetoggle",t),Q("toggle",t)),a.onScroll!=null&&Q("scroll",t),a.onScrollEnd!=null&&Q("scrollend",t),a.onClick!=null&&(t.onclick=Bt),t=!0):t=!1,t||Nl(e,!0)}function Go(e){for(Me=e.return;Me;)switch(Me.tag){case 5:case 31:case 13:mt=!1;return;case 27:case 3:mt=!0;return;default:Me=Me.return}}function Kl(e){if(e!==Me)return!1;if(!F)return Go(e),F=!0,!1;var t=e.tag,l;if((l=t!==3&&t!==27)&&((l=t===5)&&(l=e.type,l=!(l!=="form"&&l!=="button")||$r(e.type,e.memoizedProps)),l=!l),l&&oe&&Nl(e),Go(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(S(317));oe=Au(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(S(317));oe=Au(e)}else t===27?(t=oe,Tl(e.type)?(e=ec,ec=null,oe=e):oe=t):oe=Me?xt(e.stateNode.nextSibling):null;return!0}function Hl(){oe=Me=null,F=!1}function Ui(){var e=ml;return e!==null&&(Xe===null?Xe=e:Xe.push.apply(Xe,e),ml=null),e}function vn(e){ml===null?ml=[e]:ml.push(e)}var Tr=At(null),Fl=null,Ht=null;function tl(e,t,l){re(Tr,t._currentValue),t._currentValue=l}function Vt(e){e._currentValue=Tr.current,Oe(Tr)}function Ar(e,t,l){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===l)break;e=e.return}}function Cr(e,t,l,a){var n=e.child;for(n!==null&&(n.return=e);n!==null;){var i=n.dependencies;if(i!==null){var r=n.child;i=i.firstContext;e:for(;i!==null;){var c=i;i=n;for(var o=0;o<t.length;o++)if(c.context===t[o]){i.lanes|=l,c=i.alternate,c!==null&&(c.lanes|=l),Ar(i.return,l,e),a||(r=null);break e}i=c.next}}else if(n.tag===18){if(r=n.return,r===null)throw Error(S(341));r.lanes|=l,i=r.alternate,i!==null&&(i.lanes|=l),Ar(r,l,e),r=null}else r=n.child;if(r!==null)r.return=n;else for(r=n;r!==null;){if(r===e){r=null;break}if(n=r.sibling,n!==null){n.return=r.return,r=n;break}r=r.return}n=r}}function ka(e,t,l,a){e=null;for(var n=t,i=!1;n!==null;){if(!i){if(n.flags&524288)i=!0;else if(n.flags&262144)break}if(n.tag===10){var r=n.alternate;if(r===null)throw Error(S(387));if(r=r.memoizedProps,r!==null){var c=n.type;at(n.pendingProps.value,r.value)||(e!==null?e.push(c):e=[c])}}else if(n===Ns.current){if(r=n.alternate,r===null)throw Error(S(387));r.memoizedState.memoizedState!==n.memoizedState.memoizedState&&(e!==null?e.push(Tn):e=[Tn])}n=n.return}e!==null&&Cr(t,e,l,a),t.flags|=262144}function zs(e){for(e=e.firstContext;e!==null;){if(!at(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Yl(e){Fl=e,Ht=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Re(e){return rf(Fl,e)}function Pn(e,t){return Fl===null&&Yl(e),rf(e,t)}function rf(e,t){var l=t._currentValue;if(t={context:t,memoizedValue:l,next:null},Ht===null){if(e===null)throw Error(S(308));Ht=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Ht=Ht.next=t;return l}var xx=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(l,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(l){return l()})}},px=Ee.unstable_scheduleCallback,gx=Ee.unstable_NormalPriority,ve={$$typeof:Lt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Oc(){return{controller:new xx,data:new Map,refCount:0}}function Ln(e){e.refCount--,e.refCount===0&&px(gx,function(){e.controller.abort()})}var an=null,Or=0,wa=0,pa=null;function yx(e,t){if(an===null){var l=an=[];Or=0,wa=eo(),pa={status:"pending",value:void 0,then:function(a){l.push(a)}}}return Or++,t.then(qo,qo),t}function qo(){if(--Or===0&&an!==null){pa!==null&&(pa.status="fulfilled");var e=an;an=null,wa=0,pa=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function bx(e,t){var l=[],a={status:"pending",value:null,reason:null,then:function(n){l.push(n)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var n=0;n<l.length;n++)(0,l[n])(t)},function(n){for(a.status="rejected",a.reason=n,n=0;n<l.length;n++)(0,l[n])(void 0)}),a}var Vo=L.S;L.S=function(e,t){j0=Ie(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&yx(e,t),Vo!==null&&Vo(e,t)};var kl=At(null);function zc(){var e=kl.current;return e!==null?e:ie.pooledCache}function fs(e,t){t===null?re(kl,kl.current):re(kl,t.pool)}function cf(){var e=zc();return e===null?null:{parent:ve._currentValue,pool:e}}var Da=Error(S(460)),_c=Error(S(474)),ii=Error(S(542)),_s={then:function(){}};function Xo(e){return e=e.status,e==="fulfilled"||e==="rejected"}function of(e,t,l){switch(l=e[l],l===void 0?e.push(t):l!==t&&(t.then(Bt,Bt),t=l),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Zo(e),e;default:if(typeof t.status=="string")t.then(Bt,Bt);else{if(e=ie,e!==null&&100<e.shellSuspendCounter)throw Error(S(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var n=t;n.status="fulfilled",n.value=a}},function(a){if(t.status==="pending"){var n=t;n.status="rejected",n.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Zo(e),e}throw Dl=t,Da}}function _l(e){try{var t=e._init;return t(e._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Dl=l,Da):l}}var Dl=null;function Qo(){if(Dl===null)throw Error(S(459));var e=Dl;return Dl=null,e}function Zo(e){if(e===Da||e===ii)throw Error(S(483))}var ga=null,jn=0;function In(e){var t=jn;return jn+=1,ga===null&&(ga=[]),of(ga,e,t)}function Xa(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function es(e,t){throw t.$$typeof===sh?Error(S(525)):(e=Object.prototype.toString.call(t),Error(S(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function uf(e){function t(m,f){if(e){var x=m.deletions;x===null?(m.deletions=[f],m.flags|=16):x.push(f)}}function l(m,f){if(!e)return null;for(;f!==null;)t(m,f),f=f.sibling;return null}function a(m){for(var f=new Map;m!==null;)m.key!==null?f.set(m.key,m):f.set(m.index,m),m=m.sibling;return f}function n(m,f){return m=qt(m,f),m.index=0,m.sibling=null,m}function i(m,f,x){return m.index=x,e?(x=m.alternate,x!==null?(x=x.index,x<f?(m.flags|=67108866,f):x):(m.flags|=67108866,f)):(m.flags|=1048576,f)}function r(m){return e&&m.alternate===null&&(m.flags|=67108866),m}function c(m,f,x,v){return f===null||f.tag!==6?(f=Mi(x,m.mode,v),f.return=m,f):(f=n(f,x),f.return=m,f)}function o(m,f,x,v){var E=x.type;return E===ta?p(m,f,x.props.children,v,x.key):f!==null&&(f.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===It&&_l(E)===f.type)?(f=n(f,x.props),Xa(f,x),f.return=m,f):(f=ds(x.type,x.key,x.props,null,m.mode,v),Xa(f,x),f.return=m,f)}function u(m,f,x,v){return f===null||f.tag!==4||f.stateNode.containerInfo!==x.containerInfo||f.stateNode.implementation!==x.implementation?(f=Ri(x,m.mode,v),f.return=m,f):(f=n(f,x.children||[]),f.return=m,f)}function p(m,f,x,v,E){return f===null||f.tag!==7?(f=Ul(x,m.mode,v,E),f.return=m,f):(f=n(f,x),f.return=m,f)}function d(m,f,x){if(typeof f=="string"&&f!==""||typeof f=="number"||typeof f=="bigint")return f=Mi(""+f,m.mode,x),f.return=m,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Zn:return x=ds(f.type,f.key,f.props,null,m.mode,x),Xa(x,f),x.return=m,x;case Fa:return f=Ri(f,m.mode,x),f.return=m,f;case It:return f=_l(f),d(m,f,x)}if(Ka(f)||Ga(f))return f=Ul(f,m.mode,x,null),f.return=m,f;if(typeof f.then=="function")return d(m,In(f),x);if(f.$$typeof===Lt)return d(m,Pn(m,f),x);es(m,f)}return null}function h(m,f,x,v){var E=f!==null?f.key:null;if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return E!==null?null:c(m,f,""+x,v);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Zn:return x.key===E?o(m,f,x,v):null;case Fa:return x.key===E?u(m,f,x,v):null;case It:return x=_l(x),h(m,f,x,v)}if(Ka(x)||Ga(x))return E!==null?null:p(m,f,x,v,null);if(typeof x.then=="function")return h(m,f,In(x),v);if(x.$$typeof===Lt)return h(m,f,Pn(m,x),v);es(m,x)}return null}function g(m,f,x,v,E){if(typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint")return m=m.get(x)||null,c(f,m,""+v,E);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Zn:return m=m.get(v.key===null?x:v.key)||null,o(f,m,v,E);case Fa:return m=m.get(v.key===null?x:v.key)||null,u(f,m,v,E);case It:return v=_l(v),g(m,f,x,v,E)}if(Ka(v)||Ga(v))return m=m.get(x)||null,p(f,m,v,E,null);if(typeof v.then=="function")return g(m,f,x,In(v),E);if(v.$$typeof===Lt)return g(m,f,x,Pn(f,v),E);es(f,v)}return null}function j(m,f,x,v){for(var E=null,_=null,w=f,O=f=0,M=null;w!==null&&O<x.length;O++){w.index>O?(M=w,w=null):M=w.sibling;var R=h(m,w,x[O],v);if(R===null){w===null&&(w=M);break}e&&w&&R.alternate===null&&t(m,w),f=i(R,f,O),_===null?E=R:_.sibling=R,_=R,w=M}if(O===x.length)return l(m,w),F&&kt(m,O),E;if(w===null){for(;O<x.length;O++)w=d(m,x[O],v),w!==null&&(f=i(w,f,O),_===null?E=w:_.sibling=w,_=w);return F&&kt(m,O),E}for(w=a(w);O<x.length;O++)M=g(w,m,O,x[O],v),M!==null&&(e&&M.alternate!==null&&w.delete(M.key===null?O:M.key),f=i(M,f,O),_===null?E=M:_.sibling=M,_=M);return e&&w.forEach(function(V){return t(m,V)}),F&&kt(m,O),E}function y(m,f,x,v){if(x==null)throw Error(S(151));for(var E=null,_=null,w=f,O=f=0,M=null,R=x.next();w!==null&&!R.done;O++,R=x.next()){w.index>O?(M=w,w=null):M=w.sibling;var V=h(m,w,R.value,v);if(V===null){w===null&&(w=M);break}e&&w&&V.alternate===null&&t(m,w),f=i(V,f,O),_===null?E=V:_.sibling=V,_=V,w=M}if(R.done)return l(m,w),F&&kt(m,O),E;if(w===null){for(;!R.done;O++,R=x.next())R=d(m,R.value,v),R!==null&&(f=i(R,f,O),_===null?E=R:_.sibling=R,_=R);return F&&kt(m,O),E}for(w=a(w);!R.done;O++,R=x.next())R=g(w,m,O,R.value,v),R!==null&&(e&&R.alternate!==null&&w.delete(R.key===null?O:R.key),f=i(R,f,O),_===null?E=R:_.sibling=R,_=R);return e&&w.forEach(function(W){return t(m,W)}),F&&kt(m,O),E}function N(m,f,x,v){if(typeof x=="object"&&x!==null&&x.type===ta&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Zn:e:{for(var E=x.key;f!==null;){if(f.key===E){if(E=x.type,E===ta){if(f.tag===7){l(m,f.sibling),v=n(f,x.props.children),v.return=m,m=v;break e}}else if(f.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===It&&_l(E)===f.type){l(m,f.sibling),v=n(f,x.props),Xa(v,x),v.return=m,m=v;break e}l(m,f);break}else t(m,f);f=f.sibling}x.type===ta?(v=Ul(x.props.children,m.mode,v,x.key),v.return=m,m=v):(v=ds(x.type,x.key,x.props,null,m.mode,v),Xa(v,x),v.return=m,m=v)}return r(m);case Fa:e:{for(E=x.key;f!==null;){if(f.key===E)if(f.tag===4&&f.stateNode.containerInfo===x.containerInfo&&f.stateNode.implementation===x.implementation){l(m,f.sibling),v=n(f,x.children||[]),v.return=m,m=v;break e}else{l(m,f);break}else t(m,f);f=f.sibling}v=Ri(x,m.mode,v),v.return=m,m=v}return r(m);case It:return x=_l(x),N(m,f,x,v)}if(Ka(x))return j(m,f,x,v);if(Ga(x)){if(E=Ga(x),typeof E!="function")throw Error(S(150));return x=E.call(x),y(m,f,x,v)}if(typeof x.then=="function")return N(m,f,In(x),v);if(x.$$typeof===Lt)return N(m,f,Pn(m,x),v);es(m,x)}return typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint"?(x=""+x,f!==null&&f.tag===6?(l(m,f.sibling),v=n(f,x),v.return=m,m=v):(l(m,f),v=Mi(x,m.mode,v),v.return=m,m=v),r(m)):l(m,f)}return function(m,f,x,v){try{jn=0;var E=N(m,f,x,v);return ga=null,E}catch(w){if(w===Da||w===ii)throw w;var _=We(29,w,null,m.mode);return _.lanes=v,_.return=m,_}finally{}}}var Gl=uf(!0),df=uf(!1),el=!1;function Mc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function zr(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function hl(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function xl(e,t,l){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,I&2){var n=a.pending;return n===null?t.next=t:(t.next=n.next,n.next=t),a.pending=t,t=Cs(e),tf(e,null,l),t}return si(e,a,t,l),Cs(e)}function nn(e,t,l){if(t=t.updateQueue,t!==null&&(t=t.shared,(l&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,l|=a,t.lanes=l,Cd(e,l)}}function ki(e,t){var l=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,l===a)){var n=null,i=null;if(l=l.firstBaseUpdate,l!==null){do{var r={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};i===null?n=i=r:i=i.next=r,l=l.next}while(l!==null);i===null?n=i=t:i=i.next=t}else n=i=t;l={baseState:a.baseState,firstBaseUpdate:n,lastBaseUpdate:i,shared:a.shared,callbacks:a.callbacks},e.updateQueue=l;return}e=l.lastBaseUpdate,e===null?l.firstBaseUpdate=t:e.next=t,l.lastBaseUpdate=t}var _r=!1;function sn(){if(_r){var e=pa;if(e!==null)throw e}}function rn(e,t,l,a){_r=!1;var n=e.updateQueue;el=!1;var i=n.firstBaseUpdate,r=n.lastBaseUpdate,c=n.shared.pending;if(c!==null){n.shared.pending=null;var o=c,u=o.next;o.next=null,r===null?i=u:r.next=u,r=o;var p=e.alternate;p!==null&&(p=p.updateQueue,c=p.lastBaseUpdate,c!==r&&(c===null?p.firstBaseUpdate=u:c.next=u,p.lastBaseUpdate=o))}if(i!==null){var d=n.baseState;r=0,p=u=o=null,c=i;do{var h=c.lane&-536870913,g=h!==c.lane;if(g?(J&h)===h:(a&h)===h){h!==0&&h===wa&&(_r=!0),p!==null&&(p=p.next={lane:0,tag:c.tag,payload:c.payload,callback:null,next:null});e:{var j=e,y=c;h=t;var N=l;switch(y.tag){case 1:if(j=y.payload,typeof j=="function"){d=j.call(N,d,h);break e}d=j;break e;case 3:j.flags=j.flags&-65537|128;case 0:if(j=y.payload,h=typeof j=="function"?j.call(N,d,h):j,h==null)break e;d=de({},d,h);break e;case 2:el=!0}}h=c.callback,h!==null&&(e.flags|=64,g&&(e.flags|=8192),g=n.callbacks,g===null?n.callbacks=[h]:g.push(h))}else g={lane:h,tag:c.tag,payload:c.payload,callback:c.callback,next:null},p===null?(u=p=g,o=d):p=p.next=g,r|=h;if(c=c.next,c===null){if(c=n.shared.pending,c===null)break;g=c,c=g.next,g.next=null,n.lastBaseUpdate=g,n.shared.pending=null}}while(!0);p===null&&(o=d),n.baseState=o,n.firstBaseUpdate=u,n.lastBaseUpdate=p,i===null&&(n.shared.lanes=0),wl|=r,e.lanes=r,e.memoizedState=d}}function ff(e,t){if(typeof e!="function")throw Error(S(191,e));e.call(t)}function mf(e,t){var l=e.callbacks;if(l!==null)for(e.callbacks=null,e=0;e<l.length;e++)ff(l[e],t)}var Ea=At(null),Ms=At(0);function Jo(e,t){e=Kt,re(Ms,e),re(Ea,t),Kt=e|t.baseLanes}function Mr(){re(Ms,Kt),re(Ea,Ea.current)}function Rc(){Kt=Ms.current,Oe(Ea),Oe(Ms)}var nt=At(null),ht=null;function ll(e){var t=e.alternate;re(pe,pe.current&1),re(nt,e),ht===null&&(t===null||Ea.current!==null||t.memoizedState!==null)&&(ht=e)}function Rr(e){re(pe,pe.current),re(nt,e),ht===null&&(ht=e)}function hf(e){e.tag===22?(re(pe,pe.current),re(nt,e),ht===null&&(ht=e)):al()}function al(){re(pe,pe.current),re(nt,nt.current)}function $e(e){Oe(nt),ht===e&&(ht=null),Oe(pe)}var pe=At(0);function Rs(e){for(var t=e;t!==null;){if(t.tag===13){var l=t.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Pr(l)||Ir(l)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Zt=0,q=null,se=null,ye=null,Us=!1,ya=!1,ql=!1,ks=0,Nn=0,ba=null,vx=0;function me(){throw Error(S(321))}function Uc(e,t){if(t===null)return!1;for(var l=0;l<t.length&&l<e.length;l++)if(!at(e[l],t[l]))return!1;return!0}function kc(e,t,l,a,n,i){return Zt=i,q=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,L.H=e===null||e.memoizedState===null?Qf:Zc,ql=!1,i=l(a,n),ql=!1,ya&&(i=pf(t,l,a,n)),xf(e),i}function xf(e){L.H=Sn;var t=se!==null&&se.next!==null;if(Zt=0,ye=se=q=null,Us=!1,Nn=0,ba=null,t)throw Error(S(300));e===null||je||(e=e.dependencies,e!==null&&zs(e)&&(je=!0))}function pf(e,t,l,a){q=e;var n=0;do{if(ya&&(ba=null),Nn=0,ya=!1,25<=n)throw Error(S(301));if(n+=1,ye=se=null,e.updateQueue!=null){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}L.H=Zf,i=t(l,a)}while(ya);return i}function jx(){var e=L.H,t=e.useState()[0];return t=typeof t.then=="function"?Bn(t):t,e=e.useState()[0],(se!==null?se.memoizedState:null)!==e&&(q.flags|=1024),t}function Dc(){var e=ks!==0;return ks=0,e}function Lc(e,t,l){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l}function Bc(e){if(Us){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Us=!1}Zt=0,ye=se=q=null,ya=!1,Nn=ks=0,ba=null}function Be(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ye===null?q.memoizedState=ye=e:ye=ye.next=e,ye}function ge(){if(se===null){var e=q.alternate;e=e!==null?e.memoizedState:null}else e=se.next;var t=ye===null?q.memoizedState:ye.next;if(t!==null)ye=t,se=e;else{if(e===null)throw q.alternate===null?Error(S(467)):Error(S(310));se=e,e={memoizedState:se.memoizedState,baseState:se.baseState,baseQueue:se.baseQueue,queue:se.queue,next:null},ye===null?q.memoizedState=ye=e:ye=ye.next=e}return ye}function ri(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Bn(e){var t=Nn;return Nn+=1,ba===null&&(ba=[]),e=of(ba,e,t),t=q,(ye===null?t.memoizedState:ye.next)===null&&(t=t.alternate,L.H=t===null||t.memoizedState===null?Qf:Zc),e}function ci(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Bn(e);if(e.$$typeof===Lt)return Re(e)}throw Error(S(438,String(e)))}function Hc(e){var t=null,l=q.updateQueue;if(l!==null&&(t=l.memoCache),t==null){var a=q.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(n){return n.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),l===null&&(l=ri(),q.updateQueue=l),l.memoCache=t,l=t.data[t.index],l===void 0)for(l=t.data[t.index]=Array(e),a=0;a<e;a++)l[a]=ih;return t.index++,l}function Jt(e,t){return typeof t=="function"?t(e):t}function ms(e){var t=ge();return Yc(t,se,e)}function Yc(e,t,l){var a=e.queue;if(a===null)throw Error(S(311));a.lastRenderedReducer=l;var n=e.baseQueue,i=a.pending;if(i!==null){if(n!==null){var r=n.next;n.next=i.next,i.next=r}t.baseQueue=n=i,a.pending=null}if(i=e.baseState,n===null)e.memoizedState=i;else{t=n.next;var c=r=null,o=null,u=t,p=!1;do{var d=u.lane&-536870913;if(d!==u.lane?(J&d)===d:(Zt&d)===d){var h=u.revertLane;if(h===0)o!==null&&(o=o.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),d===wa&&(p=!0);else if((Zt&h)===h){u=u.next,h===wa&&(p=!0);continue}else d={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},o===null?(c=o=d,r=i):o=o.next=d,q.lanes|=h,wl|=h;d=u.action,ql&&l(i,d),i=u.hasEagerState?u.eagerState:l(i,d)}else h={lane:d,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},o===null?(c=o=h,r=i):o=o.next=h,q.lanes|=d,wl|=d;u=u.next}while(u!==null&&u!==t);if(o===null?r=i:o.next=c,!at(i,e.memoizedState)&&(je=!0,p&&(l=pa,l!==null)))throw l;e.memoizedState=i,e.baseState=r,e.baseQueue=o,a.lastRenderedState=i}return n===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function Di(e){var t=ge(),l=t.queue;if(l===null)throw Error(S(311));l.lastRenderedReducer=e;var a=l.dispatch,n=l.pending,i=t.memoizedState;if(n!==null){l.pending=null;var r=n=n.next;do i=e(i,r.action),r=r.next;while(r!==n);at(i,t.memoizedState)||(je=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),l.lastRenderedState=i}return[i,a]}function gf(e,t,l){var a=q,n=ge(),i=F;if(i){if(l===void 0)throw Error(S(407));l=l()}else l=t();var r=!at((se||n).memoizedState,l);if(r&&(n.memoizedState=l,je=!0),n=n.queue,Gc(vf.bind(null,a,n,e),[e]),n.getSnapshot!==t||r||ye!==null&&ye.memoizedState.tag&1){if(a.flags|=2048,Ta(9,{destroy:void 0},bf.bind(null,a,n,l,t),null),ie===null)throw Error(S(349));i||Zt&127||yf(a,t,l)}return l}function yf(e,t,l){e.flags|=16384,e={getSnapshot:t,value:l},t=q.updateQueue,t===null?(t=ri(),q.updateQueue=t,t.stores=[e]):(l=t.stores,l===null?t.stores=[e]:l.push(e))}function bf(e,t,l,a){t.value=l,t.getSnapshot=a,jf(t)&&Nf(e)}function vf(e,t,l){return l(function(){jf(t)&&Nf(e)})}function jf(e){var t=e.getSnapshot;e=e.value;try{var l=t();return!at(e,l)}catch{return!0}}function Nf(e){var t=Jl(e,2);t!==null&&Ze(t,e,2)}function Ur(e){var t=Be();if(typeof e=="function"){var l=e;if(e=l(),ql){sl(!0);try{l()}finally{sl(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jt,lastRenderedState:e},t}function Sf(e,t,l,a){return e.baseState=l,Yc(e,se,typeof a=="function"?a:Jt)}function Nx(e,t,l,a,n){if(ui(e))throw Error(S(485));if(e=t.action,e!==null){var i={payload:n,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(r){i.listeners.push(r)}};L.T!==null?l(!0):i.isTransition=!1,a(i),l=t.pending,l===null?(i.next=t.pending=i,wf(t,i)):(i.next=l.next,t.pending=l.next=i)}}function wf(e,t){var l=t.action,a=t.payload,n=e.state;if(t.isTransition){var i=L.T,r={};L.T=r;try{var c=l(n,a),o=L.S;o!==null&&o(r,c),Fo(e,t,c)}catch(u){kr(e,t,u)}finally{i!==null&&r.types!==null&&(i.types=r.types),L.T=i}}else try{i=l(n,a),Fo(e,t,i)}catch(u){kr(e,t,u)}}function Fo(e,t,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(a){Ko(e,t,a)},function(a){return kr(e,t,a)}):Ko(e,t,l)}function Ko(e,t,l){t.status="fulfilled",t.value=l,Ef(t),e.state=l,t=e.pending,t!==null&&(l=t.next,l===t?e.pending=null:(l=l.next,t.next=l,wf(e,l)))}function kr(e,t,l){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=l,Ef(t),t=t.next;while(t!==a)}e.action=null}function Ef(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Tf(e,t){return t}function $o(e,t){if(F){var l=ie.formState;if(l!==null){e:{var a=q;if(F){if(oe){t:{for(var n=oe,i=mt;n.nodeType!==8;){if(!i){n=null;break t}if(n=xt(n.nextSibling),n===null){n=null;break t}}i=n.data,n=i==="F!"||i==="F"?n:null}if(n){oe=xt(n.nextSibling),a=n.data==="F!";break e}}Nl(a)}a=!1}a&&(t=l[0])}}return l=Be(),l.memoizedState=l.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tf,lastRenderedState:t},l.queue=a,l=qf.bind(null,q,a),a.dispatch=l,a=Ur(!1),i=Qc.bind(null,q,!1,a.queue),a=Be(),n={state:t,dispatch:null,action:e,pending:null},a.queue=n,l=Nx.bind(null,q,n,i,l),n.dispatch=l,a.memoizedState=e,[t,l,!1]}function Wo(e){var t=ge();return Af(t,se,e)}function Af(e,t,l){if(t=Yc(e,t,Tf)[0],e=ms(Jt)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=Bn(t)}catch(r){throw r===Da?ii:r}else a=t;t=ge();var n=t.queue,i=n.dispatch;return l!==t.memoizedState&&(q.flags|=2048,Ta(9,{destroy:void 0},Sx.bind(null,n,l),null)),[a,i,e]}function Sx(e,t){e.action=t}function Po(e){var t=ge(),l=se;if(l!==null)return Af(t,l,e);ge(),t=t.memoizedState,l=ge();var a=l.queue.dispatch;return l.memoizedState=e,[t,a,!1]}function Ta(e,t,l,a){return e={tag:e,create:l,deps:a,inst:t,next:null},t=q.updateQueue,t===null&&(t=ri(),q.updateQueue=t),l=t.lastEffect,l===null?t.lastEffect=e.next=e:(a=l.next,l.next=e,e.next=a,t.lastEffect=e),e}function Cf(){return ge().memoizedState}function hs(e,t,l,a){var n=Be();q.flags|=e,n.memoizedState=Ta(1|t,{destroy:void 0},l,a===void 0?null:a)}function oi(e,t,l,a){var n=ge();a=a===void 0?null:a;var i=n.memoizedState.inst;se!==null&&a!==null&&Uc(a,se.memoizedState.deps)?n.memoizedState=Ta(t,i,l,a):(q.flags|=e,n.memoizedState=Ta(1|t,i,l,a))}function Io(e,t){hs(8390656,8,e,t)}function Gc(e,t){oi(2048,8,e,t)}function wx(e){q.flags|=4;var t=q.updateQueue;if(t===null)t=ri(),q.updateQueue=t,t.events=[e];else{var l=t.events;l===null?t.events=[e]:l.push(e)}}function Of(e){var t=ge().memoizedState;return wx({ref:t,nextImpl:e}),function(){if(I&2)throw Error(S(440));return t.impl.apply(void 0,arguments)}}function zf(e,t){return oi(4,2,e,t)}function _f(e,t){return oi(4,4,e,t)}function Mf(e,t){if(typeof t=="function"){e=e();var l=t(e);return function(){typeof l=="function"?l():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Rf(e,t,l){l=l!=null?l.concat([e]):null,oi(4,4,Mf.bind(null,t,e),l)}function qc(){}function Uf(e,t){var l=ge();t=t===void 0?null:t;var a=l.memoizedState;return t!==null&&Uc(t,a[1])?a[0]:(l.memoizedState=[e,t],e)}function kf(e,t){var l=ge();t=t===void 0?null:t;var a=l.memoizedState;if(t!==null&&Uc(t,a[1]))return a[0];if(a=e(),ql){sl(!0);try{e()}finally{sl(!1)}}return l.memoizedState=[a,t],a}function Vc(e,t,l){return l===void 0||Zt&1073741824&&!(J&261930)?e.memoizedState=t:(e.memoizedState=l,e=S0(),q.lanes|=e,wl|=e,l)}function Df(e,t,l,a){return at(l,t)?l:Ea.current!==null?(e=Vc(e,l,a),at(e,t)||(je=!0),e):!(Zt&42)||Zt&1073741824&&!(J&261930)?(je=!0,e.memoizedState=l):(e=S0(),q.lanes|=e,wl|=e,t)}function Lf(e,t,l,a,n){var i=ee.p;ee.p=i!==0&&8>i?i:8;var r=L.T,c={};L.T=c,Qc(e,!1,t,l);try{var o=n(),u=L.S;if(u!==null&&u(c,o),o!==null&&typeof o=="object"&&typeof o.then=="function"){var p=bx(o,a);cn(e,t,p,lt(e))}else cn(e,t,a,lt(e))}catch(d){cn(e,t,{then:function(){},status:"rejected",reason:d},lt())}finally{ee.p=i,r!==null&&c.types!==null&&(r.types=c.types),L.T=r}}function Ex(){}function Dr(e,t,l,a){if(e.tag!==5)throw Error(S(476));var n=Bf(e).queue;Lf(e,n,t,Rl,l===null?Ex:function(){return Hf(e),l(a)})}function Bf(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Rl,baseState:Rl,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jt,lastRenderedState:Rl},next:null};var l={};return t.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jt,lastRenderedState:l},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Hf(e){var t=Bf(e);t.next===null&&(t=e.alternate.memoizedState),cn(e,t.next.queue,{},lt())}function Xc(){return Re(Tn)}function Yf(){return ge().memoizedState}function Gf(){return ge().memoizedState}function Tx(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var l=lt();e=hl(l);var a=xl(t,e,l);a!==null&&(Ze(a,t,l),nn(a,t,l)),t={cache:Oc()},e.payload=t;return}t=t.return}}function Ax(e,t,l){var a=lt();l={lane:a,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},ui(e)?Vf(t,l):(l=Ec(e,t,l,a),l!==null&&(Ze(l,e,a),Xf(l,t,a)))}function qf(e,t,l){var a=lt();cn(e,t,l,a)}function cn(e,t,l,a){var n={lane:a,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(ui(e))Vf(t,n);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var r=t.lastRenderedState,c=i(r,l);if(n.hasEagerState=!0,n.eagerState=c,at(c,r))return si(e,t,n,0),ie===null&&ni(),!1}catch{}finally{}if(l=Ec(e,t,n,a),l!==null)return Ze(l,e,a),Xf(l,t,a),!0}return!1}function Qc(e,t,l,a){if(a={lane:2,revertLane:eo(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},ui(e)){if(t)throw Error(S(479))}else t=Ec(e,l,a,2),t!==null&&Ze(t,e,2)}function ui(e){var t=e.alternate;return e===q||t!==null&&t===q}function Vf(e,t){ya=Us=!0;var l=e.pending;l===null?t.next=t:(t.next=l.next,l.next=t),e.pending=t}function Xf(e,t,l){if(l&4194048){var a=t.lanes;a&=e.pendingLanes,l|=a,t.lanes=l,Cd(e,l)}}var Sn={readContext:Re,use:ci,useCallback:me,useContext:me,useEffect:me,useImperativeHandle:me,useLayoutEffect:me,useInsertionEffect:me,useMemo:me,useReducer:me,useRef:me,useState:me,useDebugValue:me,useDeferredValue:me,useTransition:me,useSyncExternalStore:me,useId:me,useHostTransitionStatus:me,useFormState:me,useActionState:me,useOptimistic:me,useMemoCache:me,useCacheRefresh:me};Sn.useEffectEvent=me;var Qf={readContext:Re,use:ci,useCallback:function(e,t){return Be().memoizedState=[e,t===void 0?null:t],e},useContext:Re,useEffect:Io,useImperativeHandle:function(e,t,l){l=l!=null?l.concat([e]):null,hs(4194308,4,Mf.bind(null,t,e),l)},useLayoutEffect:function(e,t){return hs(4194308,4,e,t)},useInsertionEffect:function(e,t){hs(4,2,e,t)},useMemo:function(e,t){var l=Be();t=t===void 0?null:t;var a=e();if(ql){sl(!0);try{e()}finally{sl(!1)}}return l.memoizedState=[a,t],a},useReducer:function(e,t,l){var a=Be();if(l!==void 0){var n=l(t);if(ql){sl(!0);try{l(t)}finally{sl(!1)}}}else n=t;return a.memoizedState=a.baseState=n,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},a.queue=e,e=e.dispatch=Ax.bind(null,q,e),[a.memoizedState,e]},useRef:function(e){var t=Be();return e={current:e},t.memoizedState=e},useState:function(e){e=Ur(e);var t=e.queue,l=qf.bind(null,q,t);return t.dispatch=l,[e.memoizedState,l]},useDebugValue:qc,useDeferredValue:function(e,t){var l=Be();return Vc(l,e,t)},useTransition:function(){var e=Ur(!1);return e=Lf.bind(null,q,e.queue,!0,!1),Be().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,l){var a=q,n=Be();if(F){if(l===void 0)throw Error(S(407));l=l()}else{if(l=t(),ie===null)throw Error(S(349));J&127||yf(a,t,l)}n.memoizedState=l;var i={value:l,getSnapshot:t};return n.queue=i,Io(vf.bind(null,a,i,e),[e]),a.flags|=2048,Ta(9,{destroy:void 0},bf.bind(null,a,i,l,t),null),l},useId:function(){var e=Be(),t=ie.identifierPrefix;if(F){var l=St,a=Nt;l=(a&~(1<<32-tt(a)-1)).toString(32)+l,t="_"+t+"R_"+l,l=ks++,0<l&&(t+="H"+l.toString(32)),t+="_"}else l=vx++,t="_"+t+"r_"+l.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Xc,useFormState:$o,useActionState:$o,useOptimistic:function(e){var t=Be();t.memoizedState=t.baseState=e;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=l,t=Qc.bind(null,q,!0,l),l.dispatch=t,[e,t]},useMemoCache:Hc,useCacheRefresh:function(){return Be().memoizedState=Tx.bind(null,q)},useEffectEvent:function(e){var t=Be(),l={impl:e};return t.memoizedState=l,function(){if(I&2)throw Error(S(440));return l.impl.apply(void 0,arguments)}}},Zc={readContext:Re,use:ci,useCallback:Uf,useContext:Re,useEffect:Gc,useImperativeHandle:Rf,useInsertionEffect:zf,useLayoutEffect:_f,useMemo:kf,useReducer:ms,useRef:Cf,useState:function(){return ms(Jt)},useDebugValue:qc,useDeferredValue:function(e,t){var l=ge();return Df(l,se.memoizedState,e,t)},useTransition:function(){var e=ms(Jt)[0],t=ge().memoizedState;return[typeof e=="boolean"?e:Bn(e),t]},useSyncExternalStore:gf,useId:Yf,useHostTransitionStatus:Xc,useFormState:Wo,useActionState:Wo,useOptimistic:function(e,t){var l=ge();return Sf(l,se,e,t)},useMemoCache:Hc,useCacheRefresh:Gf};Zc.useEffectEvent=Of;var Zf={readContext:Re,use:ci,useCallback:Uf,useContext:Re,useEffect:Gc,useImperativeHandle:Rf,useInsertionEffect:zf,useLayoutEffect:_f,useMemo:kf,useReducer:Di,useRef:Cf,useState:function(){return Di(Jt)},useDebugValue:qc,useDeferredValue:function(e,t){var l=ge();return se===null?Vc(l,e,t):Df(l,se.memoizedState,e,t)},useTransition:function(){var e=Di(Jt)[0],t=ge().memoizedState;return[typeof e=="boolean"?e:Bn(e),t]},useSyncExternalStore:gf,useId:Yf,useHostTransitionStatus:Xc,useFormState:Po,useActionState:Po,useOptimistic:function(e,t){var l=ge();return se!==null?Sf(l,se,e,t):(l.baseState=e,[e,l.queue.dispatch])},useMemoCache:Hc,useCacheRefresh:Gf};Zf.useEffectEvent=Of;function Li(e,t,l,a){t=e.memoizedState,l=l(a,t),l=l==null?t:de({},t,l),e.memoizedState=l,e.lanes===0&&(e.updateQueue.baseState=l)}var Lr={enqueueSetState:function(e,t,l){e=e._reactInternals;var a=lt(),n=hl(a);n.payload=t,l!=null&&(n.callback=l),t=xl(e,n,a),t!==null&&(Ze(t,e,a),nn(t,e,a))},enqueueReplaceState:function(e,t,l){e=e._reactInternals;var a=lt(),n=hl(a);n.tag=1,n.payload=t,l!=null&&(n.callback=l),t=xl(e,n,a),t!==null&&(Ze(t,e,a),nn(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var l=lt(),a=hl(l);a.tag=2,t!=null&&(a.callback=t),t=xl(e,a,l),t!==null&&(Ze(t,e,l),nn(t,e,l))}};function eu(e,t,l,a,n,i,r){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,i,r):t.prototype&&t.prototype.isPureReactComponent?!yn(l,a)||!yn(n,i):!0}function tu(e,t,l,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(l,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(l,a),t.state!==e&&Lr.enqueueReplaceState(t,t.state,null)}function Vl(e,t){var l=t;if("ref"in t){l={};for(var a in t)a!=="ref"&&(l[a]=t[a])}if(e=e.defaultProps){l===t&&(l=de({},l));for(var n in e)l[n]===void 0&&(l[n]=e[n])}return l}function Jf(e){As(e)}function Ff(e){console.error(e)}function Kf(e){As(e)}function Ds(e,t){try{var l=e.onUncaughtError;l(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function lu(e,t,l){try{var a=e.onCaughtError;a(l.value,{componentStack:l.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(n){setTimeout(function(){throw n})}}function Br(e,t,l){return l=hl(l),l.tag=3,l.payload={element:null},l.callback=function(){Ds(e,t)},l}function $f(e){return e=hl(e),e.tag=3,e}function Wf(e,t,l,a){var n=l.type.getDerivedStateFromError;if(typeof n=="function"){var i=a.value;e.payload=function(){return n(i)},e.callback=function(){lu(t,l,a)}}var r=l.stateNode;r!==null&&typeof r.componentDidCatch=="function"&&(e.callback=function(){lu(t,l,a),typeof n!="function"&&(pl===null?pl=new Set([this]):pl.add(this));var c=a.stack;this.componentDidCatch(a.value,{componentStack:c!==null?c:""})})}function Cx(e,t,l,a,n){if(l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=l.alternate,t!==null&&ka(t,l,n,!0),l=nt.current,l!==null){switch(l.tag){case 31:case 13:return ht===null?Gs():l.alternate===null&&he===0&&(he=3),l.flags&=-257,l.flags|=65536,l.lanes=n,a===_s?l.flags|=16384:(t=l.updateQueue,t===null?l.updateQueue=new Set([a]):t.add(a),Fi(e,a,n)),!1;case 22:return l.flags|=65536,a===_s?l.flags|=16384:(t=l.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},l.updateQueue=t):(l=t.retryQueue,l===null?t.retryQueue=new Set([a]):l.add(a)),Fi(e,a,n)),!1}throw Error(S(435,l.tag))}return Fi(e,a,n),Gs(),!1}if(F)return t=nt.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=n,a!==Er&&(e=Error(S(422),{cause:a}),vn(ft(e,l)))):(a!==Er&&(t=Error(S(423),{cause:a}),vn(ft(t,l))),e=e.current.alternate,e.flags|=65536,n&=-n,e.lanes|=n,a=ft(a,l),n=Br(e.stateNode,a,n),ki(e,n),he!==4&&(he=2)),!1;var i=Error(S(520),{cause:a});if(i=ft(i,l),dn===null?dn=[i]:dn.push(i),he!==4&&(he=2),t===null)return!0;a=ft(a,l),l=t;do{switch(l.tag){case 3:return l.flags|=65536,e=n&-n,l.lanes|=e,e=Br(l.stateNode,a,e),ki(l,e),!1;case 1:if(t=l.type,i=l.stateNode,(l.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(pl===null||!pl.has(i))))return l.flags|=65536,n&=-n,l.lanes|=n,n=$f(n),Wf(n,e,l,a),ki(l,n),!1}l=l.return}while(l!==null);return!1}var Jc=Error(S(461)),je=!1;function ze(e,t,l,a){t.child=e===null?df(t,null,l,a):Gl(t,e.child,l,a)}function au(e,t,l,a,n){l=l.render;var i=t.ref;if("ref"in a){var r={};for(var c in a)c!=="ref"&&(r[c]=a[c])}else r=a;return Yl(t),a=kc(e,t,l,r,i,n),c=Dc(),e!==null&&!je?(Lc(e,t,n),Ft(e,t,n)):(F&&c&&Ac(t),t.flags|=1,ze(e,t,a,n),t.child)}function nu(e,t,l,a,n){if(e===null){var i=l.type;return typeof i=="function"&&!Tc(i)&&i.defaultProps===void 0&&l.compare===null?(t.tag=15,t.type=i,Pf(e,t,i,a,n)):(e=ds(l.type,null,a,t,t.mode,n),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!Fc(e,n)){var r=i.memoizedProps;if(l=l.compare,l=l!==null?l:yn,l(r,a)&&e.ref===t.ref)return Ft(e,t,n)}return t.flags|=1,e=qt(i,a),e.ref=t.ref,e.return=t,t.child=e}function Pf(e,t,l,a,n){if(e!==null){var i=e.memoizedProps;if(yn(i,a)&&e.ref===t.ref)if(je=!1,t.pendingProps=a=i,Fc(e,n))e.flags&131072&&(je=!0);else return t.lanes=e.lanes,Ft(e,t,n)}return Hr(e,t,l,a,n)}function If(e,t,l,a){var n=a.children,i=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if(t.flags&128){if(i=i!==null?i.baseLanes|l:l,e!==null){for(a=t.child=e.child,n=0;a!==null;)n=n|a.lanes|a.childLanes,a=a.sibling;a=n&~i}else a=0,t.child=null;return su(e,t,i,l,a)}if(l&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&fs(t,i!==null?i.cachePool:null),i!==null?Jo(t,i):Mr(),hf(t);else return a=t.lanes=536870912,su(e,t,i!==null?i.baseLanes|l:l,l,a)}else i!==null?(fs(t,i.cachePool),Jo(t,i),al(),t.memoizedState=null):(e!==null&&fs(t,null),Mr(),al());return ze(e,t,n,l),t.child}function Wa(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function su(e,t,l,a,n){var i=zc();return i=i===null?null:{parent:ve._currentValue,pool:i},t.memoizedState={baseLanes:l,cachePool:i},e!==null&&fs(t,null),Mr(),hf(t),e!==null&&ka(e,t,a,!0),t.childLanes=n,null}function xs(e,t){return t=Ls({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function iu(e,t,l){return Gl(t,e.child,null,l),e=xs(t,t.pendingProps),e.flags|=2,$e(t),t.memoizedState=null,e}function Ox(e,t,l){var a=t.pendingProps,n=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(F){if(a.mode==="hidden")return e=xs(t,a),t.lanes=536870912,Wa(null,e);if(Rr(t),(e=oe)?(e=Q0(e,mt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:jl!==null?{id:Nt,overflow:St}:null,retryLane:536870912,hydrationErrors:null},l=af(e),l.return=t,t.child=l,Me=t,oe=null)):e=null,e===null)throw Nl(t);return t.lanes=536870912,null}return xs(t,a)}var i=e.memoizedState;if(i!==null){var r=i.dehydrated;if(Rr(t),n)if(t.flags&256)t.flags&=-257,t=iu(e,t,l);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(S(558));else if(je||ka(e,t,l,!1),n=(l&e.childLanes)!==0,je||n){if(a=ie,a!==null&&(r=Od(a,l),r!==0&&r!==i.retryLane))throw i.retryLane=r,Jl(e,r),Ze(a,e,r),Jc;Gs(),t=iu(e,t,l)}else e=i.treeContext,oe=xt(r.nextSibling),Me=t,F=!0,ml=null,mt=!1,e!==null&&sf(t,e),t=xs(t,a),t.flags|=4096;return t}return e=qt(e.child,{mode:a.mode,children:a.children}),e.ref=t.ref,t.child=e,e.return=t,e}function ps(e,t){var l=t.ref;if(l===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(S(284));(e===null||e.ref!==l)&&(t.flags|=4194816)}}function Hr(e,t,l,a,n){return Yl(t),l=kc(e,t,l,a,void 0,n),a=Dc(),e!==null&&!je?(Lc(e,t,n),Ft(e,t,n)):(F&&a&&Ac(t),t.flags|=1,ze(e,t,l,n),t.child)}function ru(e,t,l,a,n,i){return Yl(t),t.updateQueue=null,l=pf(t,a,l,n),xf(e),a=Dc(),e!==null&&!je?(Lc(e,t,i),Ft(e,t,i)):(F&&a&&Ac(t),t.flags|=1,ze(e,t,l,i),t.child)}function cu(e,t,l,a,n){if(Yl(t),t.stateNode===null){var i=oa,r=l.contextType;typeof r=="object"&&r!==null&&(i=Re(r)),i=new l(a,i),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Lr,t.stateNode=i,i._reactInternals=t,i=t.stateNode,i.props=a,i.state=t.memoizedState,i.refs={},Mc(t),r=l.contextType,i.context=typeof r=="object"&&r!==null?Re(r):oa,i.state=t.memoizedState,r=l.getDerivedStateFromProps,typeof r=="function"&&(Li(t,l,r,a),i.state=t.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(r=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),r!==i.state&&Lr.enqueueReplaceState(i,i.state,null),rn(t,a,i,n),sn(),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){i=t.stateNode;var c=t.memoizedProps,o=Vl(l,c);i.props=o;var u=i.context,p=l.contextType;r=oa,typeof p=="object"&&p!==null&&(r=Re(p));var d=l.getDerivedStateFromProps;p=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function",c=t.pendingProps!==c,p||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(c||u!==r)&&tu(t,i,a,r),el=!1;var h=t.memoizedState;i.state=h,rn(t,a,i,n),sn(),u=t.memoizedState,c||h!==u||el?(typeof d=="function"&&(Li(t,l,d,a),u=t.memoizedState),(o=el||eu(t,l,o,a,h,u,r))?(p||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=u),i.props=a,i.state=u,i.context=r,a=o):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{i=t.stateNode,zr(e,t),r=t.memoizedProps,p=Vl(l,r),i.props=p,d=t.pendingProps,h=i.context,u=l.contextType,o=oa,typeof u=="object"&&u!==null&&(o=Re(u)),c=l.getDerivedStateFromProps,(u=typeof c=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(r!==d||h!==o)&&tu(t,i,a,o),el=!1,h=t.memoizedState,i.state=h,rn(t,a,i,n),sn();var g=t.memoizedState;r!==d||h!==g||el||e!==null&&e.dependencies!==null&&zs(e.dependencies)?(typeof c=="function"&&(Li(t,l,c,a),g=t.memoizedState),(p=el||eu(t,l,p,a,h,g,o)||e!==null&&e.dependencies!==null&&zs(e.dependencies))?(u||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(a,g,o),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(a,g,o)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||r===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||r===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=g),i.props=a,i.state=g,i.context=o,a=p):(typeof i.componentDidUpdate!="function"||r===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||r===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),a=!1)}return i=a,ps(e,t),a=(t.flags&128)!==0,i||a?(i=t.stateNode,l=a&&typeof l.getDerivedStateFromError!="function"?null:i.render(),t.flags|=1,e!==null&&a?(t.child=Gl(t,e.child,null,n),t.child=Gl(t,null,l,n)):ze(e,t,l,n),t.memoizedState=i.state,e=t.child):e=Ft(e,t,n),e}function ou(e,t,l,a){return Hl(),t.flags|=256,ze(e,t,l,a),t.child}var Bi={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Hi(e){return{baseLanes:e,cachePool:cf()}}function Yi(e,t,l){return e=e!==null?e.childLanes&~l:0,t&&(e|=Pe),e}function e0(e,t,l){var a=t.pendingProps,n=!1,i=(t.flags&128)!==0,r;if((r=i)||(r=e!==null&&e.memoizedState===null?!1:(pe.current&2)!==0),r&&(n=!0,t.flags&=-129),r=(t.flags&32)!==0,t.flags&=-33,e===null){if(F){if(n?ll(t):al(),(e=oe)?(e=Q0(e,mt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:jl!==null?{id:Nt,overflow:St}:null,retryLane:536870912,hydrationErrors:null},l=af(e),l.return=t,t.child=l,Me=t,oe=null)):e=null,e===null)throw Nl(t);return Ir(e)?t.lanes=32:t.lanes=536870912,null}var c=a.children;return a=a.fallback,n?(al(),n=t.mode,c=Ls({mode:"hidden",children:c},n),a=Ul(a,n,l,null),c.return=t,a.return=t,c.sibling=a,t.child=c,a=t.child,a.memoizedState=Hi(l),a.childLanes=Yi(e,r,l),t.memoizedState=Bi,Wa(null,a)):(ll(t),Yr(t,c))}var o=e.memoizedState;if(o!==null&&(c=o.dehydrated,c!==null)){if(i)t.flags&256?(ll(t),t.flags&=-257,t=Gi(e,t,l)):t.memoizedState!==null?(al(),t.child=e.child,t.flags|=128,t=null):(al(),c=a.fallback,n=t.mode,a=Ls({mode:"visible",children:a.children},n),c=Ul(c,n,l,null),c.flags|=2,a.return=t,c.return=t,a.sibling=c,t.child=a,Gl(t,e.child,null,l),a=t.child,a.memoizedState=Hi(l),a.childLanes=Yi(e,r,l),t.memoizedState=Bi,t=Wa(null,a));else if(ll(t),Ir(c)){if(r=c.nextSibling&&c.nextSibling.dataset,r)var u=r.dgst;r=u,a=Error(S(419)),a.stack="",a.digest=r,vn({value:a,source:null,stack:null}),t=Gi(e,t,l)}else if(je||ka(e,t,l,!1),r=(l&e.childLanes)!==0,je||r){if(r=ie,r!==null&&(a=Od(r,l),a!==0&&a!==o.retryLane))throw o.retryLane=a,Jl(e,a),Ze(r,e,a),Jc;Pr(c)||Gs(),t=Gi(e,t,l)}else Pr(c)?(t.flags|=192,t.child=e.child,t=null):(e=o.treeContext,oe=xt(c.nextSibling),Me=t,F=!0,ml=null,mt=!1,e!==null&&sf(t,e),t=Yr(t,a.children),t.flags|=4096);return t}return n?(al(),c=a.fallback,n=t.mode,o=e.child,u=o.sibling,a=qt(o,{mode:"hidden",children:a.children}),a.subtreeFlags=o.subtreeFlags&65011712,u!==null?c=qt(u,c):(c=Ul(c,n,l,null),c.flags|=2),c.return=t,a.return=t,a.sibling=c,t.child=a,Wa(null,a),a=t.child,c=e.child.memoizedState,c===null?c=Hi(l):(n=c.cachePool,n!==null?(o=ve._currentValue,n=n.parent!==o?{parent:o,pool:o}:n):n=cf(),c={baseLanes:c.baseLanes|l,cachePool:n}),a.memoizedState=c,a.childLanes=Yi(e,r,l),t.memoizedState=Bi,Wa(e.child,a)):(ll(t),l=e.child,e=l.sibling,l=qt(l,{mode:"visible",children:a.children}),l.return=t,l.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=l,t.memoizedState=null,l)}function Yr(e,t){return t=Ls({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Ls(e,t){return e=We(22,e,null,t),e.lanes=0,e}function Gi(e,t,l){return Gl(t,e.child,null,l),e=Yr(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function uu(e,t,l){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),Ar(e.return,t,l)}function qi(e,t,l,a,n,i){var r=e.memoizedState;r===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:l,tailMode:n,treeForkCount:i}:(r.isBackwards=t,r.rendering=null,r.renderingStartTime=0,r.last=a,r.tail=l,r.tailMode=n,r.treeForkCount=i)}function t0(e,t,l){var a=t.pendingProps,n=a.revealOrder,i=a.tail;a=a.children;var r=pe.current,c=(r&2)!==0;if(c?(r=r&1|2,t.flags|=128):r&=1,re(pe,r),ze(e,t,a,l),a=F?bn:0,!c&&e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&uu(e,l,t);else if(e.tag===19)uu(e,l,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(n){case"forwards":for(l=t.child,n=null;l!==null;)e=l.alternate,e!==null&&Rs(e)===null&&(n=l),l=l.sibling;l=n,l===null?(n=t.child,t.child=null):(n=l.sibling,l.sibling=null),qi(t,!1,n,l,i,a);break;case"backwards":case"unstable_legacy-backwards":for(l=null,n=t.child,t.child=null;n!==null;){if(e=n.alternate,e!==null&&Rs(e)===null){t.child=n;break}e=n.sibling,n.sibling=l,l=n,n=e}qi(t,!0,l,null,i,a);break;case"together":qi(t,!1,null,null,void 0,a);break;default:t.memoizedState=null}return t.child}function Ft(e,t,l){if(e!==null&&(t.dependencies=e.dependencies),wl|=t.lanes,!(l&t.childLanes))if(e!==null){if(ka(e,t,l,!1),(l&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(S(153));if(t.child!==null){for(e=t.child,l=qt(e,e.pendingProps),t.child=l,l.return=t;e.sibling!==null;)e=e.sibling,l=l.sibling=qt(e,e.pendingProps),l.return=t;l.sibling=null}return t.child}function Fc(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&zs(e)))}function zx(e,t,l){switch(t.tag){case 3:Ss(t,t.stateNode.containerInfo),tl(t,ve,e.memoizedState.cache),Hl();break;case 27:case 5:hr(t);break;case 4:Ss(t,t.stateNode.containerInfo);break;case 10:tl(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Rr(t),null;break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(ll(t),t.flags|=128,null):l&t.child.childLanes?e0(e,t,l):(ll(t),e=Ft(e,t,l),e!==null?e.sibling:null);ll(t);break;case 19:var n=(e.flags&128)!==0;if(a=(l&t.childLanes)!==0,a||(ka(e,t,l,!1),a=(l&t.childLanes)!==0),n){if(a)return t0(e,t,l);t.flags|=128}if(n=t.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),re(pe,pe.current),a)break;return null;case 22:return t.lanes=0,If(e,t,l,t.pendingProps);case 24:tl(t,ve,e.memoizedState.cache)}return Ft(e,t,l)}function l0(e,t,l){if(e!==null)if(e.memoizedProps!==t.pendingProps)je=!0;else{if(!Fc(e,l)&&!(t.flags&128))return je=!1,zx(e,t,l);je=!!(e.flags&131072)}else je=!1,F&&t.flags&1048576&&nf(t,bn,t.index);switch(t.lanes=0,t.tag){case 16:e:{var a=t.pendingProps;if(e=_l(t.elementType),t.type=e,typeof e=="function")Tc(e)?(a=Vl(e,a),t.tag=1,t=cu(null,t,e,a,l)):(t.tag=0,t=Hr(null,t,e,a,l));else{if(e!=null){var n=e.$$typeof;if(n===fc){t.tag=11,t=au(null,t,e,a,l);break e}else if(n===mc){t.tag=14,t=nu(null,t,e,a,l);break e}}throw t=fr(e)||e,Error(S(306,t,""))}}return t;case 0:return Hr(e,t,t.type,t.pendingProps,l);case 1:return a=t.type,n=Vl(a,t.pendingProps),cu(e,t,a,n,l);case 3:e:{if(Ss(t,t.stateNode.containerInfo),e===null)throw Error(S(387));a=t.pendingProps;var i=t.memoizedState;n=i.element,zr(e,t),rn(t,a,null,l);var r=t.memoizedState;if(a=r.cache,tl(t,ve,a),a!==i.cache&&Cr(t,[ve],l,!0),sn(),a=r.element,i.isDehydrated)if(i={element:a,isDehydrated:!1,cache:r.cache},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){t=ou(e,t,a,l);break e}else if(a!==n){n=ft(Error(S(424)),t),vn(n),t=ou(e,t,a,l);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(oe=xt(e.firstChild),Me=t,F=!0,ml=null,mt=!0,l=df(t,null,a,l),t.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Hl(),a===n){t=Ft(e,t,l);break e}ze(e,t,a,l)}t=t.child}return t;case 26:return ps(e,t),e===null?(l=zu(t.type,null,t.pendingProps,null))?t.memoizedState=l:F||(l=t.type,e=t.pendingProps,a=Qs(fl.current).createElement(l),a[_e]=t,a[Je]=e,Ue(a,l,e),Ce(a),t.stateNode=a):t.memoizedState=zu(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return hr(t),e===null&&F&&(a=t.stateNode=Z0(t.type,t.pendingProps,fl.current),Me=t,mt=!0,n=oe,Tl(t.type)?(ec=n,oe=xt(a.firstChild)):oe=n),ze(e,t,t.pendingProps.children,l),ps(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&F&&((n=a=oe)&&(a=ip(a,t.type,t.pendingProps,mt),a!==null?(t.stateNode=a,Me=t,oe=xt(a.firstChild),mt=!1,n=!0):n=!1),n||Nl(t)),hr(t),n=t.type,i=t.pendingProps,r=e!==null?e.memoizedProps:null,a=i.children,$r(n,i)?a=null:r!==null&&$r(n,r)&&(t.flags|=32),t.memoizedState!==null&&(n=kc(e,t,jx,null,null,l),Tn._currentValue=n),ps(e,t),ze(e,t,a,l),t.child;case 6:return e===null&&F&&((e=l=oe)&&(l=rp(l,t.pendingProps,mt),l!==null?(t.stateNode=l,Me=t,oe=null,e=!0):e=!1),e||Nl(t)),null;case 13:return e0(e,t,l);case 4:return Ss(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=Gl(t,null,a,l):ze(e,t,a,l),t.child;case 11:return au(e,t,t.type,t.pendingProps,l);case 7:return ze(e,t,t.pendingProps,l),t.child;case 8:return ze(e,t,t.pendingProps.children,l),t.child;case 12:return ze(e,t,t.pendingProps.children,l),t.child;case 10:return a=t.pendingProps,tl(t,t.type,a.value),ze(e,t,a.children,l),t.child;case 9:return n=t.type._context,a=t.pendingProps.children,Yl(t),n=Re(n),a=a(n),t.flags|=1,ze(e,t,a,l),t.child;case 14:return nu(e,t,t.type,t.pendingProps,l);case 15:return Pf(e,t,t.type,t.pendingProps,l);case 19:return t0(e,t,l);case 31:return Ox(e,t,l);case 22:return If(e,t,l,t.pendingProps);case 24:return Yl(t),a=Re(ve),e===null?(n=zc(),n===null&&(n=ie,i=Oc(),n.pooledCache=i,i.refCount++,i!==null&&(n.pooledCacheLanes|=l),n=i),t.memoizedState={parent:a,cache:n},Mc(t),tl(t,ve,n)):(e.lanes&l&&(zr(e,t),rn(t,null,null,l),sn()),n=e.memoizedState,i=t.memoizedState,n.parent!==a?(n={parent:a,cache:a},t.memoizedState=n,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=n),tl(t,ve,a)):(a=i.cache,tl(t,ve,a),a!==n.cache&&Cr(t,[ve],l,!0))),ze(e,t,t.pendingProps.children,l),t.child;case 29:throw t.pendingProps}throw Error(S(156,t.tag))}function zt(e){e.flags|=4}function Vi(e,t,l,a,n){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(n&335544128)===n)if(e.stateNode.complete)e.flags|=8192;else if(T0())e.flags|=8192;else throw Dl=_s,_c}else e.flags&=-16777217}function du(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!K0(t))if(T0())e.flags|=8192;else throw Dl=_s,_c}function ts(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Td():536870912,e.lanes|=t,Aa|=t)}function Qa(e,t){if(!F)switch(e.tailMode){case"hidden":t=e.tail;for(var l=null;t!==null;)t.alternate!==null&&(l=t),t=t.sibling;l===null?e.tail=null:l.sibling=null;break;case"collapsed":l=e.tail;for(var a=null;l!==null;)l.alternate!==null&&(a=l),l=l.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function ce(e){var t=e.alternate!==null&&e.alternate.child===e.child,l=0,a=0;if(t)for(var n=e.child;n!==null;)l|=n.lanes|n.childLanes,a|=n.subtreeFlags&65011712,a|=n.flags&65011712,n.return=e,n=n.sibling;else for(n=e.child;n!==null;)l|=n.lanes|n.childLanes,a|=n.subtreeFlags,a|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=a,e.childLanes=l,t}function _x(e,t,l){var a=t.pendingProps;switch(Cc(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ce(t),null;case 1:return ce(t),null;case 3:return l=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Vt(ve),ja(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(Kl(t)?zt(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ui())),ce(t),null;case 26:var n=t.type,i=t.memoizedState;return e===null?(zt(t),i!==null?(ce(t),du(t,i)):(ce(t),Vi(t,n,null,a,l))):i?i!==e.memoizedState?(zt(t),ce(t),du(t,i)):(ce(t),t.flags&=-16777217):(e=e.memoizedProps,e!==a&&zt(t),ce(t),Vi(t,n,e,a,l)),null;case 27:if(ws(t),l=fl.current,n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&zt(t);else{if(!a){if(t.stateNode===null)throw Error(S(166));return ce(t),null}e=Tt.current,Kl(t)?Yo(t):(e=Z0(n,a,l),t.stateNode=e,zt(t))}return ce(t),null;case 5:if(ws(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&zt(t);else{if(!a){if(t.stateNode===null)throw Error(S(166));return ce(t),null}if(i=Tt.current,Kl(t))Yo(t);else{var r=Qs(fl.current);switch(i){case 1:i=r.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:i=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":i=r.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":i=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":i=r.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof a.is=="string"?r.createElement("select",{is:a.is}):r.createElement("select"),a.multiple?i.multiple=!0:a.size&&(i.size=a.size);break;default:i=typeof a.is=="string"?r.createElement(n,{is:a.is}):r.createElement(n)}}i[_e]=t,i[Je]=a;e:for(r=t.child;r!==null;){if(r.tag===5||r.tag===6)i.appendChild(r.stateNode);else if(r.tag!==4&&r.tag!==27&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}t.stateNode=i;e:switch(Ue(i,n,a),n){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&zt(t)}}return ce(t),Vi(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,l),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&zt(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(S(166));if(e=fl.current,Kl(t)){if(e=t.stateNode,l=t.memoizedProps,a=null,n=Me,n!==null)switch(n.tag){case 27:case 5:a=n.memoizedProps}e[_e]=t,e=!!(e.nodeValue===l||a!==null&&a.suppressHydrationWarning===!0||q0(e.nodeValue,l)),e||Nl(t,!0)}else e=Qs(e).createTextNode(a),e[_e]=t,t.stateNode=e}return ce(t),null;case 31:if(l=t.memoizedState,e===null||e.memoizedState!==null){if(a=Kl(t),l!==null){if(e===null){if(!a)throw Error(S(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(S(557));e[_e]=t}else Hl(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ce(t),e=!1}else l=Ui(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=l),e=!0;if(!e)return t.flags&256?($e(t),t):($e(t),null);if(t.flags&128)throw Error(S(558))}return ce(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(n=Kl(t),a!==null&&a.dehydrated!==null){if(e===null){if(!n)throw Error(S(318));if(n=t.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(S(317));n[_e]=t}else Hl(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ce(t),n=!1}else n=Ui(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),n=!0;if(!n)return t.flags&256?($e(t),t):($e(t),null)}return $e(t),t.flags&128?(t.lanes=l,t):(l=a!==null,e=e!==null&&e.memoizedState!==null,l&&(a=t.child,n=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(n=a.alternate.memoizedState.cachePool.pool),i=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==n&&(a.flags|=2048)),l!==e&&l&&(t.child.flags|=8192),ts(t,t.updateQueue),ce(t),null);case 4:return ja(),e===null&&to(t.stateNode.containerInfo),ce(t),null;case 10:return Vt(t.type),ce(t),null;case 19:if(Oe(pe),a=t.memoizedState,a===null)return ce(t),null;if(n=(t.flags&128)!==0,i=a.rendering,i===null)if(n)Qa(a,!1);else{if(he!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Rs(e),i!==null){for(t.flags|=128,Qa(a,!1),e=i.updateQueue,t.updateQueue=e,ts(t,e),t.subtreeFlags=0,e=l,l=t.child;l!==null;)lf(l,e),l=l.sibling;return re(pe,pe.current&1|2),F&&kt(t,a.treeForkCount),t.child}e=e.sibling}a.tail!==null&&Ie()>Hs&&(t.flags|=128,n=!0,Qa(a,!1),t.lanes=4194304)}else{if(!n)if(e=Rs(i),e!==null){if(t.flags|=128,n=!0,e=e.updateQueue,t.updateQueue=e,ts(t,e),Qa(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!F)return ce(t),null}else 2*Ie()-a.renderingStartTime>Hs&&l!==536870912&&(t.flags|=128,n=!0,Qa(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(e=a.last,e!==null?e.sibling=i:t.child=i,a.last=i)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Ie(),e.sibling=null,l=pe.current,re(pe,n?l&1|2:l&1),F&&kt(t,a.treeForkCount),e):(ce(t),null);case 22:case 23:return $e(t),Rc(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?l&536870912&&!(t.flags&128)&&(ce(t),t.subtreeFlags&6&&(t.flags|=8192)):ce(t),l=t.updateQueue,l!==null&&ts(t,l.retryQueue),l=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==l&&(t.flags|=2048),e!==null&&Oe(kl),null;case 24:return l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),Vt(ve),ce(t),null;case 25:return null;case 30:return null}throw Error(S(156,t.tag))}function Mx(e,t){switch(Cc(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Vt(ve),ja(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return ws(t),null;case 31:if(t.memoizedState!==null){if($e(t),t.alternate===null)throw Error(S(340));Hl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if($e(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(S(340));Hl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Oe(pe),null;case 4:return ja(),null;case 10:return Vt(t.type),null;case 22:case 23:return $e(t),Rc(),e!==null&&Oe(kl),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Vt(ve),null;case 25:return null;default:return null}}function a0(e,t){switch(Cc(t),t.tag){case 3:Vt(ve),ja();break;case 26:case 27:case 5:ws(t);break;case 4:ja();break;case 31:t.memoizedState!==null&&$e(t);break;case 13:$e(t);break;case 19:Oe(pe);break;case 10:Vt(t.type);break;case 22:case 23:$e(t),Rc(),e!==null&&Oe(kl);break;case 24:Vt(ve)}}function Hn(e,t){try{var l=t.updateQueue,a=l!==null?l.lastEffect:null;if(a!==null){var n=a.next;l=n;do{if((l.tag&e)===e){a=void 0;var i=l.create,r=l.inst;a=i(),r.destroy=a}l=l.next}while(l!==n)}}catch(c){le(t,t.return,c)}}function Sl(e,t,l){try{var a=t.updateQueue,n=a!==null?a.lastEffect:null;if(n!==null){var i=n.next;a=i;do{if((a.tag&e)===e){var r=a.inst,c=r.destroy;if(c!==void 0){r.destroy=void 0,n=t;var o=l,u=c;try{u()}catch(p){le(n,o,p)}}}a=a.next}while(a!==i)}}catch(p){le(t,t.return,p)}}function n0(e){var t=e.updateQueue;if(t!==null){var l=e.stateNode;try{mf(t,l)}catch(a){le(e,e.return,a)}}}function s0(e,t,l){l.props=Vl(e.type,e.memoizedProps),l.state=e.memoizedState;try{l.componentWillUnmount()}catch(a){le(e,t,a)}}function on(e,t){try{var l=e.ref;if(l!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof l=="function"?e.refCleanup=l(a):l.current=a}}catch(n){le(e,t,n)}}function wt(e,t){var l=e.ref,a=e.refCleanup;if(l!==null)if(typeof a=="function")try{a()}catch(n){le(e,t,n)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(n){le(e,t,n)}else l.current=null}function i0(e){var t=e.type,l=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":l.autoFocus&&a.focus();break e;case"img":l.src?a.src=l.src:l.srcSet&&(a.srcset=l.srcSet)}}catch(n){le(e,e.return,n)}}function Xi(e,t,l){try{var a=e.stateNode;ep(a,e.type,l,t),a[Je]=t}catch(n){le(e,e.return,n)}}function r0(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Tl(e.type)||e.tag===4}function Qi(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||r0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Tl(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Gr(e,t,l){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(e,t):(t=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,t.appendChild(e),l=l._reactRootContainer,l!=null||t.onclick!==null||(t.onclick=Bt));else if(a!==4&&(a===27&&Tl(e.type)&&(l=e.stateNode,t=null),e=e.child,e!==null))for(Gr(e,t,l),e=e.sibling;e!==null;)Gr(e,t,l),e=e.sibling}function Bs(e,t,l){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?l.insertBefore(e,t):l.appendChild(e);else if(a!==4&&(a===27&&Tl(e.type)&&(l=e.stateNode),e=e.child,e!==null))for(Bs(e,t,l),e=e.sibling;e!==null;)Bs(e,t,l),e=e.sibling}function c0(e){var t=e.stateNode,l=e.memoizedProps;try{for(var a=e.type,n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Ue(t,a,l),t[_e]=e,t[Je]=l}catch(i){le(e,e.return,i)}}var Dt=!1,be=!1,Zi=!1,fu=typeof WeakSet=="function"?WeakSet:Set,Ae=null;function Rx(e,t){if(e=e.containerInfo,Fr=Ks,e=Fd(e),Sc(e)){if("selectionStart"in e)var l={start:e.selectionStart,end:e.selectionEnd};else e:{l=(l=e.ownerDocument)&&l.defaultView||window;var a=l.getSelection&&l.getSelection();if(a&&a.rangeCount!==0){l=a.anchorNode;var n=a.anchorOffset,i=a.focusNode;a=a.focusOffset;try{l.nodeType,i.nodeType}catch{l=null;break e}var r=0,c=-1,o=-1,u=0,p=0,d=e,h=null;t:for(;;){for(var g;d!==l||n!==0&&d.nodeType!==3||(c=r+n),d!==i||a!==0&&d.nodeType!==3||(o=r+a),d.nodeType===3&&(r+=d.nodeValue.length),(g=d.firstChild)!==null;)h=d,d=g;for(;;){if(d===e)break t;if(h===l&&++u===n&&(c=r),h===i&&++p===a&&(o=r),(g=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=g}l=c===-1||o===-1?null:{start:c,end:o}}else l=null}l=l||{start:0,end:0}}else l=null;for(Kr={focusedElem:e,selectionRange:l},Ks=!1,Ae=t;Ae!==null;)if(t=Ae,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ae=e;else for(;Ae!==null;){switch(t=Ae,i=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(l=0;l<e.length;l++)n=e[l],n.ref.impl=n.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&i!==null){e=void 0,l=t,n=i.memoizedProps,i=i.memoizedState,a=l.stateNode;try{var j=Vl(l.type,n);e=a.getSnapshotBeforeUpdate(j,i),a.__reactInternalSnapshotBeforeUpdate=e}catch(y){le(l,l.return,y)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,l=e.nodeType,l===9)Wr(e);else if(l===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Wr(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(S(163))}if(e=t.sibling,e!==null){e.return=t.return,Ae=e;break}Ae=t.return}}function o0(e,t,l){var a=l.flags;switch(l.tag){case 0:case 11:case 15:Mt(e,l),a&4&&Hn(5,l);break;case 1:if(Mt(e,l),a&4)if(e=l.stateNode,t===null)try{e.componentDidMount()}catch(r){le(l,l.return,r)}else{var n=Vl(l.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(n,t,e.__reactInternalSnapshotBeforeUpdate)}catch(r){le(l,l.return,r)}}a&64&&n0(l),a&512&&on(l,l.return);break;case 3:if(Mt(e,l),a&64&&(e=l.updateQueue,e!==null)){if(t=null,l.child!==null)switch(l.child.tag){case 27:case 5:t=l.child.stateNode;break;case 1:t=l.child.stateNode}try{mf(e,t)}catch(r){le(l,l.return,r)}}break;case 27:t===null&&a&4&&c0(l);case 26:case 5:Mt(e,l),t===null&&a&4&&i0(l),a&512&&on(l,l.return);break;case 12:Mt(e,l);break;case 31:Mt(e,l),a&4&&f0(e,l);break;case 13:Mt(e,l),a&4&&m0(e,l),a&64&&(e=l.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(l=qx.bind(null,l),cp(e,l))));break;case 22:if(a=l.memoizedState!==null||Dt,!a){t=t!==null&&t.memoizedState!==null||be,n=Dt;var i=be;Dt=a,(be=t)&&!i?Rt(e,l,(l.subtreeFlags&8772)!==0):Mt(e,l),Dt=n,be=i}break;case 30:break;default:Mt(e,l)}}function u0(e){var t=e.alternate;t!==null&&(e.alternate=null,u0(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&gc(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var fe=null,Ve=!1;function _t(e,t,l){for(l=l.child;l!==null;)d0(e,t,l),l=l.sibling}function d0(e,t,l){if(et&&typeof et.onCommitFiberUnmount=="function")try{et.onCommitFiberUnmount(Mn,l)}catch{}switch(l.tag){case 26:be||wt(l,t),_t(e,t,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:be||wt(l,t);var a=fe,n=Ve;Tl(l.type)&&(fe=l.stateNode,Ve=!1),_t(e,t,l),mn(l.stateNode),fe=a,Ve=n;break;case 5:be||wt(l,t);case 6:if(a=fe,n=Ve,fe=null,_t(e,t,l),fe=a,Ve=n,fe!==null)if(Ve)try{(fe.nodeType===9?fe.body:fe.nodeName==="HTML"?fe.ownerDocument.body:fe).removeChild(l.stateNode)}catch(i){le(l,t,i)}else try{fe.removeChild(l.stateNode)}catch(i){le(l,t,i)}break;case 18:fe!==null&&(Ve?(e=fe,Eu(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,l.stateNode),_a(e)):Eu(fe,l.stateNode));break;case 4:a=fe,n=Ve,fe=l.stateNode.containerInfo,Ve=!0,_t(e,t,l),fe=a,Ve=n;break;case 0:case 11:case 14:case 15:Sl(2,l,t),be||Sl(4,l,t),_t(e,t,l);break;case 1:be||(wt(l,t),a=l.stateNode,typeof a.componentWillUnmount=="function"&&s0(l,t,a)),_t(e,t,l);break;case 21:_t(e,t,l);break;case 22:be=(a=be)||l.memoizedState!==null,_t(e,t,l),be=a;break;default:_t(e,t,l)}}function f0(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{_a(e)}catch(l){le(t,t.return,l)}}}function m0(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{_a(e)}catch(l){le(t,t.return,l)}}function Ux(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new fu),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new fu),t;default:throw Error(S(435,e.tag))}}function ls(e,t){var l=Ux(e);t.forEach(function(a){if(!l.has(a)){l.add(a);var n=Vx.bind(null,e,a);a.then(n,n)}})}function Ge(e,t){var l=t.deletions;if(l!==null)for(var a=0;a<l.length;a++){var n=l[a],i=e,r=t,c=r;e:for(;c!==null;){switch(c.tag){case 27:if(Tl(c.type)){fe=c.stateNode,Ve=!1;break e}break;case 5:fe=c.stateNode,Ve=!1;break e;case 3:case 4:fe=c.stateNode.containerInfo,Ve=!0;break e}c=c.return}if(fe===null)throw Error(S(160));d0(i,r,n),fe=null,Ve=!1,i=n.alternate,i!==null&&(i.return=null),n.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)h0(t,e),t=t.sibling}var yt=null;function h0(e,t){var l=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ge(t,e),qe(e),a&4&&(Sl(3,e,e.return),Hn(3,e),Sl(5,e,e.return));break;case 1:Ge(t,e),qe(e),a&512&&(be||l===null||wt(l,l.return)),a&64&&Dt&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(l=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=l===null?a:l.concat(a))));break;case 26:var n=yt;if(Ge(t,e),qe(e),a&512&&(be||l===null||wt(l,l.return)),a&4){var i=l!==null?l.memoizedState:null;if(a=e.memoizedState,l===null)if(a===null)if(e.stateNode===null){e:{a=e.type,l=e.memoizedProps,n=n.ownerDocument||n;t:switch(a){case"title":i=n.getElementsByTagName("title")[0],(!i||i[kn]||i[_e]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=n.createElement(a),n.head.insertBefore(i,n.querySelector("head > title"))),Ue(i,a,l),i[_e]=e,Ce(i),a=i;break e;case"link":var r=Mu("link","href",n).get(a+(l.href||""));if(r){for(var c=0;c<r.length;c++)if(i=r[c],i.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&i.getAttribute("rel")===(l.rel==null?null:l.rel)&&i.getAttribute("title")===(l.title==null?null:l.title)&&i.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){r.splice(c,1);break t}}i=n.createElement(a),Ue(i,a,l),n.head.appendChild(i);break;case"meta":if(r=Mu("meta","content",n).get(a+(l.content||""))){for(c=0;c<r.length;c++)if(i=r[c],i.getAttribute("content")===(l.content==null?null:""+l.content)&&i.getAttribute("name")===(l.name==null?null:l.name)&&i.getAttribute("property")===(l.property==null?null:l.property)&&i.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&i.getAttribute("charset")===(l.charSet==null?null:l.charSet)){r.splice(c,1);break t}}i=n.createElement(a),Ue(i,a,l),n.head.appendChild(i);break;default:throw Error(S(468,a))}i[_e]=e,Ce(i),a=i}e.stateNode=a}else Ru(n,e.type,e.stateNode);else e.stateNode=_u(n,a,e.memoizedProps);else i!==a?(i===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):i.count--,a===null?Ru(n,e.type,e.stateNode):_u(n,a,e.memoizedProps)):a===null&&e.stateNode!==null&&Xi(e,e.memoizedProps,l.memoizedProps)}break;case 27:Ge(t,e),qe(e),a&512&&(be||l===null||wt(l,l.return)),l!==null&&a&4&&Xi(e,e.memoizedProps,l.memoizedProps);break;case 5:if(Ge(t,e),qe(e),a&512&&(be||l===null||wt(l,l.return)),e.flags&32){n=e.stateNode;try{Sa(n,"")}catch(j){le(e,e.return,j)}}a&4&&e.stateNode!=null&&(n=e.memoizedProps,Xi(e,n,l!==null?l.memoizedProps:n)),a&1024&&(Zi=!0);break;case 6:if(Ge(t,e),qe(e),a&4){if(e.stateNode===null)throw Error(S(162));a=e.memoizedProps,l=e.stateNode;try{l.nodeValue=a}catch(j){le(e,e.return,j)}}break;case 3:if(bs=null,n=yt,yt=Zs(t.containerInfo),Ge(t,e),yt=n,qe(e),a&4&&l!==null&&l.memoizedState.isDehydrated)try{_a(t.containerInfo)}catch(j){le(e,e.return,j)}Zi&&(Zi=!1,x0(e));break;case 4:a=yt,yt=Zs(e.stateNode.containerInfo),Ge(t,e),qe(e),yt=a;break;case 12:Ge(t,e),qe(e);break;case 31:Ge(t,e),qe(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,ls(e,a)));break;case 13:Ge(t,e),qe(e),e.child.flags&8192&&e.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(di=Ie()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,ls(e,a)));break;case 22:n=e.memoizedState!==null;var o=l!==null&&l.memoizedState!==null,u=Dt,p=be;if(Dt=u||n,be=p||o,Ge(t,e),be=p,Dt=u,qe(e),a&8192)e:for(t=e.stateNode,t._visibility=n?t._visibility&-2:t._visibility|1,n&&(l===null||o||Dt||be||Ml(e)),l=null,t=e;;){if(t.tag===5||t.tag===26){if(l===null){o=l=t;try{if(i=o.stateNode,n)r=i.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{c=o.stateNode;var d=o.memoizedProps.style,h=d!=null&&d.hasOwnProperty("display")?d.display:null;c.style.display=h==null||typeof h=="boolean"?"":(""+h).trim()}}catch(j){le(o,o.return,j)}}}else if(t.tag===6){if(l===null){o=t;try{o.stateNode.nodeValue=n?"":o.memoizedProps}catch(j){le(o,o.return,j)}}}else if(t.tag===18){if(l===null){o=t;try{var g=o.stateNode;n?Tu(g,!0):Tu(o.stateNode,!1)}catch(j){le(o,o.return,j)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;l===t&&(l=null),t=t.return}l===t&&(l=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(l=a.retryQueue,l!==null&&(a.retryQueue=null,ls(e,l))));break;case 19:Ge(t,e),qe(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,ls(e,a)));break;case 30:break;case 21:break;default:Ge(t,e),qe(e)}}function qe(e){var t=e.flags;if(t&2){try{for(var l,a=e.return;a!==null;){if(r0(a)){l=a;break}a=a.return}if(l==null)throw Error(S(160));switch(l.tag){case 27:var n=l.stateNode,i=Qi(e);Bs(e,i,n);break;case 5:var r=l.stateNode;l.flags&32&&(Sa(r,""),l.flags&=-33);var c=Qi(e);Bs(e,c,r);break;case 3:case 4:var o=l.stateNode.containerInfo,u=Qi(e);Gr(e,u,o);break;default:throw Error(S(161))}}catch(p){le(e,e.return,p)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function x0(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;x0(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Mt(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)o0(e,t.alternate,t),t=t.sibling}function Ml(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Sl(4,t,t.return),Ml(t);break;case 1:wt(t,t.return);var l=t.stateNode;typeof l.componentWillUnmount=="function"&&s0(t,t.return,l),Ml(t);break;case 27:mn(t.stateNode);case 26:case 5:wt(t,t.return),Ml(t);break;case 22:t.memoizedState===null&&Ml(t);break;case 30:Ml(t);break;default:Ml(t)}e=e.sibling}}function Rt(e,t,l){for(l=l&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,n=e,i=t,r=i.flags;switch(i.tag){case 0:case 11:case 15:Rt(n,i,l),Hn(4,i);break;case 1:if(Rt(n,i,l),a=i,n=a.stateNode,typeof n.componentDidMount=="function")try{n.componentDidMount()}catch(u){le(a,a.return,u)}if(a=i,n=a.updateQueue,n!==null){var c=a.stateNode;try{var o=n.shared.hiddenCallbacks;if(o!==null)for(n.shared.hiddenCallbacks=null,n=0;n<o.length;n++)ff(o[n],c)}catch(u){le(a,a.return,u)}}l&&r&64&&n0(i),on(i,i.return);break;case 27:c0(i);case 26:case 5:Rt(n,i,l),l&&a===null&&r&4&&i0(i),on(i,i.return);break;case 12:Rt(n,i,l);break;case 31:Rt(n,i,l),l&&r&4&&f0(n,i);break;case 13:Rt(n,i,l),l&&r&4&&m0(n,i);break;case 22:i.memoizedState===null&&Rt(n,i,l),on(i,i.return);break;case 30:break;default:Rt(n,i,l)}t=t.sibling}}function Kc(e,t){var l=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==l&&(e!=null&&e.refCount++,l!=null&&Ln(l))}function $c(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ln(e))}function gt(e,t,l,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)p0(e,t,l,a),t=t.sibling}function p0(e,t,l,a){var n=t.flags;switch(t.tag){case 0:case 11:case 15:gt(e,t,l,a),n&2048&&Hn(9,t);break;case 1:gt(e,t,l,a);break;case 3:gt(e,t,l,a),n&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ln(e)));break;case 12:if(n&2048){gt(e,t,l,a),e=t.stateNode;try{var i=t.memoizedProps,r=i.id,c=i.onPostCommit;typeof c=="function"&&c(r,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(o){le(t,t.return,o)}}else gt(e,t,l,a);break;case 31:gt(e,t,l,a);break;case 13:gt(e,t,l,a);break;case 23:break;case 22:i=t.stateNode,r=t.alternate,t.memoizedState!==null?i._visibility&2?gt(e,t,l,a):un(e,t):i._visibility&2?gt(e,t,l,a):(i._visibility|=2,Il(e,t,l,a,(t.subtreeFlags&10256)!==0||!1)),n&2048&&Kc(r,t);break;case 24:gt(e,t,l,a),n&2048&&$c(t.alternate,t);break;default:gt(e,t,l,a)}}function Il(e,t,l,a,n){for(n=n&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var i=e,r=t,c=l,o=a,u=r.flags;switch(r.tag){case 0:case 11:case 15:Il(i,r,c,o,n),Hn(8,r);break;case 23:break;case 22:var p=r.stateNode;r.memoizedState!==null?p._visibility&2?Il(i,r,c,o,n):un(i,r):(p._visibility|=2,Il(i,r,c,o,n)),n&&u&2048&&Kc(r.alternate,r);break;case 24:Il(i,r,c,o,n),n&&u&2048&&$c(r.alternate,r);break;default:Il(i,r,c,o,n)}t=t.sibling}}function un(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var l=e,a=t,n=a.flags;switch(a.tag){case 22:un(l,a),n&2048&&Kc(a.alternate,a);break;case 24:un(l,a),n&2048&&$c(a.alternate,a);break;default:un(l,a)}t=t.sibling}}var Pa=8192;function $l(e,t,l){if(e.subtreeFlags&Pa)for(e=e.child;e!==null;)g0(e,t,l),e=e.sibling}function g0(e,t,l){switch(e.tag){case 26:$l(e,t,l),e.flags&Pa&&e.memoizedState!==null&&vp(l,yt,e.memoizedState,e.memoizedProps);break;case 5:$l(e,t,l);break;case 3:case 4:var a=yt;yt=Zs(e.stateNode.containerInfo),$l(e,t,l),yt=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=Pa,Pa=16777216,$l(e,t,l),Pa=a):$l(e,t,l));break;default:$l(e,t,l)}}function y0(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Za(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var l=0;l<t.length;l++){var a=t[l];Ae=a,v0(a,e)}y0(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)b0(e),e=e.sibling}function b0(e){switch(e.tag){case 0:case 11:case 15:Za(e),e.flags&2048&&Sl(9,e,e.return);break;case 3:Za(e);break;case 12:Za(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,gs(e)):Za(e);break;default:Za(e)}}function gs(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var l=0;l<t.length;l++){var a=t[l];Ae=a,v0(a,e)}y0(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Sl(8,t,t.return),gs(t);break;case 22:l=t.stateNode,l._visibility&2&&(l._visibility&=-3,gs(t));break;default:gs(t)}e=e.sibling}}function v0(e,t){for(;Ae!==null;){var l=Ae;switch(l.tag){case 0:case 11:case 15:Sl(8,l,t);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var a=l.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:Ln(l.memoizedState.cache)}if(a=l.child,a!==null)a.return=l,Ae=a;else e:for(l=e;Ae!==null;){a=Ae;var n=a.sibling,i=a.return;if(u0(a),a===l){Ae=null;break e}if(n!==null){n.return=i,Ae=n;break e}Ae=i}}}var kx={getCacheForType:function(e){var t=Re(ve),l=t.data.get(e);return l===void 0&&(l=e(),t.data.set(e,l)),l},cacheSignal:function(){return Re(ve).controller.signal}},Dx=typeof WeakMap=="function"?WeakMap:Map,I=0,ie=null,Z=null,J=0,te=0,Ke=null,rl=!1,La=!1,Wc=!1,Kt=0,he=0,wl=0,Ll=0,Pc=0,Pe=0,Aa=0,dn=null,Xe=null,qr=!1,di=0,j0=0,Hs=1/0,Ys=null,pl=null,we=0,gl=null,Ca=null,Xt=0,Vr=0,Xr=null,N0=null,fn=0,Qr=null;function lt(){return I&2&&J!==0?J&-J:L.T!==null?eo():zd()}function S0(){if(Pe===0)if(!(J&536870912)||F){var e=Fn;Fn<<=1,!(Fn&3932160)&&(Fn=262144),Pe=e}else Pe=536870912;return e=nt.current,e!==null&&(e.flags|=32),Pe}function Ze(e,t,l){(e===ie&&(te===2||te===9)||e.cancelPendingCommit!==null)&&(Oa(e,0),cl(e,J,Pe,!1)),Un(e,l),(!(I&2)||e!==ie)&&(e===ie&&(!(I&2)&&(Ll|=l),he===4&&cl(e,J,Pe,!1)),Ct(e))}function w0(e,t,l){if(I&6)throw Error(S(327));var a=!l&&(t&127)===0&&(t&e.expiredLanes)===0||Rn(e,t),n=a?Hx(e,t):Ji(e,t,!0),i=a;do{if(n===0){La&&!a&&cl(e,t,0,!1);break}else{if(l=e.current.alternate,i&&!Lx(l)){n=Ji(e,t,!1),i=!1;continue}if(n===2){if(i=t,e.errorRecoveryDisabledLanes&i)var r=0;else r=e.pendingLanes&-536870913,r=r!==0?r:r&536870912?536870912:0;if(r!==0){t=r;e:{var c=e;n=dn;var o=c.current.memoizedState.isDehydrated;if(o&&(Oa(c,r).flags|=256),r=Ji(c,r,!1),r!==2){if(Wc&&!o){c.errorRecoveryDisabledLanes|=i,Ll|=i,n=4;break e}i=Xe,Xe=n,i!==null&&(Xe===null?Xe=i:Xe.push.apply(Xe,i))}n=r}if(i=!1,n!==2)continue}}if(n===1){Oa(e,0),cl(e,t,0,!0);break}e:{switch(a=e,i=n,i){case 0:case 1:throw Error(S(345));case 4:if((t&4194048)!==t)break;case 6:cl(a,t,Pe,!rl);break e;case 2:Xe=null;break;case 3:case 5:break;default:throw Error(S(329))}if((t&62914560)===t&&(n=di+300-Ie(),10<n)){if(cl(a,t,Pe,!rl),ei(a,0,!0)!==0)break e;Xt=t,a.timeoutHandle=X0(mu.bind(null,a,l,Xe,Ys,qr,t,Pe,Ll,Aa,rl,i,"Throttled",-0,0),n);break e}mu(a,l,Xe,Ys,qr,t,Pe,Ll,Aa,rl,i,null,-0,0)}}break}while(!0);Ct(e)}function mu(e,t,l,a,n,i,r,c,o,u,p,d,h,g){if(e.timeoutHandle=-1,d=t.subtreeFlags,d&8192||(d&16785408)===16785408){d={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Bt},g0(t,i,d);var j=(i&62914560)===i?di-Ie():(i&4194048)===i?j0-Ie():0;if(j=jp(d,j),j!==null){Xt=i,e.cancelPendingCommit=j(xu.bind(null,e,t,i,l,a,n,r,c,o,p,d,null,h,g)),cl(e,i,r,!u);return}}xu(e,t,i,l,a,n,r,c,o)}function Lx(e){for(var t=e;;){var l=t.tag;if((l===0||l===11||l===15)&&t.flags&16384&&(l=t.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var a=0;a<l.length;a++){var n=l[a],i=n.getSnapshot;n=n.value;try{if(!at(i(),n))return!1}catch{return!1}}if(l=t.child,t.subtreeFlags&16384&&l!==null)l.return=t,t=l;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function cl(e,t,l,a){t&=~Pc,t&=~Ll,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var n=t;0<n;){var i=31-tt(n),r=1<<i;a[i]=-1,n&=~r}l!==0&&Ad(e,l,t)}function fi(){return I&6?!0:(Yn(0),!1)}function Ic(){if(Z!==null){if(te===0)var e=Z.return;else e=Z,Ht=Fl=null,Bc(e),ga=null,jn=0,e=Z;for(;e!==null;)a0(e.alternate,e),e=e.return;Z=null}}function Oa(e,t){var l=e.timeoutHandle;l!==-1&&(e.timeoutHandle=-1,ap(l)),l=e.cancelPendingCommit,l!==null&&(e.cancelPendingCommit=null,l()),Xt=0,Ic(),ie=e,Z=l=qt(e.current,null),J=t,te=0,Ke=null,rl=!1,La=Rn(e,t),Wc=!1,Aa=Pe=Pc=Ll=wl=he=0,Xe=dn=null,qr=!1,t&8&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var n=31-tt(a),i=1<<n;t|=e[n],a&=~i}return Kt=t,ni(),l}function E0(e,t){q=null,L.H=Sn,t===Da||t===ii?(t=Qo(),te=3):t===_c?(t=Qo(),te=4):te=t===Jc?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Ke=t,Z===null&&(he=1,Ds(e,ft(t,e.current)))}function T0(){var e=nt.current;return e===null?!0:(J&4194048)===J?ht===null:(J&62914560)===J||J&536870912?e===ht:!1}function A0(){var e=L.H;return L.H=Sn,e===null?Sn:e}function C0(){var e=L.A;return L.A=kx,e}function Gs(){he=4,rl||(J&4194048)!==J&&nt.current!==null||(La=!0),!(wl&134217727)&&!(Ll&134217727)||ie===null||cl(ie,J,Pe,!1)}function Ji(e,t,l){var a=I;I|=2;var n=A0(),i=C0();(ie!==e||J!==t)&&(Ys=null,Oa(e,t)),t=!1;var r=he;e:do try{if(te!==0&&Z!==null){var c=Z,o=Ke;switch(te){case 8:Ic(),r=6;break e;case 3:case 2:case 9:case 6:nt.current===null&&(t=!0);var u=te;if(te=0,Ke=null,fa(e,c,o,u),l&&La){r=0;break e}break;default:u=te,te=0,Ke=null,fa(e,c,o,u)}}Bx(),r=he;break}catch(p){E0(e,p)}while(!0);return t&&e.shellSuspendCounter++,Ht=Fl=null,I=a,L.H=n,L.A=i,Z===null&&(ie=null,J=0,ni()),r}function Bx(){for(;Z!==null;)O0(Z)}function Hx(e,t){var l=I;I|=2;var a=A0(),n=C0();ie!==e||J!==t?(Ys=null,Hs=Ie()+500,Oa(e,t)):La=Rn(e,t);e:do try{if(te!==0&&Z!==null){t=Z;var i=Ke;t:switch(te){case 1:te=0,Ke=null,fa(e,t,i,1);break;case 2:case 9:if(Xo(i)){te=0,Ke=null,hu(t);break}t=function(){te!==2&&te!==9||ie!==e||(te=7),Ct(e)},i.then(t,t);break e;case 3:te=7;break e;case 4:te=5;break e;case 7:Xo(i)?(te=0,Ke=null,hu(t)):(te=0,Ke=null,fa(e,t,i,7));break;case 5:var r=null;switch(Z.tag){case 26:r=Z.memoizedState;case 5:case 27:var c=Z;if(r?K0(r):c.stateNode.complete){te=0,Ke=null;var o=c.sibling;if(o!==null)Z=o;else{var u=c.return;u!==null?(Z=u,mi(u)):Z=null}break t}}te=0,Ke=null,fa(e,t,i,5);break;case 6:te=0,Ke=null,fa(e,t,i,6);break;case 8:Ic(),he=6;break e;default:throw Error(S(462))}}Yx();break}catch(p){E0(e,p)}while(!0);return Ht=Fl=null,L.H=a,L.A=n,I=l,Z!==null?0:(ie=null,J=0,ni(),he)}function Yx(){for(;Z!==null&&!oh();)O0(Z)}function O0(e){var t=l0(e.alternate,e,Kt);e.memoizedProps=e.pendingProps,t===null?mi(e):Z=t}function hu(e){var t=e,l=t.alternate;switch(t.tag){case 15:case 0:t=ru(l,t,t.pendingProps,t.type,void 0,J);break;case 11:t=ru(l,t,t.pendingProps,t.type.render,t.ref,J);break;case 5:Bc(t);default:a0(l,t),t=Z=lf(t,Kt),t=l0(l,t,Kt)}e.memoizedProps=e.pendingProps,t===null?mi(e):Z=t}function fa(e,t,l,a){Ht=Fl=null,Bc(t),ga=null,jn=0;var n=t.return;try{if(Cx(e,n,t,l,J)){he=1,Ds(e,ft(l,e.current)),Z=null;return}}catch(i){if(n!==null)throw Z=n,i;he=1,Ds(e,ft(l,e.current)),Z=null;return}t.flags&32768?(F||a===1?e=!0:La||J&536870912?e=!1:(rl=e=!0,(a===2||a===9||a===3||a===6)&&(a=nt.current,a!==null&&a.tag===13&&(a.flags|=16384))),z0(t,e)):mi(t)}function mi(e){var t=e;do{if(t.flags&32768){z0(t,rl);return}e=t.return;var l=_x(t.alternate,t,Kt);if(l!==null){Z=l;return}if(t=t.sibling,t!==null){Z=t;return}Z=t=e}while(t!==null);he===0&&(he=5)}function z0(e,t){do{var l=Mx(e.alternate,e);if(l!==null){l.flags&=32767,Z=l;return}if(l=e.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!t&&(e=e.sibling,e!==null)){Z=e;return}Z=e=l}while(e!==null);he=6,Z=null}function xu(e,t,l,a,n,i,r,c,o){e.cancelPendingCommit=null;do hi();while(we!==0);if(I&6)throw Error(S(327));if(t!==null){if(t===e.current)throw Error(S(177));if(i=t.lanes|t.childLanes,i|=wc,bh(e,l,i,r,c,o),e===ie&&(Z=ie=null,J=0),Ca=t,gl=e,Xt=l,Vr=i,Xr=n,N0=a,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,Xx(Es,function(){return k0(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,t.subtreeFlags&13878||a){a=L.T,L.T=null,n=ee.p,ee.p=2,r=I,I|=4;try{Rx(e,t,l)}finally{I=r,ee.p=n,L.T=a}}we=1,_0(),M0(),R0()}}function _0(){if(we===1){we=0;var e=gl,t=Ca,l=(t.flags&13878)!==0;if(t.subtreeFlags&13878||l){l=L.T,L.T=null;var a=ee.p;ee.p=2;var n=I;I|=4;try{h0(t,e);var i=Kr,r=Fd(e.containerInfo),c=i.focusedElem,o=i.selectionRange;if(r!==c&&c&&c.ownerDocument&&Jd(c.ownerDocument.documentElement,c)){if(o!==null&&Sc(c)){var u=o.start,p=o.end;if(p===void 0&&(p=u),"selectionStart"in c)c.selectionStart=u,c.selectionEnd=Math.min(p,c.value.length);else{var d=c.ownerDocument||document,h=d&&d.defaultView||window;if(h.getSelection){var g=h.getSelection(),j=c.textContent.length,y=Math.min(o.start,j),N=o.end===void 0?y:Math.min(o.end,j);!g.extend&&y>N&&(r=N,N=y,y=r);var m=Lo(c,y),f=Lo(c,N);if(m&&f&&(g.rangeCount!==1||g.anchorNode!==m.node||g.anchorOffset!==m.offset||g.focusNode!==f.node||g.focusOffset!==f.offset)){var x=d.createRange();x.setStart(m.node,m.offset),g.removeAllRanges(),y>N?(g.addRange(x),g.extend(f.node,f.offset)):(x.setEnd(f.node,f.offset),g.addRange(x))}}}}for(d=[],g=c;g=g.parentNode;)g.nodeType===1&&d.push({element:g,left:g.scrollLeft,top:g.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<d.length;c++){var v=d[c];v.element.scrollLeft=v.left,v.element.scrollTop=v.top}}Ks=!!Fr,Kr=Fr=null}finally{I=n,ee.p=a,L.T=l}}e.current=t,we=2}}function M0(){if(we===2){we=0;var e=gl,t=Ca,l=(t.flags&8772)!==0;if(t.subtreeFlags&8772||l){l=L.T,L.T=null;var a=ee.p;ee.p=2;var n=I;I|=4;try{o0(e,t.alternate,t)}finally{I=n,ee.p=a,L.T=l}}we=3}}function R0(){if(we===4||we===3){we=0,uh();var e=gl,t=Ca,l=Xt,a=N0;t.subtreeFlags&10256||t.flags&10256?we=5:(we=0,Ca=gl=null,U0(e,e.pendingLanes));var n=e.pendingLanes;if(n===0&&(pl=null),pc(l),t=t.stateNode,et&&typeof et.onCommitFiberRoot=="function")try{et.onCommitFiberRoot(Mn,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=L.T,n=ee.p,ee.p=2,L.T=null;try{for(var i=e.onRecoverableError,r=0;r<a.length;r++){var c=a[r];i(c.value,{componentStack:c.stack})}}finally{L.T=t,ee.p=n}}Xt&3&&hi(),Ct(e),n=e.pendingLanes,l&261930&&n&42?e===Qr?fn++:(fn=0,Qr=e):fn=0,Yn(0)}}function U0(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Ln(t)))}function hi(){return _0(),M0(),R0(),k0()}function k0(){if(we!==5)return!1;var e=gl,t=Vr;Vr=0;var l=pc(Xt),a=L.T,n=ee.p;try{ee.p=32>l?32:l,L.T=null,l=Xr,Xr=null;var i=gl,r=Xt;if(we=0,Ca=gl=null,Xt=0,I&6)throw Error(S(331));var c=I;if(I|=4,b0(i.current),p0(i,i.current,r,l),I=c,Yn(0,!1),et&&typeof et.onPostCommitFiberRoot=="function")try{et.onPostCommitFiberRoot(Mn,i)}catch{}return!0}finally{ee.p=n,L.T=a,U0(e,t)}}function pu(e,t,l){t=ft(l,t),t=Br(e.stateNode,t,2),e=xl(e,t,2),e!==null&&(Un(e,2),Ct(e))}function le(e,t,l){if(e.tag===3)pu(e,e,l);else for(;t!==null;){if(t.tag===3){pu(t,e,l);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(pl===null||!pl.has(a))){e=ft(l,e),l=$f(2),a=xl(t,l,2),a!==null&&(Wf(l,a,t,e),Un(a,2),Ct(a));break}}t=t.return}}function Fi(e,t,l){var a=e.pingCache;if(a===null){a=e.pingCache=new Dx;var n=new Set;a.set(t,n)}else n=a.get(t),n===void 0&&(n=new Set,a.set(t,n));n.has(l)||(Wc=!0,n.add(l),e=Gx.bind(null,e,t,l),t.then(e,e))}function Gx(e,t,l){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&l,e.warmLanes&=~l,ie===e&&(J&l)===l&&(he===4||he===3&&(J&62914560)===J&&300>Ie()-di?!(I&2)&&Oa(e,0):Pc|=l,Aa===J&&(Aa=0)),Ct(e)}function D0(e,t){t===0&&(t=Td()),e=Jl(e,t),e!==null&&(Un(e,t),Ct(e))}function qx(e){var t=e.memoizedState,l=0;t!==null&&(l=t.retryLane),D0(e,l)}function Vx(e,t){var l=0;switch(e.tag){case 31:case 13:var a=e.stateNode,n=e.memoizedState;n!==null&&(l=n.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(S(314))}a!==null&&a.delete(t),D0(e,l)}function Xx(e,t){return hc(e,t)}var qs=null,ea=null,Zr=!1,Vs=!1,Ki=!1,ol=0;function Ct(e){e!==ea&&e.next===null&&(ea===null?qs=ea=e:ea=ea.next=e),Vs=!0,Zr||(Zr=!0,Zx())}function Yn(e,t){if(!Ki&&Vs){Ki=!0;do for(var l=!1,a=qs;a!==null;){if(e!==0){var n=a.pendingLanes;if(n===0)var i=0;else{var r=a.suspendedLanes,c=a.pingedLanes;i=(1<<31-tt(42|e)+1)-1,i&=n&~(r&~c),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(l=!0,gu(a,i))}else i=J,i=ei(a,a===ie?i:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),!(i&3)||Rn(a,i)||(l=!0,gu(a,i));a=a.next}while(l);Ki=!1}}function Qx(){L0()}function L0(){Vs=Zr=!1;var e=0;ol!==0&&lp()&&(e=ol);for(var t=Ie(),l=null,a=qs;a!==null;){var n=a.next,i=B0(a,t);i===0?(a.next=null,l===null?qs=n:l.next=n,n===null&&(ea=l)):(l=a,(e!==0||i&3)&&(Vs=!0)),a=n}we!==0&&we!==5||Yn(e),ol!==0&&(ol=0)}function B0(e,t){for(var l=e.suspendedLanes,a=e.pingedLanes,n=e.expirationTimes,i=e.pendingLanes&-62914561;0<i;){var r=31-tt(i),c=1<<r,o=n[r];o===-1?(!(c&l)||c&a)&&(n[r]=yh(c,t)):o<=t&&(e.expiredLanes|=c),i&=~c}if(t=ie,l=J,l=ei(e,e===t?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,l===0||e===t&&(te===2||te===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&Si(a),e.callbackNode=null,e.callbackPriority=0;if(!(l&3)||Rn(e,l)){if(t=l&-l,t===e.callbackPriority)return t;switch(a!==null&&Si(a),pc(l)){case 2:case 8:l=wd;break;case 32:l=Es;break;case 268435456:l=Ed;break;default:l=Es}return a=H0.bind(null,e),l=hc(l,a),e.callbackPriority=t,e.callbackNode=l,t}return a!==null&&a!==null&&Si(a),e.callbackPriority=2,e.callbackNode=null,2}function H0(e,t){if(we!==0&&we!==5)return e.callbackNode=null,e.callbackPriority=0,null;var l=e.callbackNode;if(hi()&&e.callbackNode!==l)return null;var a=J;return a=ei(e,e===ie?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(w0(e,a,t),B0(e,Ie()),e.callbackNode!=null&&e.callbackNode===l?H0.bind(null,e):null)}function gu(e,t){if(hi())return null;w0(e,t,!0)}function Zx(){np(function(){I&6?hc(Sd,Qx):L0()})}function eo(){if(ol===0){var e=wa;e===0&&(e=Jn,Jn<<=1,!(Jn&261888)&&(Jn=256)),ol=e}return ol}function yu(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:cs(""+e)}function bu(e,t){var l=t.ownerDocument.createElement("input");return l.name=t.name,l.value=t.value,e.id&&l.setAttribute("form",e.id),t.parentNode.insertBefore(l,t),e=new FormData(e),l.parentNode.removeChild(l),e}function Jx(e,t,l,a,n){if(t==="submit"&&l&&l.stateNode===n){var i=yu((n[Je]||null).action),r=a.submitter;r&&(t=(t=r[Je]||null)?yu(t.formAction):r.getAttribute("formAction"),t!==null&&(i=t,r=null));var c=new ti("action","action",null,a,n);e.push({event:c,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(ol!==0){var o=r?bu(n,r):new FormData(n);Dr(l,{pending:!0,data:o,method:n.method,action:i},null,o)}}else typeof i=="function"&&(c.preventDefault(),o=r?bu(n,r):new FormData(n),Dr(l,{pending:!0,data:o,method:n.method,action:i},i,o))},currentTarget:n}]})}}for(var $i=0;$i<wr.length;$i++){var Wi=wr[$i],Fx=Wi.toLowerCase(),Kx=Wi[0].toUpperCase()+Wi.slice(1);bt(Fx,"on"+Kx)}bt($d,"onAnimationEnd");bt(Wd,"onAnimationIteration");bt(Pd,"onAnimationStart");bt("dblclick","onDoubleClick");bt("focusin","onFocus");bt("focusout","onBlur");bt(dx,"onTransitionRun");bt(fx,"onTransitionStart");bt(mx,"onTransitionCancel");bt(Id,"onTransitionEnd");Na("onMouseEnter",["mouseout","mouseover"]);Na("onMouseLeave",["mouseout","mouseover"]);Na("onPointerEnter",["pointerout","pointerover"]);Na("onPointerLeave",["pointerout","pointerover"]);Xl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Xl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Xl("onBeforeInput",["compositionend","keypress","textInput","paste"]);Xl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Xl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Xl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$x=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(wn));function Y0(e,t){t=(t&4)!==0;for(var l=0;l<e.length;l++){var a=e[l],n=a.event;a=a.listeners;e:{var i=void 0;if(t)for(var r=a.length-1;0<=r;r--){var c=a[r],o=c.instance,u=c.currentTarget;if(c=c.listener,o!==i&&n.isPropagationStopped())break e;i=c,n.currentTarget=u;try{i(n)}catch(p){As(p)}n.currentTarget=null,i=o}else for(r=0;r<a.length;r++){if(c=a[r],o=c.instance,u=c.currentTarget,c=c.listener,o!==i&&n.isPropagationStopped())break e;i=c,n.currentTarget=u;try{i(n)}catch(p){As(p)}n.currentTarget=null,i=o}}}}function Q(e,t){var l=t[pr];l===void 0&&(l=t[pr]=new Set);var a=e+"__bubble";l.has(a)||(G0(t,e,2,!1),l.add(a))}function Pi(e,t,l){var a=0;t&&(a|=4),G0(l,e,a,t)}var as="_reactListening"+Math.random().toString(36).slice(2);function to(e){if(!e[as]){e[as]=!0,_d.forEach(function(l){l!=="selectionchange"&&($x.has(l)||Pi(l,!1,e),Pi(l,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[as]||(t[as]=!0,Pi("selectionchange",!1,t))}}function G0(e,t,l,a){switch(em(t)){case 2:var n=wp;break;case 8:n=Ep;break;default:n=so}l=n.bind(null,t,l,e),n=void 0,!jr||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(n=!0),a?n!==void 0?e.addEventListener(t,l,{capture:!0,passive:n}):e.addEventListener(t,l,!0):n!==void 0?e.addEventListener(t,l,{passive:n}):e.addEventListener(t,l,!1)}function Ii(e,t,l,a,n){var i=a;if(!(t&1)&&!(t&2)&&a!==null)e:for(;;){if(a===null)return;var r=a.tag;if(r===3||r===4){var c=a.stateNode.containerInfo;if(c===n)break;if(r===4)for(r=a.return;r!==null;){var o=r.tag;if((o===3||o===4)&&r.stateNode.containerInfo===n)return;r=r.return}for(;c!==null;){if(r=aa(c),r===null)return;if(o=r.tag,o===5||o===6||o===26||o===27){a=i=r;continue e}c=c.parentNode}}a=a.return}Hd(function(){var u=i,p=bc(l),d=[];e:{var h=ef.get(e);if(h!==void 0){var g=ti,j=e;switch(e){case"keypress":if(us(l)===0)break e;case"keydown":case"keyup":g=Vh;break;case"focusin":j="focus",g=Ci;break;case"focusout":j="blur",g=Ci;break;case"beforeblur":case"afterblur":g=Ci;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Ao;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=_h;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=Zh;break;case $d:case Wd:case Pd:g=Uh;break;case Id:g=Fh;break;case"scroll":case"scrollend":g=Oh;break;case"wheel":g=$h;break;case"copy":case"cut":case"paste":g=Dh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Oo;break;case"toggle":case"beforetoggle":g=Ph}var y=(t&4)!==0,N=!y&&(e==="scroll"||e==="scrollend"),m=y?h!==null?h+"Capture":null:h;y=[];for(var f=u,x;f!==null;){var v=f;if(x=v.stateNode,v=v.tag,v!==5&&v!==26&&v!==27||x===null||m===null||(v=pn(f,m),v!=null&&y.push(En(f,v,x))),N)break;f=f.return}0<y.length&&(h=new g(h,j,null,l,p),d.push({event:h,listeners:y}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",h&&l!==vr&&(j=l.relatedTarget||l.fromElement)&&(aa(j)||j[Ra]))break e;if((g||h)&&(h=p.window===p?p:(h=p.ownerDocument)?h.defaultView||h.parentWindow:window,g?(j=l.relatedTarget||l.toElement,g=u,j=j?aa(j):null,j!==null&&(N=_n(j),y=j.tag,j!==N||y!==5&&y!==27&&y!==6)&&(j=null)):(g=null,j=u),g!==j)){if(y=Ao,v="onMouseLeave",m="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(y=Oo,v="onPointerLeave",m="onPointerEnter",f="pointer"),N=g==null?h:$a(g),x=j==null?h:$a(j),h=new y(v,f+"leave",g,l,p),h.target=N,h.relatedTarget=x,v=null,aa(p)===u&&(y=new y(m,f+"enter",j,l,p),y.target=x,y.relatedTarget=N,v=y),N=v,g&&j)t:{for(y=Wx,m=g,f=j,x=0,v=m;v;v=y(v))x++;v=0;for(var E=f;E;E=y(E))v++;for(;0<x-v;)m=y(m),x--;for(;0<v-x;)f=y(f),v--;for(;x--;){if(m===f||f!==null&&m===f.alternate){y=m;break t}m=y(m),f=y(f)}y=null}else y=null;g!==null&&vu(d,h,g,y,!1),j!==null&&N!==null&&vu(d,N,j,y,!0)}}e:{if(h=u?$a(u):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var _=Ro;else if(Mo(h))if(Qd)_=cx;else{_=ix;var w=sx}else g=h.nodeName,!g||g.toLowerCase()!=="input"||h.type!=="checkbox"&&h.type!=="radio"?u&&yc(u.elementType)&&(_=Ro):_=rx;if(_&&(_=_(e,u))){Xd(d,_,l,p);break e}w&&w(e,h,u),e==="focusout"&&u&&h.type==="number"&&u.memoizedProps.value!=null&&br(h,"number",h.value)}switch(w=u?$a(u):window,e){case"focusin":(Mo(w)||w.contentEditable==="true")&&(ia=w,Nr=u,ln=null);break;case"focusout":ln=Nr=ia=null;break;case"mousedown":Sr=!0;break;case"contextmenu":case"mouseup":case"dragend":Sr=!1,Bo(d,l,p);break;case"selectionchange":if(ux)break;case"keydown":case"keyup":Bo(d,l,p)}var O;if(Nc)e:{switch(e){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else sa?qd(e,l)&&(M="onCompositionEnd"):e==="keydown"&&l.keyCode===229&&(M="onCompositionStart");M&&(Gd&&l.locale!=="ko"&&(sa||M!=="onCompositionStart"?M==="onCompositionEnd"&&sa&&(O=Yd()):(il=p,vc="value"in il?il.value:il.textContent,sa=!0)),w=Xs(u,M),0<w.length&&(M=new Co(M,e,null,l,p),d.push({event:M,listeners:w}),O?M.data=O:(O=Vd(l),O!==null&&(M.data=O)))),(O=ex?tx(e,l):lx(e,l))&&(M=Xs(u,"onBeforeInput"),0<M.length&&(w=new Co("onBeforeInput","beforeinput",null,l,p),d.push({event:w,listeners:M}),w.data=O)),Jx(d,e,u,l,p)}Y0(d,t)})}function En(e,t,l){return{instance:e,listener:t,currentTarget:l}}function Xs(e,t){for(var l=t+"Capture",a=[];e!==null;){var n=e,i=n.stateNode;if(n=n.tag,n!==5&&n!==26&&n!==27||i===null||(n=pn(e,l),n!=null&&a.unshift(En(e,n,i)),n=pn(e,t),n!=null&&a.push(En(e,n,i))),e.tag===3)return a;e=e.return}return[]}function Wx(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function vu(e,t,l,a,n){for(var i=t._reactName,r=[];l!==null&&l!==a;){var c=l,o=c.alternate,u=c.stateNode;if(c=c.tag,o!==null&&o===a)break;c!==5&&c!==26&&c!==27||u===null||(o=u,n?(u=pn(l,i),u!=null&&r.unshift(En(l,u,o))):n||(u=pn(l,i),u!=null&&r.push(En(l,u,o)))),l=l.return}r.length!==0&&e.push({event:t,listeners:r})}var Px=/\r\n?/g,Ix=/\u0000|\uFFFD/g;function ju(e){return(typeof e=="string"?e:""+e).replace(Px,`
`).replace(Ix,"")}function q0(e,t){return t=ju(t),ju(e)===t}function ae(e,t,l,a,n,i){switch(l){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||Sa(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&Sa(e,""+a);break;case"className":$n(e,"class",a);break;case"tabIndex":$n(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":$n(e,l,a);break;case"style":Bd(e,a,i);break;case"data":if(t!=="object"){$n(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||l!=="href")){e.removeAttribute(l);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(l);break}a=cs(""+a),e.setAttribute(l,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(l==="formAction"?(t!=="input"&&ae(e,t,"name",n.name,n,null),ae(e,t,"formEncType",n.formEncType,n,null),ae(e,t,"formMethod",n.formMethod,n,null),ae(e,t,"formTarget",n.formTarget,n,null)):(ae(e,t,"encType",n.encType,n,null),ae(e,t,"method",n.method,n,null),ae(e,t,"target",n.target,n,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(l);break}a=cs(""+a),e.setAttribute(l,a);break;case"onClick":a!=null&&(e.onclick=Bt);break;case"onScroll":a!=null&&Q("scroll",e);break;case"onScrollEnd":a!=null&&Q("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(S(61));if(l=a.__html,l!=null){if(n.children!=null)throw Error(S(60));e.innerHTML=l}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}l=cs(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,""+a):e.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,""):e.removeAttribute(l);break;case"capture":case"download":a===!0?e.setAttribute(l,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,a):e.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(l,a):e.removeAttribute(l);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(l):e.setAttribute(l,a);break;case"popover":Q("beforetoggle",e),Q("toggle",e),rs(e,"popover",a);break;case"xlinkActuate":Ot(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":Ot(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":Ot(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":Ot(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":Ot(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":Ot(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":Ot(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":Ot(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":Ot(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":rs(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Ah.get(l)||l,rs(e,l,a))}}function Jr(e,t,l,a,n,i){switch(l){case"style":Bd(e,a,i);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(S(61));if(l=a.__html,l!=null){if(n.children!=null)throw Error(S(60));e.innerHTML=l}}break;case"children":typeof a=="string"?Sa(e,a):(typeof a=="number"||typeof a=="bigint")&&Sa(e,""+a);break;case"onScroll":a!=null&&Q("scroll",e);break;case"onScrollEnd":a!=null&&Q("scrollend",e);break;case"onClick":a!=null&&(e.onclick=Bt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Md.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(n=l.endsWith("Capture"),t=l.slice(2,n?l.length-7:void 0),i=e[Je]||null,i=i!=null?i[l]:null,typeof i=="function"&&e.removeEventListener(t,i,n),typeof a=="function")){typeof i!="function"&&i!==null&&(l in e?e[l]=null:e.hasAttribute(l)&&e.removeAttribute(l)),e.addEventListener(t,a,n);break e}l in e?e[l]=a:a===!0?e.setAttribute(l,""):rs(e,l,a)}}}function Ue(e,t,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Q("error",e),Q("load",e);var a=!1,n=!1,i;for(i in l)if(l.hasOwnProperty(i)){var r=l[i];if(r!=null)switch(i){case"src":a=!0;break;case"srcSet":n=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(S(137,t));default:ae(e,t,i,r,l,null)}}n&&ae(e,t,"srcSet",l.srcSet,l,null),a&&ae(e,t,"src",l.src,l,null);return;case"input":Q("invalid",e);var c=i=r=n=null,o=null,u=null;for(a in l)if(l.hasOwnProperty(a)){var p=l[a];if(p!=null)switch(a){case"name":n=p;break;case"type":r=p;break;case"checked":o=p;break;case"defaultChecked":u=p;break;case"value":i=p;break;case"defaultValue":c=p;break;case"children":case"dangerouslySetInnerHTML":if(p!=null)throw Error(S(137,t));break;default:ae(e,t,a,p,l,null)}}kd(e,i,c,o,u,r,n,!1);return;case"select":Q("invalid",e),a=r=i=null;for(n in l)if(l.hasOwnProperty(n)&&(c=l[n],c!=null))switch(n){case"value":i=c;break;case"defaultValue":r=c;break;case"multiple":a=c;default:ae(e,t,n,c,l,null)}t=i,l=r,e.multiple=!!a,t!=null?ha(e,!!a,t,!1):l!=null&&ha(e,!!a,l,!0);return;case"textarea":Q("invalid",e),i=n=a=null;for(r in l)if(l.hasOwnProperty(r)&&(c=l[r],c!=null))switch(r){case"value":a=c;break;case"defaultValue":n=c;break;case"children":i=c;break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(S(91));break;default:ae(e,t,r,c,l,null)}Ld(e,a,n,i);return;case"option":for(o in l)if(l.hasOwnProperty(o)&&(a=l[o],a!=null))switch(o){case"selected":e.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:ae(e,t,o,a,l,null)}return;case"dialog":Q("beforetoggle",e),Q("toggle",e),Q("cancel",e),Q("close",e);break;case"iframe":case"object":Q("load",e);break;case"video":case"audio":for(a=0;a<wn.length;a++)Q(wn[a],e);break;case"image":Q("error",e),Q("load",e);break;case"details":Q("toggle",e);break;case"embed":case"source":case"link":Q("error",e),Q("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in l)if(l.hasOwnProperty(u)&&(a=l[u],a!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(S(137,t));default:ae(e,t,u,a,l,null)}return;default:if(yc(t)){for(p in l)l.hasOwnProperty(p)&&(a=l[p],a!==void 0&&Jr(e,t,p,a,l,void 0));return}}for(c in l)l.hasOwnProperty(c)&&(a=l[c],a!=null&&ae(e,t,c,a,l,null))}function ep(e,t,l,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var n=null,i=null,r=null,c=null,o=null,u=null,p=null;for(g in l){var d=l[g];if(l.hasOwnProperty(g)&&d!=null)switch(g){case"checked":break;case"value":break;case"defaultValue":o=d;default:a.hasOwnProperty(g)||ae(e,t,g,null,a,d)}}for(var h in a){var g=a[h];if(d=l[h],a.hasOwnProperty(h)&&(g!=null||d!=null))switch(h){case"type":i=g;break;case"name":n=g;break;case"checked":u=g;break;case"defaultChecked":p=g;break;case"value":r=g;break;case"defaultValue":c=g;break;case"children":case"dangerouslySetInnerHTML":if(g!=null)throw Error(S(137,t));break;default:g!==d&&ae(e,t,h,g,a,d)}}yr(e,r,c,o,u,p,i,n);return;case"select":g=r=c=h=null;for(i in l)if(o=l[i],l.hasOwnProperty(i)&&o!=null)switch(i){case"value":break;case"multiple":g=o;default:a.hasOwnProperty(i)||ae(e,t,i,null,a,o)}for(n in a)if(i=a[n],o=l[n],a.hasOwnProperty(n)&&(i!=null||o!=null))switch(n){case"value":h=i;break;case"defaultValue":c=i;break;case"multiple":r=i;default:i!==o&&ae(e,t,n,i,a,o)}t=c,l=r,a=g,h!=null?ha(e,!!l,h,!1):!!a!=!!l&&(t!=null?ha(e,!!l,t,!0):ha(e,!!l,l?[]:"",!1));return;case"textarea":g=h=null;for(c in l)if(n=l[c],l.hasOwnProperty(c)&&n!=null&&!a.hasOwnProperty(c))switch(c){case"value":break;case"children":break;default:ae(e,t,c,null,a,n)}for(r in a)if(n=a[r],i=l[r],a.hasOwnProperty(r)&&(n!=null||i!=null))switch(r){case"value":h=n;break;case"defaultValue":g=n;break;case"children":break;case"dangerouslySetInnerHTML":if(n!=null)throw Error(S(91));break;default:n!==i&&ae(e,t,r,n,a,i)}Dd(e,h,g);return;case"option":for(var j in l)if(h=l[j],l.hasOwnProperty(j)&&h!=null&&!a.hasOwnProperty(j))switch(j){case"selected":e.selected=!1;break;default:ae(e,t,j,null,a,h)}for(o in a)if(h=a[o],g=l[o],a.hasOwnProperty(o)&&h!==g&&(h!=null||g!=null))switch(o){case"selected":e.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:ae(e,t,o,h,a,g)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var y in l)h=l[y],l.hasOwnProperty(y)&&h!=null&&!a.hasOwnProperty(y)&&ae(e,t,y,null,a,h);for(u in a)if(h=a[u],g=l[u],a.hasOwnProperty(u)&&h!==g&&(h!=null||g!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(S(137,t));break;default:ae(e,t,u,h,a,g)}return;default:if(yc(t)){for(var N in l)h=l[N],l.hasOwnProperty(N)&&h!==void 0&&!a.hasOwnProperty(N)&&Jr(e,t,N,void 0,a,h);for(p in a)h=a[p],g=l[p],!a.hasOwnProperty(p)||h===g||h===void 0&&g===void 0||Jr(e,t,p,h,a,g);return}}for(var m in l)h=l[m],l.hasOwnProperty(m)&&h!=null&&!a.hasOwnProperty(m)&&ae(e,t,m,null,a,h);for(d in a)h=a[d],g=l[d],!a.hasOwnProperty(d)||h===g||h==null&&g==null||ae(e,t,d,h,a,g)}function Nu(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function tp(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,l=performance.getEntriesByType("resource"),a=0;a<l.length;a++){var n=l[a],i=n.transferSize,r=n.initiatorType,c=n.duration;if(i&&c&&Nu(r)){for(r=0,c=n.responseEnd,a+=1;a<l.length;a++){var o=l[a],u=o.startTime;if(u>c)break;var p=o.transferSize,d=o.initiatorType;p&&Nu(d)&&(o=o.responseEnd,r+=p*(o<c?1:(c-u)/(o-u)))}if(--a,t+=8*(i+r)/(n.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Fr=null,Kr=null;function Qs(e){return e.nodeType===9?e:e.ownerDocument}function Su(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function V0(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function $r(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var er=null;function lp(){var e=window.event;return e&&e.type==="popstate"?e===er?!1:(er=e,!0):(er=null,!1)}var X0=typeof setTimeout=="function"?setTimeout:void 0,ap=typeof clearTimeout=="function"?clearTimeout:void 0,wu=typeof Promise=="function"?Promise:void 0,np=typeof queueMicrotask=="function"?queueMicrotask:typeof wu<"u"?function(e){return wu.resolve(null).then(e).catch(sp)}:X0;function sp(e){setTimeout(function(){throw e})}function Tl(e){return e==="head"}function Eu(e,t){var l=t,a=0;do{var n=l.nextSibling;if(e.removeChild(l),n&&n.nodeType===8)if(l=n.data,l==="/$"||l==="/&"){if(a===0){e.removeChild(n),_a(t);return}a--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")a++;else if(l==="html")mn(e.ownerDocument.documentElement);else if(l==="head"){l=e.ownerDocument.head,mn(l);for(var i=l.firstChild;i;){var r=i.nextSibling,c=i.nodeName;i[kn]||c==="SCRIPT"||c==="STYLE"||c==="LINK"&&i.rel.toLowerCase()==="stylesheet"||l.removeChild(i),i=r}}else l==="body"&&mn(e.ownerDocument.body);l=n}while(l);_a(t)}function Tu(e,t){var l=e;e=0;do{var a=l.nextSibling;if(l.nodeType===1?t?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(t?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),a&&a.nodeType===8)if(l=a.data,l==="/$"){if(e===0)break;e--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||e++;l=a}while(l)}function Wr(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var l=t;switch(t=t.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Wr(l),gc(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}e.removeChild(l)}}function ip(e,t,l,a){for(;e.nodeType===1;){var n=l;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[kn])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(i=e.getAttribute("rel"),i==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(i!==n.rel||e.getAttribute("href")!==(n.href==null||n.href===""?null:n.href)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin)||e.getAttribute("title")!==(n.title==null?null:n.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(i=e.getAttribute("src"),(i!==(n.src==null?null:n.src)||e.getAttribute("type")!==(n.type==null?null:n.type)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var i=n.name==null?null:""+n.name;if(n.type==="hidden"&&e.getAttribute("name")===i)return e}else return e;if(e=xt(e.nextSibling),e===null)break}return null}function rp(e,t,l){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!l||(e=xt(e.nextSibling),e===null))return null;return e}function Q0(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=xt(e.nextSibling),e===null))return null;return e}function Pr(e){return e.data==="$?"||e.data==="$~"}function Ir(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function cp(e,t){var l=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||l.readyState!=="loading")t();else{var a=function(){t(),l.removeEventListener("DOMContentLoaded",a)};l.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function xt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var ec=null;function Au(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var l=e.data;if(l==="/$"||l==="/&"){if(t===0)return xt(e.nextSibling);t--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||t++}e=e.nextSibling}return null}function Cu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var l=e.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(t===0)return e;t--}else l!=="/$"&&l!=="/&"||t++}e=e.previousSibling}return null}function Z0(e,t,l){switch(t=Qs(l),e){case"html":if(e=t.documentElement,!e)throw Error(S(452));return e;case"head":if(e=t.head,!e)throw Error(S(453));return e;case"body":if(e=t.body,!e)throw Error(S(454));return e;default:throw Error(S(451))}}function mn(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);gc(e)}var pt=new Map,Ou=new Set;function Zs(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var $t=ee.d;ee.d={f:op,r:up,D:dp,C:fp,L:mp,m:hp,X:pp,S:xp,M:gp};function op(){var e=$t.f(),t=fi();return e||t}function up(e){var t=Ua(e);t!==null&&t.tag===5&&t.type==="form"?Hf(t):$t.r(e)}var Ba=typeof document>"u"?null:document;function J0(e,t,l){var a=Ba;if(a&&typeof t=="string"&&t){var n=dt(t);n='link[rel="'+e+'"][href="'+n+'"]',typeof l=="string"&&(n+='[crossorigin="'+l+'"]'),Ou.has(n)||(Ou.add(n),e={rel:e,crossOrigin:l,href:t},a.querySelector(n)===null&&(t=a.createElement("link"),Ue(t,"link",e),Ce(t),a.head.appendChild(t)))}}function dp(e){$t.D(e),J0("dns-prefetch",e,null)}function fp(e,t){$t.C(e,t),J0("preconnect",e,t)}function mp(e,t,l){$t.L(e,t,l);var a=Ba;if(a&&e&&t){var n='link[rel="preload"][as="'+dt(t)+'"]';t==="image"&&l&&l.imageSrcSet?(n+='[imagesrcset="'+dt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(n+='[imagesizes="'+dt(l.imageSizes)+'"]')):n+='[href="'+dt(e)+'"]';var i=n;switch(t){case"style":i=za(e);break;case"script":i=Ha(e)}pt.has(i)||(e=de({rel:"preload",href:t==="image"&&l&&l.imageSrcSet?void 0:e,as:t},l),pt.set(i,e),a.querySelector(n)!==null||t==="style"&&a.querySelector(Gn(i))||t==="script"&&a.querySelector(qn(i))||(t=a.createElement("link"),Ue(t,"link",e),Ce(t),a.head.appendChild(t)))}}function hp(e,t){$t.m(e,t);var l=Ba;if(l&&e){var a=t&&typeof t.as=="string"?t.as:"script",n='link[rel="modulepreload"][as="'+dt(a)+'"][href="'+dt(e)+'"]',i=n;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=Ha(e)}if(!pt.has(i)&&(e=de({rel:"modulepreload",href:e},t),pt.set(i,e),l.querySelector(n)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(qn(i)))return}a=l.createElement("link"),Ue(a,"link",e),Ce(a),l.head.appendChild(a)}}}function xp(e,t,l){$t.S(e,t,l);var a=Ba;if(a&&e){var n=ma(a).hoistableStyles,i=za(e);t=t||"default";var r=n.get(i);if(!r){var c={loading:0,preload:null};if(r=a.querySelector(Gn(i)))c.loading=5;else{e=de({rel:"stylesheet",href:e,"data-precedence":t},l),(l=pt.get(i))&&lo(e,l);var o=r=a.createElement("link");Ce(o),Ue(o,"link",e),o._p=new Promise(function(u,p){o.onload=u,o.onerror=p}),o.addEventListener("load",function(){c.loading|=1}),o.addEventListener("error",function(){c.loading|=2}),c.loading|=4,ys(r,t,a)}r={type:"stylesheet",instance:r,count:1,state:c},n.set(i,r)}}}function pp(e,t){$t.X(e,t);var l=Ba;if(l&&e){var a=ma(l).hoistableScripts,n=Ha(e),i=a.get(n);i||(i=l.querySelector(qn(n)),i||(e=de({src:e,async:!0},t),(t=pt.get(n))&&ao(e,t),i=l.createElement("script"),Ce(i),Ue(i,"link",e),l.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},a.set(n,i))}}function gp(e,t){$t.M(e,t);var l=Ba;if(l&&e){var a=ma(l).hoistableScripts,n=Ha(e),i=a.get(n);i||(i=l.querySelector(qn(n)),i||(e=de({src:e,async:!0,type:"module"},t),(t=pt.get(n))&&ao(e,t),i=l.createElement("script"),Ce(i),Ue(i,"link",e),l.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},a.set(n,i))}}function zu(e,t,l,a){var n=(n=fl.current)?Zs(n):null;if(!n)throw Error(S(446));switch(e){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(t=za(l.href),l=ma(n).hoistableStyles,a=l.get(t),a||(a={type:"style",instance:null,count:0,state:null},l.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){e=za(l.href);var i=ma(n).hoistableStyles,r=i.get(e);if(r||(n=n.ownerDocument||n,r={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(e,r),(i=n.querySelector(Gn(e)))&&!i._p&&(r.instance=i,r.state.loading=5),pt.has(e)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},pt.set(e,l),i||yp(n,e,l,r.state))),t&&a===null)throw Error(S(528,""));return r}if(t&&a!==null)throw Error(S(529,""));return null;case"script":return t=l.async,l=l.src,typeof l=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Ha(l),l=ma(n).hoistableScripts,a=l.get(t),a||(a={type:"script",instance:null,count:0,state:null},l.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(S(444,e))}}function za(e){return'href="'+dt(e)+'"'}function Gn(e){return'link[rel="stylesheet"]['+e+"]"}function F0(e){return de({},e,{"data-precedence":e.precedence,precedence:null})}function yp(e,t,l,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),Ue(t,"link",l),Ce(t),e.head.appendChild(t))}function Ha(e){return'[src="'+dt(e)+'"]'}function qn(e){return"script[async]"+e}function _u(e,t,l){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+dt(l.href)+'"]');if(a)return t.instance=a,Ce(a),a;var n=de({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),Ce(a),Ue(a,"style",n),ys(a,l.precedence,e),t.instance=a;case"stylesheet":n=za(l.href);var i=e.querySelector(Gn(n));if(i)return t.state.loading|=4,t.instance=i,Ce(i),i;a=F0(l),(n=pt.get(n))&&lo(a,n),i=(e.ownerDocument||e).createElement("link"),Ce(i);var r=i;return r._p=new Promise(function(c,o){r.onload=c,r.onerror=o}),Ue(i,"link",a),t.state.loading|=4,ys(i,l.precedence,e),t.instance=i;case"script":return i=Ha(l.src),(n=e.querySelector(qn(i)))?(t.instance=n,Ce(n),n):(a=l,(n=pt.get(i))&&(a=de({},l),ao(a,n)),e=e.ownerDocument||e,n=e.createElement("script"),Ce(n),Ue(n,"link",a),e.head.appendChild(n),t.instance=n);case"void":return null;default:throw Error(S(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(a=t.instance,t.state.loading|=4,ys(a,l.precedence,e));return t.instance}function ys(e,t,l){for(var a=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),n=a.length?a[a.length-1]:null,i=n,r=0;r<a.length;r++){var c=a[r];if(c.dataset.precedence===t)i=c;else if(i!==n)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=l.nodeType===9?l.head:l,t.insertBefore(e,t.firstChild))}function lo(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function ao(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var bs=null;function Mu(e,t,l){if(bs===null){var a=new Map,n=bs=new Map;n.set(l,a)}else n=bs,a=n.get(l),a||(a=new Map,n.set(l,a));if(a.has(e))return a;for(a.set(e,null),l=l.getElementsByTagName(e),n=0;n<l.length;n++){var i=l[n];if(!(i[kn]||i[_e]||e==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var r=i.getAttribute(t)||"";r=e+r;var c=a.get(r);c?c.push(i):a.set(r,[i])}}return a}function Ru(e,t,l){e=e.ownerDocument||e,e.head.insertBefore(l,t==="title"?e.querySelector("head > title"):null)}function bp(e,t,l){if(l===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function K0(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}function vp(e,t,l,a){if(l.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&!(l.state.loading&4)){if(l.instance===null){var n=za(a.href),i=t.querySelector(Gn(n));if(i){t=i._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Js.bind(e),t.then(e,e)),l.state.loading|=4,l.instance=i,Ce(i);return}i=t.ownerDocument||t,a=F0(a),(n=pt.get(n))&&lo(a,n),i=i.createElement("link"),Ce(i);var r=i;r._p=new Promise(function(c,o){r.onload=c,r.onerror=o}),Ue(i,"link",a),l.instance=i}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(l,t),(t=l.state.preload)&&!(l.state.loading&3)&&(e.count++,l=Js.bind(e),t.addEventListener("load",l),t.addEventListener("error",l))}}var tr=0;function jp(e,t){return e.stylesheets&&e.count===0&&vs(e,e.stylesheets),0<e.count||0<e.imgCount?function(l){var a=setTimeout(function(){if(e.stylesheets&&vs(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4+t);0<e.imgBytes&&tr===0&&(tr=62500*tp());var n=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&vs(e,e.stylesheets),e.unsuspend)){var i=e.unsuspend;e.unsuspend=null,i()}},(e.imgBytes>tr?50:800)+t);return e.unsuspend=l,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(n)}}:null}function Js(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)vs(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Fs=null;function vs(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Fs=new Map,t.forEach(Np,e),Fs=null,Js.call(e))}function Np(e,t){if(!(t.state.loading&4)){var l=Fs.get(e);if(l)var a=l.get(null);else{l=new Map,Fs.set(e,l);for(var n=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<n.length;i++){var r=n[i];(r.nodeName==="LINK"||r.getAttribute("media")!=="not all")&&(l.set(r.dataset.precedence,r),a=r)}a&&l.set(null,a)}n=t.instance,r=n.getAttribute("data-precedence"),i=l.get(r)||a,i===a&&l.set(null,n),l.set(r,n),this.count++,a=Js.bind(this),n.addEventListener("load",a),n.addEventListener("error",a),i?i.parentNode.insertBefore(n,i.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(n,e.firstChild)),t.state.loading|=4}}var Tn={$$typeof:Lt,Provider:null,Consumer:null,_currentValue:Rl,_currentValue2:Rl,_threadCount:0};function Sp(e,t,l,a,n,i,r,c,o){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=wi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wi(0),this.hiddenUpdates=wi(null),this.identifierPrefix=a,this.onUncaughtError=n,this.onCaughtError=i,this.onRecoverableError=r,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function $0(e,t,l,a,n,i,r,c,o,u,p,d){return e=new Sp(e,t,l,r,o,u,p,d,c),t=1,i===!0&&(t|=24),i=We(3,null,null,t),e.current=i,i.stateNode=e,t=Oc(),t.refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:a,isDehydrated:l,cache:t},Mc(i),e}function W0(e){return e?(e=oa,e):oa}function P0(e,t,l,a,n,i){n=W0(n),a.context===null?a.context=n:a.pendingContext=n,a=hl(t),a.payload={element:l},i=i===void 0?null:i,i!==null&&(a.callback=i),l=xl(e,a,t),l!==null&&(Ze(l,e,t),nn(l,e,t))}function Uu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var l=e.retryLane;e.retryLane=l!==0&&l<t?l:t}}function no(e,t){Uu(e,t),(e=e.alternate)&&Uu(e,t)}function I0(e){if(e.tag===13||e.tag===31){var t=Jl(e,67108864);t!==null&&Ze(t,e,67108864),no(e,67108864)}}function ku(e){if(e.tag===13||e.tag===31){var t=lt();t=xc(t);var l=Jl(e,t);l!==null&&Ze(l,e,t),no(e,t)}}var Ks=!0;function wp(e,t,l,a){var n=L.T;L.T=null;var i=ee.p;try{ee.p=2,so(e,t,l,a)}finally{ee.p=i,L.T=n}}function Ep(e,t,l,a){var n=L.T;L.T=null;var i=ee.p;try{ee.p=8,so(e,t,l,a)}finally{ee.p=i,L.T=n}}function so(e,t,l,a){if(Ks){var n=tc(a);if(n===null)Ii(e,t,a,$s,l),Du(e,a);else if(Ap(n,e,t,l,a))a.stopPropagation();else if(Du(e,a),t&4&&-1<Tp.indexOf(e)){for(;n!==null;){var i=Ua(n);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var r=zl(i.pendingLanes);if(r!==0){var c=i;for(c.pendingLanes|=2,c.entangledLanes|=2;r;){var o=1<<31-tt(r);c.entanglements[1]|=o,r&=~o}Ct(i),!(I&6)&&(Hs=Ie()+500,Yn(0))}}break;case 31:case 13:c=Jl(i,2),c!==null&&Ze(c,i,2),fi(),no(i,2)}if(i=tc(a),i===null&&Ii(e,t,a,$s,l),i===n)break;n=i}n!==null&&a.stopPropagation()}else Ii(e,t,a,null,l)}}function tc(e){return e=bc(e),io(e)}var $s=null;function io(e){if($s=null,e=aa(e),e!==null){var t=_n(e);if(t===null)e=null;else{var l=t.tag;if(l===13){if(e=yd(t),e!==null)return e;e=null}else if(l===31){if(e=bd(t),e!==null)return e;e=null}else if(l===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return $s=e,null}function em(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(dh()){case Sd:return 2;case wd:return 8;case Es:case fh:return 32;case Ed:return 268435456;default:return 32}default:return 32}}var lc=!1,yl=null,bl=null,vl=null,An=new Map,Cn=new Map,nl=[],Tp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Du(e,t){switch(e){case"focusin":case"focusout":yl=null;break;case"dragenter":case"dragleave":bl=null;break;case"mouseover":case"mouseout":vl=null;break;case"pointerover":case"pointerout":An.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cn.delete(t.pointerId)}}function Ja(e,t,l,a,n,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:l,eventSystemFlags:a,nativeEvent:i,targetContainers:[n]},t!==null&&(t=Ua(t),t!==null&&I0(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,n!==null&&t.indexOf(n)===-1&&t.push(n),e)}function Ap(e,t,l,a,n){switch(t){case"focusin":return yl=Ja(yl,e,t,l,a,n),!0;case"dragenter":return bl=Ja(bl,e,t,l,a,n),!0;case"mouseover":return vl=Ja(vl,e,t,l,a,n),!0;case"pointerover":var i=n.pointerId;return An.set(i,Ja(An.get(i)||null,e,t,l,a,n)),!0;case"gotpointercapture":return i=n.pointerId,Cn.set(i,Ja(Cn.get(i)||null,e,t,l,a,n)),!0}return!1}function tm(e){var t=aa(e.target);if(t!==null){var l=_n(t);if(l!==null){if(t=l.tag,t===13){if(t=yd(l),t!==null){e.blockedOn=t,vo(e.priority,function(){ku(l)});return}}else if(t===31){if(t=bd(l),t!==null){e.blockedOn=t,vo(e.priority,function(){ku(l)});return}}else if(t===3&&l.stateNode.current.memoizedState.isDehydrated){e.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}e.blockedOn=null}function js(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var l=tc(e.nativeEvent);if(l===null){l=e.nativeEvent;var a=new l.constructor(l.type,l);vr=a,l.target.dispatchEvent(a),vr=null}else return t=Ua(l),t!==null&&I0(t),e.blockedOn=l,!1;t.shift()}return!0}function Lu(e,t,l){js(e)&&l.delete(t)}function Cp(){lc=!1,yl!==null&&js(yl)&&(yl=null),bl!==null&&js(bl)&&(bl=null),vl!==null&&js(vl)&&(vl=null),An.forEach(Lu),Cn.forEach(Lu)}function ns(e,t){e.blockedOn===t&&(e.blockedOn=null,lc||(lc=!0,Ee.unstable_scheduleCallback(Ee.unstable_NormalPriority,Cp)))}var ss=null;function Bu(e){ss!==e&&(ss=e,Ee.unstable_scheduleCallback(Ee.unstable_NormalPriority,function(){ss===e&&(ss=null);for(var t=0;t<e.length;t+=3){var l=e[t],a=e[t+1],n=e[t+2];if(typeof a!="function"){if(io(a||l)===null)continue;break}var i=Ua(l);i!==null&&(e.splice(t,3),t-=3,Dr(i,{pending:!0,data:n,method:l.method,action:a},a,n))}}))}function _a(e){function t(o){return ns(o,e)}yl!==null&&ns(yl,e),bl!==null&&ns(bl,e),vl!==null&&ns(vl,e),An.forEach(t),Cn.forEach(t);for(var l=0;l<nl.length;l++){var a=nl[l];a.blockedOn===e&&(a.blockedOn=null)}for(;0<nl.length&&(l=nl[0],l.blockedOn===null);)tm(l),l.blockedOn===null&&nl.shift();if(l=(e.ownerDocument||e).$$reactFormReplay,l!=null)for(a=0;a<l.length;a+=3){var n=l[a],i=l[a+1],r=n[Je]||null;if(typeof i=="function")r||Bu(l);else if(r){var c=null;if(i&&i.hasAttribute("formAction")){if(n=i,r=i[Je]||null)c=r.formAction;else if(io(n)!==null)continue}else c=r.action;typeof c=="function"?l[a+1]=c:(l.splice(a,3),a-=3),Bu(l)}}}function lm(){function e(i){i.canIntercept&&i.info==="react-transition"&&i.intercept({handler:function(){return new Promise(function(r){return n=r})},focusReset:"manual",scroll:"manual"})}function t(){n!==null&&(n(),n=null),a||setTimeout(l,20)}function l(){if(!a&&!navigation.transition){var i=navigation.currentEntry;i&&i.url!=null&&navigation.navigate(i.url,{state:i.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,n=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(l,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),n!==null&&(n(),n=null)}}}function ro(e){this._internalRoot=e}xi.prototype.render=ro.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(S(409));var l=t.current,a=lt();P0(l,a,e,t,null,null)};xi.prototype.unmount=ro.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;P0(e.current,2,null,e,null,null),fi(),t[Ra]=null}};function xi(e){this._internalRoot=e}xi.prototype.unstable_scheduleHydration=function(e){if(e){var t=zd();e={blockedOn:null,target:e,priority:t};for(var l=0;l<nl.length&&t!==0&&t<nl[l].priority;l++);nl.splice(l,0,e),l===0&&tm(e)}};var Hu=pd.version;if(Hu!=="19.2.4")throw Error(S(527,Hu,"19.2.4"));ee.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(S(188)):(e=Object.keys(e).join(","),Error(S(268,e)));return e=nh(t),e=e!==null?vd(e):null,e=e===null?null:e.stateNode,e};var Op={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var is=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!is.isDisabled&&is.supportsFiber)try{Mn=is.inject(Op),et=is}catch{}}Ps.createRoot=function(e,t){if(!gd(e))throw Error(S(299));var l=!1,a="",n=Jf,i=Ff,r=Kf;return t!=null&&(t.unstable_strictMode===!0&&(l=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(n=t.onUncaughtError),t.onCaughtError!==void 0&&(i=t.onCaughtError),t.onRecoverableError!==void 0&&(r=t.onRecoverableError)),t=$0(e,1,!1,null,null,l,a,null,n,i,r,lm),e[Ra]=t.current,to(e),new ro(t)};Ps.hydrateRoot=function(e,t,l){if(!gd(e))throw Error(S(299));var a=!1,n="",i=Jf,r=Ff,c=Kf,o=null;return l!=null&&(l.unstable_strictMode===!0&&(a=!0),l.identifierPrefix!==void 0&&(n=l.identifierPrefix),l.onUncaughtError!==void 0&&(i=l.onUncaughtError),l.onCaughtError!==void 0&&(r=l.onCaughtError),l.onRecoverableError!==void 0&&(c=l.onRecoverableError),l.formState!==void 0&&(o=l.formState)),t=$0(e,1,!0,t,l??null,a,n,o,i,r,c,lm),t.context=W0(null),l=t.current,a=lt(),a=xc(a),n=hl(a),n.callback=null,xl(l,n,a),l=a,t.current.lanes=l,Un(t,l),Ct(t),e[Ra]=t.current,to(e),new xi(t)};Ps.version="19.2.4";function am(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(am)}catch(e){console.error(e)}}am(),ud.exports=Ps;var zp=ud.exports;const _p=Iu(zp);/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function On(){return On=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a])}return e},On.apply(this,arguments)}var ul;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ul||(ul={}));const Yu="popstate";function Mp(e){e===void 0&&(e={});function t(a,n){let{pathname:i,search:r,hash:c}=a.location;return ac("",{pathname:i,search:r,hash:c},n.state&&n.state.usr||null,n.state&&n.state.key||"default")}function l(a,n){return typeof n=="string"?n:nm(n)}return Up(t,l,null,e)}function Ne(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function co(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Rp(){return Math.random().toString(36).substr(2,8)}function Gu(e,t){return{usr:e.state,key:e.key,idx:t}}function ac(e,t,l,a){return l===void 0&&(l=null),On({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ya(t):t,{state:l,key:t&&t.key||a||Rp()})}function nm(e){let{pathname:t="/",search:l="",hash:a=""}=e;return l&&l!=="?"&&(t+=l.charAt(0)==="?"?l:"?"+l),a&&a!=="#"&&(t+=a.charAt(0)==="#"?a:"#"+a),t}function Ya(e){let t={};if(e){let l=e.indexOf("#");l>=0&&(t.hash=e.substr(l),e=e.substr(0,l));let a=e.indexOf("?");a>=0&&(t.search=e.substr(a),e=e.substr(0,a)),e&&(t.pathname=e)}return t}function Up(e,t,l,a){a===void 0&&(a={});let{window:n=document.defaultView,v5Compat:i=!1}=a,r=n.history,c=ul.Pop,o=null,u=p();u==null&&(u=0,r.replaceState(On({},r.state,{idx:u}),""));function p(){return(r.state||{idx:null}).idx}function d(){c=ul.Pop;let N=p(),m=N==null?null:N-u;u=N,o&&o({action:c,location:y.location,delta:m})}function h(N,m){c=ul.Push;let f=ac(y.location,N,m);u=p()+1;let x=Gu(f,u),v=y.createHref(f);try{r.pushState(x,"",v)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;n.location.assign(v)}i&&o&&o({action:c,location:y.location,delta:1})}function g(N,m){c=ul.Replace;let f=ac(y.location,N,m);u=p();let x=Gu(f,u),v=y.createHref(f);r.replaceState(x,"",v),i&&o&&o({action:c,location:y.location,delta:0})}function j(N){let m=n.location.origin!=="null"?n.location.origin:n.location.href,f=typeof N=="string"?N:nm(N);return f=f.replace(/ $/,"%20"),Ne(m,"No window.location.(origin|href) available to create URL for href: "+f),new URL(f,m)}let y={get action(){return c},get location(){return e(n,r)},listen(N){if(o)throw new Error("A history only accepts one active listener");return n.addEventListener(Yu,d),o=N,()=>{n.removeEventListener(Yu,d),o=null}},createHref(N){return t(n,N)},createURL:j,encodeLocation(N){let m=j(N);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:h,replace:g,go(N){return r.go(N)}};return y}var qu;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(qu||(qu={}));function kp(e,t,l){return l===void 0&&(l="/"),Dp(e,t,l)}function Dp(e,t,l,a){let n=typeof t=="string"?Ya(t):t,i=rm(n.pathname||"/",l);if(i==null)return null;let r=sm(e);Lp(r);let c=null;for(let o=0;c==null&&o<r.length;++o){let u=Kp(i);c=Zp(r[o],u)}return c}function sm(e,t,l,a){t===void 0&&(t=[]),l===void 0&&(l=[]),a===void 0&&(a="");let n=(i,r,c)=>{let o={relativePath:c===void 0?i.path||"":c,caseSensitive:i.caseSensitive===!0,childrenIndex:r,route:i};o.relativePath.startsWith("/")&&(Ne(o.relativePath.startsWith(a),'Absolute route path "'+o.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),o.relativePath=o.relativePath.slice(a.length));let u=Bl([a,o.relativePath]),p=l.concat(o);i.children&&i.children.length>0&&(Ne(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),sm(i.children,t,p,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:Xp(u,i.index),routesMeta:p})};return e.forEach((i,r)=>{var c;if(i.path===""||!((c=i.path)!=null&&c.includes("?")))n(i,r);else for(let o of im(i.path))n(i,r,o)}),t}function im(e){let t=e.split("/");if(t.length===0)return[];let[l,...a]=t,n=l.endsWith("?"),i=l.replace(/\?$/,"");if(a.length===0)return n?[i,""]:[i];let r=im(a.join("/")),c=[];return c.push(...r.map(o=>o===""?i:[i,o].join("/"))),n&&c.push(...r),c.map(o=>e.startsWith("/")&&o===""?"/":o)}function Lp(e){e.sort((t,l)=>t.score!==l.score?l.score-t.score:Qp(t.routesMeta.map(a=>a.childrenIndex),l.routesMeta.map(a=>a.childrenIndex)))}const Bp=/^:[\w-]+$/,Hp=3,Yp=2,Gp=1,qp=10,Vp=-2,Vu=e=>e==="*";function Xp(e,t){let l=e.split("/"),a=l.length;return l.some(Vu)&&(a+=Vp),t&&(a+=Yp),l.filter(n=>!Vu(n)).reduce((n,i)=>n+(Bp.test(i)?Hp:i===""?Gp:qp),a)}function Qp(e,t){return e.length===t.length&&e.slice(0,-1).every((a,n)=>a===t[n])?e[e.length-1]-t[t.length-1]:0}function Zp(e,t,l){let{routesMeta:a}=e,n={},i="/",r=[];for(let c=0;c<a.length;++c){let o=a[c],u=c===a.length-1,p=i==="/"?t:t.slice(i.length)||"/",d=Jp({path:o.relativePath,caseSensitive:o.caseSensitive,end:u},p),h=o.route;if(!d)return null;Object.assign(n,d.params),r.push({params:n,pathname:Bl([i,d.pathname]),pathnameBase:eg(Bl([i,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(i=Bl([i,d.pathnameBase]))}return r}function Jp(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[l,a]=Fp(e.path,e.caseSensitive,e.end),n=t.match(l);if(!n)return null;let i=n[0],r=i.replace(/(.)\/+$/,"$1"),c=n.slice(1);return{params:a.reduce((u,p,d)=>{let{paramName:h,isOptional:g}=p;if(h==="*"){let y=c[d]||"";r=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const j=c[d];return g&&!j?u[h]=void 0:u[h]=(j||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:r,pattern:e}}function Fp(e,t,l){t===void 0&&(t=!1),l===void 0&&(l=!0),co(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let a=[],n="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(r,c,o)=>(a.push({paramName:c,isOptional:o!=null}),o?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(a.push({paramName:"*"}),n+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):l?n+="\\/*$":e!==""&&e!=="/"&&(n+="(?:(?=\\/|$))"),[new RegExp(n,t?void 0:"i"),a]}function Kp(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return co(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function rm(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let l=t.endsWith("/")?t.length-1:t.length,a=e.charAt(l);return a&&a!=="/"?null:e.slice(l)||"/"}const $p=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Wp=e=>$p.test(e);function Pp(e,t){t===void 0&&(t="/");let{pathname:l,search:a="",hash:n=""}=typeof e=="string"?Ya(e):e,i;if(l)if(Wp(l))i=l;else{if(l.includes("//")){let r=l;l=l.replace(/\/\/+/g,"/"),co(!1,"Pathnames cannot have embedded double slashes - normalizing "+(r+" -> "+l))}l.startsWith("/")?i=Xu(l.substring(1),"/"):i=Xu(l,t)}else i=t;return{pathname:i,search:tg(a),hash:lg(n)}}function Xu(e,t){let l=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(n=>{n===".."?l.length>1&&l.pop():n!=="."&&l.push(n)}),l.length>1?l.join("/"):"/"}function lr(e,t,l,a){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+l+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Ip(e){return e.filter((t,l)=>l===0||t.route.path&&t.route.path.length>0)}function cm(e,t){let l=Ip(e);return t?l.map((a,n)=>n===l.length-1?a.pathname:a.pathnameBase):l.map(a=>a.pathnameBase)}function om(e,t,l,a){a===void 0&&(a=!1);let n;typeof e=="string"?n=Ya(e):(n=On({},e),Ne(!n.pathname||!n.pathname.includes("?"),lr("?","pathname","search",n)),Ne(!n.pathname||!n.pathname.includes("#"),lr("#","pathname","hash",n)),Ne(!n.search||!n.search.includes("#"),lr("#","search","hash",n)));let i=e===""||n.pathname==="",r=i?"/":n.pathname,c;if(r==null)c=l;else{let d=t.length-1;if(!a&&r.startsWith("..")){let h=r.split("/");for(;h[0]==="..";)h.shift(),d-=1;n.pathname=h.join("/")}c=d>=0?t[d]:"/"}let o=Pp(n,c),u=r&&r!=="/"&&r.endsWith("/"),p=(i||r===".")&&l.endsWith("/");return!o.pathname.endsWith("/")&&(u||p)&&(o.pathname+="/"),o}const Bl=e=>e.join("/").replace(/\/\/+/g,"/"),eg=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),tg=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,lg=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function ag(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const um=["post","put","patch","delete"];new Set(um);const ng=["get",...um];new Set(ng);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zn(){return zn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a])}return e},zn.apply(this,arguments)}const oo=b.createContext(null),sg=b.createContext(null),Vn=b.createContext(null),pi=b.createContext(null),Wt=b.createContext({outlet:null,matches:[],isDataRoute:!1}),dm=b.createContext(null);function Xn(){return b.useContext(pi)!=null}function gi(){return Xn()||Ne(!1),b.useContext(pi).location}function fm(e){b.useContext(Vn).static||b.useLayoutEffect(e)}function mm(){let{isDataRoute:e}=b.useContext(Wt);return e?jg():ig()}function ig(){Xn()||Ne(!1);let e=b.useContext(oo),{basename:t,future:l,navigator:a}=b.useContext(Vn),{matches:n}=b.useContext(Wt),{pathname:i}=gi(),r=JSON.stringify(cm(n,l.v7_relativeSplatPath)),c=b.useRef(!1);return fm(()=>{c.current=!0}),b.useCallback(function(u,p){if(p===void 0&&(p={}),!c.current)return;if(typeof u=="number"){a.go(u);return}let d=om(u,JSON.parse(r),i,p.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:Bl([t,d.pathname])),(p.replace?a.replace:a.push)(d,p.state,p)},[t,a,r,i,e])}const rg=b.createContext(null);function cg(e){let t=b.useContext(Wt).outlet;return t&&b.createElement(rg.Provider,{value:e},t)}function og(){let{matches:e}=b.useContext(Wt),t=e[e.length-1];return t?t.params:{}}function ug(e,t){return dg(e,t)}function dg(e,t,l,a){Xn()||Ne(!1);let{navigator:n}=b.useContext(Vn),{matches:i}=b.useContext(Wt),r=i[i.length-1],c=r?r.params:{};r&&r.pathname;let o=r?r.pathnameBase:"/";r&&r.route;let u=gi(),p;if(t){var d;let N=typeof t=="string"?Ya(t):t;o==="/"||(d=N.pathname)!=null&&d.startsWith(o)||Ne(!1),p=N}else p=u;let h=p.pathname||"/",g=h;if(o!=="/"){let N=o.replace(/^\//,"").split("/");g="/"+h.replace(/^\//,"").split("/").slice(N.length).join("/")}let j=kp(e,{pathname:g}),y=pg(j&&j.map(N=>Object.assign({},N,{params:Object.assign({},c,N.params),pathname:Bl([o,n.encodeLocation?n.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?o:Bl([o,n.encodeLocation?n.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),i,l,a);return t&&y?b.createElement(pi.Provider,{value:{location:zn({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:ul.Pop}},y):y}function fg(){let e=vg(),t=ag(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),l=e instanceof Error?e.stack:null,n={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},t),l?b.createElement("pre",{style:n},l):null,null)}const mg=b.createElement(fg,null);class hg extends b.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,l){return l.location!==t.location||l.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:l.error,location:l.location,revalidation:t.revalidation||l.revalidation}}componentDidCatch(t,l){console.error("React Router caught the following error during render",t,l)}render(){return this.state.error!==void 0?b.createElement(Wt.Provider,{value:this.props.routeContext},b.createElement(dm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function xg(e){let{routeContext:t,match:l,children:a}=e,n=b.useContext(oo);return n&&n.static&&n.staticContext&&(l.route.errorElement||l.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=l.route.id),b.createElement(Wt.Provider,{value:t},a)}function pg(e,t,l,a){var n;if(t===void 0&&(t=[]),l===void 0&&(l=null),a===void 0&&(a=null),e==null){var i;if(!l)return null;if(l.errors)e=l.matches;else if((i=a)!=null&&i.v7_partialHydration&&t.length===0&&!l.initialized&&l.matches.length>0)e=l.matches;else return null}let r=e,c=(n=l)==null?void 0:n.errors;if(c!=null){let p=r.findIndex(d=>d.route.id&&(c==null?void 0:c[d.route.id])!==void 0);p>=0||Ne(!1),r=r.slice(0,Math.min(r.length,p+1))}let o=!1,u=-1;if(l&&a&&a.v7_partialHydration)for(let p=0;p<r.length;p++){let d=r[p];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=p),d.route.id){let{loaderData:h,errors:g}=l,j=d.route.loader&&h[d.route.id]===void 0&&(!g||g[d.route.id]===void 0);if(d.route.lazy||j){o=!0,u>=0?r=r.slice(0,u+1):r=[r[0]];break}}}return r.reduceRight((p,d,h)=>{let g,j=!1,y=null,N=null;l&&(g=c&&d.route.id?c[d.route.id]:void 0,y=d.route.errorElement||mg,o&&(u<0&&h===0?(Ng("route-fallback"),j=!0,N=null):u===h&&(j=!0,N=d.route.hydrateFallbackElement||null)));let m=t.concat(r.slice(0,h+1)),f=()=>{let x;return g?x=y:j?x=N:d.route.Component?x=b.createElement(d.route.Component,null):d.route.element?x=d.route.element:x=p,b.createElement(xg,{match:d,routeContext:{outlet:p,matches:m,isDataRoute:l!=null},children:x})};return l&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?b.createElement(hg,{location:l.location,revalidation:l.revalidation,component:y,error:g,children:f(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):f()},null)}var hm=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(hm||{}),xm=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(xm||{});function gg(e){let t=b.useContext(oo);return t||Ne(!1),t}function yg(e){let t=b.useContext(sg);return t||Ne(!1),t}function bg(e){let t=b.useContext(Wt);return t||Ne(!1),t}function pm(e){let t=bg(),l=t.matches[t.matches.length-1];return l.route.id||Ne(!1),l.route.id}function vg(){var e;let t=b.useContext(dm),l=yg(),a=pm();return t!==void 0?t:(e=l.errors)==null?void 0:e[a]}function jg(){let{router:e}=gg(hm.UseNavigateStable),t=pm(xm.UseNavigateStable),l=b.useRef(!1);return fm(()=>{l.current=!0}),b.useCallback(function(n,i){i===void 0&&(i={}),l.current&&(typeof n=="number"?e.navigate(n):e.navigate(n,zn({fromRouteId:t},i)))},[e,t])}const Qu={};function Ng(e,t,l){Qu[e]||(Qu[e]=!0)}function Sg(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function gm(e){let{to:t,replace:l,state:a,relative:n}=e;Xn()||Ne(!1);let{future:i,static:r}=b.useContext(Vn),{matches:c}=b.useContext(Wt),{pathname:o}=gi(),u=mm(),p=om(t,cm(c,i.v7_relativeSplatPath),o,n==="path"),d=JSON.stringify(p);return b.useEffect(()=>u(JSON.parse(d),{replace:l,state:a,relative:n}),[u,d,n,l,a]),null}function wg(e){return cg(e.context)}function Ut(e){Ne(!1)}function Eg(e){let{basename:t="/",children:l=null,location:a,navigationType:n=ul.Pop,navigator:i,static:r=!1,future:c}=e;Xn()&&Ne(!1);let o=t.replace(/^\/*/,"/"),u=b.useMemo(()=>({basename:o,navigator:i,static:r,future:zn({v7_relativeSplatPath:!1},c)}),[o,c,i,r]);typeof a=="string"&&(a=Ya(a));let{pathname:p="/",search:d="",hash:h="",state:g=null,key:j="default"}=a,y=b.useMemo(()=>{let N=rm(p,o);return N==null?null:{location:{pathname:N,search:d,hash:h,state:g,key:j},navigationType:n}},[o,p,d,h,g,j,n]);return y==null?null:b.createElement(Vn.Provider,{value:u},b.createElement(pi.Provider,{children:l,value:y}))}function Tg(e){let{children:t,location:l}=e;return ug(nc(t),l)}new Promise(()=>{});function nc(e,t){t===void 0&&(t=[]);let l=[];return b.Children.forEach(e,(a,n)=>{if(!b.isValidElement(a))return;let i=[...t,n];if(a.type===b.Fragment){l.push.apply(l,nc(a.props.children,i));return}a.type!==Ut&&Ne(!1),!a.props.index||!a.props.children||Ne(!1);let r={id:a.props.id||i.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(r.children=nc(a.props.children,i)),l.push(r)}),l}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const Ag="6";try{window.__reactRouterVersion=Ag}catch{}const Cg="startTransition",Zu=Wm[Cg];function Og(e){let{basename:t,children:l,future:a,window:n}=e,i=b.useRef();i.current==null&&(i.current=Mp({window:n,v5Compat:!0}));let r=i.current,[c,o]=b.useState({action:r.action,location:r.location}),{v7_startTransition:u}=a||{},p=b.useCallback(d=>{u&&Zu?Zu(()=>o(d)):o(d)},[o,u]);return b.useLayoutEffect(()=>r.listen(p),[r,p]),b.useEffect(()=>Sg(a),[a]),b.createElement(Eg,{basename:t,children:l,location:c.location,navigationType:c.action,navigator:r,future:a})}var Ju;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ju||(Ju={}));var Fu;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Fu||(Fu={}));const ym=()=>{localStorage.removeItem("token"),window.dispatchEvent(new CustomEvent("auth:unauthorized"))},$=async(e,t={})=>{const l=localStorage.getItem("token"),a=new Headers(t.headers);l&&a.set("Authorization",`Bearer ${l}`);const n=await fetch(e,{...t,headers:a});return n.status===401&&ym(),n},zg=({user:e,navigateToUserProfile:t})=>{if(e.is_anonymous)return s.jsx("div",{className:"h-full flex items-center justify-center p-6 bg-gray-50",children:s.jsxs("div",{className:"text-center max-w-md",children:[s.jsx("div",{className:"w-20 h-20 bg-gray-300 rounded-full mx-auto mb-4 flex items-center justify-center",children:s.jsx("svg",{className:"w-10 h-10 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),s.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Chat Unavailable"}),s.jsx("p",{className:"text-gray-600",children:"Anonymous users cannot access the chat feature."}),s.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"This restriction is permanent for anonymous profiles."})]})});const l=C=>{t&&t(C)},[a,n]=b.useState([]),[i,r]=b.useState(""),[c,o]=b.useState(!1),[u,p]=b.useState(null),[d,h]=b.useState(null),g=b.useRef(null),j=b.useRef(null),[y,N]=b.useState("chat"),[m,f]=b.useState("public"),[x,v]=b.useState(""),[E,_]=b.useState([]),[w,O]=b.useState([]),[M,R]=b.useState([]),[V,W]=b.useState({action:null,username:null});b.useEffect(()=>(Te(),()=>{j.current&&j.current.close()}),[e]);const Te=()=>{try{if(e.is_anonymous){console.log(" Skipping SSE connection for anonymous user"),o(!1);return}const C=localStorage.getItem("token");if(console.log(" Token from localStorage:",C?"EXISTS":"MISSING"),!C){console.error(" No token found");return}console.log(" Connecting to SSE with token...");const Y=`/api/chat/stream?token=${C}`;console.log(" SSE URL:",Y);const U=new EventSource(Y);j.current=U,U.onopen=()=>{console.log(" SSE onopen triggered"),o(!0)},U.onmessage=X=>{console.log(" SSE onmessage received:",X.data);try{const B=JSON.parse(X.data);switch(console.log(" Parsed data:",B),B.type){case"connected":console.log(" Connected event:",B),p(B.connectionId),ke(B.connectionId),B.onlineUsers&&R(B.onlineUsers);break;case"history":console.log(" History received:",B.messages.length,"messages");const yi=B.messages.map(Se=>({id:Se.id,username:Se.username,message:Se.message,timestamp:new Date(Se.timestamp),isPrivate:Se.isPrivate,toUser:Se.toUser}));n(yi);break;case"message":console.log(" New message:",B);const zm={id:B.id,username:B.username,message:B.message,timestamp:new Date(B.timestamp),isPrivate:B.isPrivate,toUser:B.toUser};n(Se=>(console.log(" Adding message to state, total:",Se.length+1),[...Se,zm]));break;case"user_joined":console.log(" User joined:",B),n(Se=>[...Se,{id:Date.now().toString(),username:"",message:B.message,timestamp:new Date(B.timestamp)}]),B.username&&B.username.trim()!==""&&R(Se=>Se.includes(B.username)?Se:[...Se,B.username]);break;case"user_left":console.log(" User event:",B),n(Se=>[...Se,{id:Date.now().toString(),username:"",message:B.message,timestamp:new Date(B.timestamp)}]),B.username&&B.username.trim()!==""&&R(Se=>Se.filter(_m=>_m!==B.username));break;default:console.log(" Unknown message type:",B.type)}}catch(B){console.error(" Error parsing SSE message:",B)}},U.onerror=X=>{console.error(" SSE onerror:",X),console.log("readyState:",U.readyState),o(!1),setTimeout(()=>{U.readyState===EventSource.CLOSED&&(console.log(" Attempting reconnection..."),Te())},3e3)}}catch(C){console.error(" Failed to connect SSE:",C)}},ke=async C=>{try{console.log(" Joining chat with connectionId:",C);const Y=await $("/api/chat/join",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({connectionId:C,userId:e.id,username:e.username})}),U=await Y.json();console.log(" Join response:",U),Y.ok?console.log(" Joined chat successfully"):console.error(" Failed to join chat:",Y.statusText)}catch(Y){console.error(" Error joining chat:",Y)}},K=(C,Y)=>{W({action:C,username:Y})},T=()=>{if(V.action==="remove"&&V.username)_(C=>C.filter(Y=>Y.username!==V.username)),$("/api/friends/remove",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:V.username})}).catch(C=>console.error("Failed to remove friend:",C));else if(V.action==="block"&&V.username&&!w.includes(V.username)&&V.username!==e.username){const C=V.username;O(Y=>[...Y,C]),_(Y=>Y.filter(U=>U.username!==C)),$("/api/friends/block",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:C})}).catch(Y=>console.error("Failed to block user:",Y))}W({action:null,username:null})},A=()=>{W({action:null,username:null})},z=a.filter(C=>w.includes(C.username)?!1:m==="private"&&x?C.username===x&&C.toUser===e.username||C.username===e.username&&C.toUser===x:!C.isPrivate),k=()=>{var C;(C=g.current)==null||C.scrollIntoView({behavior:"smooth"})};b.useEffect(()=>{k()},[z]);const D=C=>{if(C.preventDefault(),!i.trim()||!u||!c){console.log(" Cannot send: message=",i.trim(),"connId=",u,"connected=",c);return}const Y=i.trim();console.log(" Sending message:",Y),r(""),u&&(console.log(" POST /api/chat/send with connectionId:",u),$("/api/chat/send",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({connectionId:u,message:Y,isPrivate:m==="private",toUser:m==="private"?x:void 0})}).then(U=>(console.log(" Send response status:",U.status),U.json())).then(U=>console.log(" Send response:",U)).catch(U=>console.error(" Failed to send message:",U)))},xe=C=>{if(!E.some(Y=>Y.username===C)&&C!==e.username){const Y={id:Date.now().toString(),username:C,isOnline:M.includes(C)};_(U=>[...U,Y]),$("/api/friends/add",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:C})}).catch(U=>console.error("Failed to add friend:",U))}},vt=C=>{O(Y=>Y.filter(U=>U!==C)),$("/api/friends/unblock",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:C})}).catch(Y=>console.error("Failed to unblock user:",Y))},st=C=>{f("private"),v(C),N("chat")},De=()=>{f("public"),v("")},it=()=>Array.from(new Set(a.map(Y=>Y.username))).filter(Y=>Y!==e.username),Al=C=>{h(C),setTimeout(()=>h(null),2e3)};return s.jsxs("div",{className:"h-full flex flex-col overflow-hidden",children:[d&&s.jsx("div",{className:"absolute top-4 left-1/2 transform -translate-x-1/2 z-50 animate-fade-in",children:s.jsx("div",{className:"bg-gray-800 text-white text-sm px-4 py-2 rounded-lg shadow-lg",children:d})}),V.action&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white p-4 rounded shadow-md text-center",children:[s.jsxs("p",{className:"text-sm text-gray-800",children:["Are you sure you want to"," ",V.action==="remove"?"remove":"block"," ",s.jsx("strong",{children:V.username}),"?"]}),s.jsxs("div",{className:"mt-4 flex justify-center space-x-2",children:[s.jsx("button",{onClick:T,className:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700",children:"Yes"}),s.jsx("button",{onClick:A,className:"px-4 py-2 bg-gray-300 text-gray-800 rounded hover:bg-gray-400",children:"Cancel"})]})]})}),s.jsxs("div",{className:"flex border-b border-white/20 bg-white/30 backdrop-blur-sm flex-shrink-0",children:[s.jsx("button",{onClick:()=>N("chat"),className:`flex-1 py-2 px-3 text-xs font-medium transition-colors ${y==="chat"?"bg-blue-500/80 text-white":"text-gray-700 hover:text-gray-900 hover:bg-white/30"}`,children:"Chat"}),s.jsxs("button",{onClick:()=>N("friends"),className:`flex-1 py-2 px-3 text-xs font-medium transition-colors ${y==="friends"?"bg-blue-500/80 text-white":"text-gray-700 hover:text-gray-900 hover:bg-white/30"}`,children:["Friends (",E.length,")"]}),s.jsxs("button",{onClick:()=>N("blocked"),className:`flex-1 py-2 px-3 text-xs font-medium transition-colors ${y==="blocked"?"bg-blue-500/80 text-white":"text-gray-700 hover:text-gray-900 hover:bg-white/30"}`,children:["Blocked (",w.length,")"]})]}),y==="chat"&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"bg-white/20 backdrop-blur-sm px-3 py-2 border-b border-white/20 flex-shrink-0",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center space-x-2",children:m==="private"?s.jsxs(s.Fragment,{children:[s.jsxs("span",{className:"text-xs text-purple-700 font-medium",children:["Private with ",x]}),s.jsx("button",{onClick:De,className:"text-xs text-blue-600 hover:text-blue-800 underline",children:"Switch to Public"})]}):s.jsx("span",{className:"text-xs text-green-700 font-medium",children:"Public Chat"})}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:`w-2 h-2 rounded-full ${c?"bg-green-500":"bg-red-500"}`}),s.jsx("span",{className:"text-xs text-gray-600",children:c?"Connected":"Disconnected"})]})]})}),s.jsxs("div",{className:"flex-1 min-h-0 overflow-y-auto p-3 space-y-3",children:[z.length===0?s.jsx("div",{className:"text-center text-gray-500 py-8",children:"No messages yet. Start the conversation!"}):z.map(C=>s.jsx("div",{className:"text-sm group",children:s.jsxs("div",{className:"flex flex-col space-y-1",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("span",{className:`font-medium text-xs cursor-pointer hover:underline ${C.isPrivate?"text-purple-700":"text-blue-700"}`,onClick:()=>{C.username!==e.username?l(C.username):Al("This is your own profile")},title:`View ${C.username}'s profile`,children:[C.username,C.isPrivate&&s.jsxs("span",{className:"ml-1 text-purple-500",children:[" ",C.toUser]})]}),s.jsx("span",{className:"text-xs text-gray-500",children:C.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),C.username!==e.username&&s.jsxs("div",{className:"opacity-0 group-hover:opacity-100 flex items-center space-x-1",children:[!E.some(Y=>Y.username===C.username)&&s.jsx("button",{onClick:()=>xe(C.username),className:"text-green-600 hover:text-green-800 text-xs bg-white/50 rounded px-1",title:"Add friend",children:"+"}),E.some(Y=>Y.username===C.username)&&s.jsx("button",{onClick:()=>st(C.username),className:"text-purple-600 hover:text-purple-800 text-xs bg-white/50 rounded px-1",title:"Private message",children:""}),s.jsx("button",{onClick:()=>K("block",C.username),className:"text-red-600 hover:text-red-800 text-xs bg-white/50 rounded px-1",title:"Block user",children:""})]})]}),s.jsx("div",{className:`break-words pl-2 border-l-2 ${C.isPrivate?"border-purple-300 text-purple-900 bg-purple-50/50":"border-blue-300 text-gray-900 bg-white/30"} rounded-r px-2 py-1`,children:C.message})]})},C.id)),s.jsx("div",{ref:g})]}),s.jsx("div",{className:"border-t border-white/20 p-3 flex-shrink-0 bg-white/20 backdrop-blur-sm",children:s.jsxs("form",{onSubmit:D,className:"flex space-x-2",children:[s.jsx("input",{type:"text",value:i,onChange:C=>r(C.target.value),placeholder:c?m==="private"?`Private message to ${x}...`:"Type message...":"Connecting...",className:"flex-1 text-sm border border-white/30 bg-white/50 backdrop-blur-sm rounded px-2 py-1 focus:outline-none focus:ring-1 focus:ring-blue-500 focus:bg-white/70",maxLength:200,disabled:!c}),s.jsx("button",{type:"submit",disabled:!i.trim()||!c,className:`px-3 py-1 rounded text-sm disabled:opacity-50 disabled:cursor-not-allowed flex-shrink-0 backdrop-blur-sm ${m==="private"?"bg-purple-500/80 text-white hover:bg-purple-600":"bg-blue-500/80 text-white hover:bg-blue-600"}`,children:"Send"})]})})]}),y==="friends"&&s.jsxs("div",{className:"flex-1 min-h-0 overflow-y-auto p-3",children:[s.jsx("div",{className:"space-y-2",children:E.length===0?s.jsx("div",{className:"text-center text-gray-700 text-sm py-4",children:"No friends yet. Add friends from chat messages!"}):E.map(C=>s.jsxs("div",{className:"flex items-center justify-between p-2 bg-white/30 backdrop-blur-sm border border-white/20 rounded",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:`w-2 h-2 rounded-full ${C.isOnline?"bg-green-500":"bg-gray-400"}`}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:C.username})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx("button",{onClick:()=>st(C.username),className:"text-purple-600 hover:text-purple-800 text-sm bg-white/50 rounded px-2 py-1",title:"Private chat",children:""}),s.jsx("button",{onClick:()=>K("remove",C.username),className:"text-red-600 hover:text-red-800 text-sm bg-white/50 rounded px-2 py-1",title:"Remove friend",children:""})]})]},C.id))}),s.jsxs("div",{className:"mt-4 pt-3 border-t border-white/20",children:[s.jsx("div",{className:"text-xs text-gray-700 mb-2",children:"Quick add from recent users:"}),s.jsx("div",{className:"space-y-1",children:it().filter(C=>!E.some(Y=>Y.username===C)).filter(C=>!w.includes(C)).slice(0,3).map(C=>s.jsxs("button",{onClick:()=>xe(C),className:"block w-full text-left text-sm text-blue-700 hover:text-blue-900 hover:bg-white/30 px-2 py-1 rounded bg-white/20",children:["+ Add ",C]},C))})]})]}),y==="blocked"&&s.jsx("div",{className:"flex-1 min-h-0 overflow-y-auto p-3",children:s.jsx("div",{className:"space-y-2",children:w.length===0?s.jsx("div",{className:"text-center text-gray-700 text-sm py-4",children:"No blocked users."}):w.map(C=>s.jsxs("div",{className:"flex items-center justify-between p-2 bg-red-100/50 backdrop-blur-sm border border-red-200/50 rounded",children:[s.jsx("span",{className:"text-sm font-medium text-red-800",children:C}),s.jsx("button",{onClick:()=>vt(C),className:"text-green-600 hover:text-green-800 text-sm bg-white/50 rounded px-2 py-1",title:"Unblock user",children:"Unblock"})]},C))})}),s.jsx("div",{className:"px-3 py-1 border-t border-white/20 bg-white/30 backdrop-blur-sm flex-shrink-0",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"text-xs text-gray-700",children:[z.length," messages"]}),s.jsxs("span",{className:"text-xs text-gray-700",children:[M.length," online"]})]})})]})};function Ku({token:e,onVerifySuccess:t,onCancel:l}){const[a,n]=b.useState(""),[i,r]=b.useState(""),[c,o]=b.useState(!1),u=async p=>{p.preventDefault(),r(""),o(!0);try{const d=await fetch("/api/auth/2fa/verify",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({code:a})}),h=await d.json();d.ok&&h.success?t(h.token,h.user):r(h.error||"Invalid verification code")}catch(d){r("Network error. Please try again."),console.error("2FA verification error:",d)}finally{o(!1)}};return s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-black/95 border border-white/10 rounded-2xl shadow-2xl w-96 p-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-white text-center mb-2",children:"Two-Factor Authentication"}),s.jsx("p",{className:"text-white/70 text-center mb-6",children:"Enter the 6-digit code from your authenticator app!"}),s.jsxs("form",{onSubmit:u,className:"space-y-4",children:[s.jsx("input",{type:"text",value:a,onChange:p=>n(p.target.value.replace(/\D/g,"").slice(0,6)),placeholder:"012345",maxLength:6,inputMode:"numeric",className:"w-full px-4 py-3 text-center text-2xl tracking-widest bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",autoFocus:!0}),s.jsx("button",{type:"submit",disabled:c||a.length!==6,className:"w-full bg-gradient-to-r from-blue-600 to-blue-500 text-white p-3 rounded-lg hover:from-blue-500 hover:to-blue-400 disabled:opacity-50 disabled:cursor-not-allowed transition-all font-medium shadow-lg shadow-blue-500/25",children:c?"Verifying...":"Verify Code"})]}),i&&s.jsx("div",{className:"bg-red-500/20 border border-red-500/30 text-red-300 px-4 py-3 rounded-lg text-sm text-center",children:i}),s.jsx("div",{className:"mt-6 text-center",children:s.jsx("button",{onClick:l,className:"text-blue-400 hover:text-blue-300 text-sm hover:underline transition-colors",children:" Back to login"})})]})})}const $u=void 0,_g=void 0;function bm(){return typeof window<"u"?`http://backend:${$u}`:`http://${_g}:${$u}`}const Mg=bm(),vm=({onLoginSuccess:e,onSwitchToRegister:t,isInPanel:l=!1})=>{const[a,n]=b.useState(""),[i,r]=b.useState(""),[c,o]=b.useState(""),[u,p]=b.useState(!1),[d,h]=b.useState(!1),[g,j]=b.useState(!1),[y,N]=b.useState(null),[m,f]=b.useState(null),x=async w=>{w.preventDefault(),p(!0),o("");try{console.log("Attempting login with:",{username:a}),console.log("API URL:",`${Mg}/api/auth/login`);let O;try{O=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:a,password:i})})}catch{console.log("Backend container not reachable, trying localhost..."),O=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:a,password:i})})}console.log("Response status:",O.status);const M=await O.json();console.log("Response data:",M),O.ok?M.requires2FA?(N(M.user),f(M.token),j(!0)):(e(M.user,M.token),n(""),r("")):o(M.error||"Login failed")}catch(O){console.error("Login error:",O),o("Network error. Please try again.")}finally{p(!1)}},v=(w,O)=>{e(O,w),j(!1),N(null),f(null),n(""),r("")},E=()=>{j(!1),N(null),f(null),n(""),r("")},_=async()=>{h(!0),o("");const w=`guest_${Math.random().toString(36).slice(2,8)}`;try{const O=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:w,isGuest:!0})}),M=await O.json();O.ok?e(M.user,M.token):o(M.error||"Guest sign-in failed")}catch(O){console.error("Guest sign-in error:",O),o("Network error. Please try again.")}finally{h(!1)}};return l?s.jsxs(s.Fragment,{children:[g&&y&&m&&s.jsx(Ku,{user:y,token:m,onVerifySuccess:v,onCancel:E}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("form",{onSubmit:x,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-white/70 text-sm font-medium mb-1.5",children:"Username"}),s.jsx("input",{type:"text",placeholder:"Enter your username",value:a,onChange:w=>n(w.target.value),className:"w-full p-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-white/70 text-sm font-medium mb-1.5",children:"Password"}),s.jsx("input",{type:"password",placeholder:"Enter your password",value:i,onChange:w=>r(w.target.value),className:"w-full p-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",required:!0})]}),s.jsx("button",{type:"submit",disabled:u,className:"w-full bg-gradient-to-r from-blue-600 to-blue-500 text-white p-3 rounded-lg hover:from-blue-500 hover:to-blue-400 disabled:opacity-50 transition-all font-medium shadow-lg shadow-blue-500/25",children:u?"Logging in...":"Login"})]}),c&&s.jsx("div",{className:"bg-red-500/20 border border-red-500/30 text-red-300 px-4 py-3 rounded-lg text-sm",children:c}),t&&s.jsxs("p",{className:"text-center text-sm text-white/60",children:["Don't have an account?"," ",s.jsx("button",{onClick:t,className:"text-blue-400 hover:text-blue-300 hover:underline transition-colors",children:"Register here"})]}),s.jsx("div",{className:"border-t border-white/10 pt-4 mt-4",children:s.jsx("button",{type:"button",onClick:_,disabled:d,className:"w-full bg-slate-600 hover:bg-slate-500 text-white p-3 rounded-lg disabled:opacity-50 transition-all font-medium text-sm border border-slate-500/50",children:d?"Signing in...":"Continue as Guest"})})]})]}):s.jsxs(s.Fragment,{children:[g&&y&&m&&s.jsx(Ku,{user:y,token:m,onVerifySuccess:v,onCancel:E}),s.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:s.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md w-96",children:[s.jsx("h2",{className:"text-2xl font-bold mb-6 text-center",children:"Login"}),c&&s.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:c}),s.jsxs("form",{onSubmit:x,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Username"}),s.jsx("input",{type:"text",value:a,onChange:w=>n(w.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Password"}),s.jsx("input",{type:"password",value:i,onChange:w=>r(w.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),s.jsx("button",{type:"submit",disabled:u,className:"w-full bg-blue-500 text-white py-2 px-4 rounded-md hover:bg-blue-600 disabled:opacity-50",children:u?"Logging in...":"Login"})]}),t&&s.jsxs("p",{className:"text-center mt-6",children:["Don't have an account?"," ",s.jsx("button",{onClick:t,className:"text-blue-500 hover:underline",children:"Register here"})]}),s.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200",children:s.jsx("button",{type:"button",onClick:_,disabled:d,className:"w-full bg-slate-500 text-white py-2 px-4 rounded-md hover:bg-slate-600 disabled:opacity-50 transition-colors",children:d?"Signing in...":"Continue as Guest"})})]})})]})},sc=({isModal:e=!1,onClose:t,embedded:l=!1,lightMode:a=!1})=>{const n=l||a,i=n?"bg-white border border-gray-200 rounded-lg shadow p-6 max-h-[60vh] overflow-y-auto text-gray-900 text-sm":"bg-black/95 border border-white/10 rounded-2xl shadow-2xl p-8 text-white/90 max-h-[80vh] overflow-y-auto flex-1 min-h-0",r=n?"text-lg font-semibold text-gray-900":"text-3xl font-bold text-white",c=n?"text-base font-semibold mb-3 text-gray-900":"text-2xl font-semibold mb-4 text-white",o=n?"text-sm font-semibold mb-2 text-gray-900":"text-xl font-medium mb-2 text-white/90",u=n?"text-sm text-gray-700 leading-relaxed":"text-white/80",p=n?"text-sm text-gray-600 mb-6":"text-white/70 mb-8",d=n?"border-gray-200 mb-6":"border-white/10 mb-8",h=n?"list-disc list-inside text-sm text-gray-700 space-y-1 ml-4":"list-disc list-inside text-white/80 space-y-2 ml-4",g=n?"list-decimal list-inside text-sm text-gray-700 ml-4 space-y-1":"list-decimal list-inside text-white/80 text-sm ml-4 space-y-1",j=n?"w-full text-sm text-gray-700 border-collapse border border-gray-200":"w-full text-white/80 border-collapse border border-white/20",y=n?"text-left py-2 px-3 border-b border-gray-200 font-semibold text-gray-900 text-sm":"text-left py-3 px-4 border-b border-white/20 font-semibold",N=n?"py-2 px-3 border-b border-gray-100 text-sm text-gray-700":"py-3 px-4 border-b border-white/10",m=n?"py-2 px-3 text-sm text-gray-700":"py-3 px-4",f=n?"bg-gray-100":"bg-white/10",x=n?"bg-emerald-50 border border-emerald-200 rounded-lg p-4 mb-4":"bg-emerald-500/20 border border-emerald-500/30 rounded-lg p-4 mb-4",v=n?"text-sm text-emerald-800 font-medium":"text-emerald-300 font-medium",E=n?"text-sm text-gray-800 bg-gray-100 px-1 rounded":"text-white/90",_=n?"text-sm text-blue-600 hover:text-blue-500 hover:underline transition-colors":"text-blue-400 hover:text-blue-300 hover:underline transition-colors",w=n?"text-sm text-gray-600 italic text-center":"text-white/70 italic text-center",O=n?"text-gray-500 hover:text-gray-700":"text-white/60 hover:text-white",M=s.jsxs("div",{className:i,children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsx("h1",{className:r,children:"Privacy Policy Ft_transcendence"}),e&&t&&s.jsx("button",{onClick:t,className:`${O} text-2xl font-bold leading-none transition-colors`,"aria-label":"Close",children:""})]}),s.jsx("p",{className:p,children:"Last Updated: 16-2-2026"}),s.jsx("hr",{className:d}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:c,children:"Your Rights Under GDPR"}),s.jsx("p",{className:u,children:"ft_transcendence respects your privacy and complies with the General Data Protection Regulation (GDPR). This document explains your rights regarding your personal data and how to exercise them."})]}),s.jsx("hr",{className:d}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:c,children:"1. What Data We Collect"}),s.jsx("p",{className:`${u} mb-4`,children:"When you use ft_transcendence, we collect and store:"}),s.jsxs("ul",{className:h,children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Account Information:"})," Username, email address, password (encrypted)"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Profile Data:"})," Display name, avatar, user preferences"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Game Data:"})," Tournament participation, match results, statistics, win/loss records"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Communication:"})," Direct messages and chat history with other users"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Technical Data:"})," Login times"]})]})]}),s.jsx("hr",{className:d}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:c,children:"2. Your Data Rights"}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:o,children:"2.1 Right to View Your Data"}),s.jsx("p",{className:`${u} mb-2`,children:"You can view all personal data we have stored about you at any time."}),s.jsx("p",{className:`${u} mb-1`,children:s.jsx("strong",{children:"How to exercise:"})}),s.jsxs("ol",{className:g,children:[s.jsxs("li",{children:["Navigate to ",s.jsx("strong",{children:"Avatar icon  Profile"})]}),s.jsx("li",{children:"You will see a complete overview of your stored information on the profile page"})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:o,children:"2.2 Right to Edit Your Data"}),s.jsx("p",{className:`${u} mb-2`,children:"You can update or correct your personal information whenever needed."}),s.jsx("p",{className:`${u} mb-1`,children:s.jsx("strong",{children:"How to exercise:"})}),s.jsxs("ol",{className:g,children:[s.jsxs("li",{children:["Navigate to ",s.jsx("strong",{children:"Avatar icon  Settings"})," to update your information: such as Display name, Nickname, e-mail and avatar."]}),s.jsx("li",{children:"Changes take effect immediately"})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:o,children:"2.3 Right to Anonymize Your Account"}),s.jsx("p",{className:`${u} mb-2`,children:"If you don't want your data to be shown using ft_transcendence, you can anonymize your account."}),s.jsx("p",{className:`${u} mb-2`,children:s.jsx("strong",{children:"What happens:"})}),s.jsxs("ul",{className:`${h} mb-2`,children:[s.jsx("li",{children:"Your email and personal identifiers are removed"}),s.jsxs("li",{children:["Your username is replaced with ",s.jsx("code",{className:E,children:"Anonymous User"})]}),s.jsx("li",{children:"Your match history remains visible but not linked to you"}),s.jsx("li",{children:"You will not have access to the chat"}),s.jsx("li",{children:"You cannot recover your account after anonymization"})]}),s.jsx("p",{className:`${u} mb-1`,children:s.jsx("strong",{children:"How to exercise:"})}),s.jsxs("ol",{className:g,children:[s.jsxs("li",{children:["Navigate to ",s.jsx("strong",{children:"Avatar icon  Settings  Privacy & Data  Anonymous Mode"})]}),s.jsx("li",{className:"text-amber-600",children:" This action is irreversible"})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:o,children:"2.4 Right to Delete Your Account"}),s.jsx("p",{className:`${u} mb-2`,children:"You can permanently delete your account and all associated personal data."}),s.jsx("p",{className:`${u} mb-2`,children:s.jsx("strong",{children:"What gets deleted:"})}),s.jsxs("ul",{className:`${h} mb-2`,children:[s.jsx("li",{children:"Your account credentials and login information"}),s.jsx("li",{children:"Profile information (username, email, avatar)"}),s.jsx("li",{children:"Private messages and chat history"}),s.jsx("li",{children:"Personal preferences and settings"}),s.jsx("li",{children:"All game statistics and match history"})]}),s.jsx("p",{className:`${u} mb-1`,children:s.jsx("strong",{children:"How to exercise:"})}),s.jsxs("ol",{className:g,children:[s.jsxs("li",{children:["Navigate to ",s.jsx("strong",{children:"Avatar icon  Settings  Privacy & Data  Delete Account"})]}),s.jsx("li",{children:"Confirm your decision"}),s.jsx("li",{children:"Your data will be permanently deleted"})]})]})]}),s.jsx("hr",{className:d}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:c,children:"3. Data Retention"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:j,children:[s.jsx("thead",{children:s.jsxs("tr",{className:f,children:[s.jsx("th",{className:y,children:"Account Status"}),s.jsx("th",{className:y,children:"Data Retention Policy"})]})}),s.jsxs("tbody",{children:[s.jsxs("tr",{children:[s.jsx("td",{className:N,children:"Active accounts"}),s.jsx("td",{className:N,children:"Your data is retained while your account is active"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:N,children:"Deleted accounts"}),s.jsx("td",{className:N,children:"All personal data is permanently removed"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:m,children:"Anonymized accounts"}),s.jsx("td",{className:m,children:"Personal identifiers removed immediately; anonymized statistics may be retained"})]})]})]})})]}),s.jsx("hr",{className:d}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:c,children:"4. How We Protect Your Data"}),s.jsx("p",{className:`${u} mb-4`,children:"We implement security measures to protect your information:"}),s.jsxs("ul",{className:h,children:[s.jsx("li",{children:"Passwords encrypted using bcrypt hashing"}),s.jsx("li",{children:"All connections use HTTPS encryption and wss"}),s.jsx("li",{children:"Authentication uses JWT tokens with optional 2FA"}),s.jsx("li",{children:"Database setup for to prevent SQL injections and Cross site scripting"})]})]}),s.jsx("hr",{className:d}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:c,children:"5. Data Sharing"}),s.jsx("div",{className:x,children:s.jsx("p",{className:v,children:"We do not sell or rent your personal data to third parties."})}),s.jsx("p",{className:`${u} mb-2`,children:s.jsx("strong",{children:"Your data may be visible to:"})}),s.jsxs("ul",{className:`${h} mb-4`,children:[s.jsx("li",{children:"Other users (username, display name, game statistics, match results)"}),s.jsx("li",{children:"Platform administrators (for technical support and moderation)"})]}),s.jsx("p",{className:`${u} mb-2`,children:s.jsx("strong",{children:"Your data remains private:"})}),s.jsxs("ul",{className:h,children:[s.jsx("li",{children:"Email address"}),s.jsx("li",{children:"Password"}),s.jsx("li",{children:"Private messages (only you and recipients)"}),s.jsx("li",{children:"Technical logs"})]})]}),s.jsx("hr",{className:d}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:c,children:"6. Contact"}),s.jsx("p",{className:`${u} mb-4`,children:"If you have questions about your data or need assistance exercising your rights:"}),s.jsx("p",{className:`${u} mb-2`,children:s.jsx("strong",{children:"Contact us:"})}),s.jsxs("p",{className:u,children:[" Email: ",s.jsx("a",{href:"mailto:qtrinh@student.codam.nl",className:_,children:"qtrinh@student.codam.nl"})]})]}),s.jsx("hr",{className:d}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:c,children:"7. Changes to This Document"}),s.jsx("p",{className:`${u} mb-4`,children:"We may update this document to reflect changes in our practices or legal requirements."}),s.jsx("p",{className:`${u} mb-2`,children:s.jsx("strong",{children:"Version History:"})}),s.jsxs("ul",{className:`${h} space-y-1`,children:[s.jsx("li",{children:"v1.1 - 16-2-2026 - Updated flow regarding exercising rights according to the technical architecture development"}),s.jsx("li",{children:"v1.0 - 16-12-2025 - Initial release"})]})]}),s.jsx("hr",{className:d}),s.jsx("p",{className:w,children:"By using ft_transcendence, you acknowledge your understanding of these rights and how to exercise them."}),e&&t&&s.jsx("div",{className:"mt-8 text-center",children:s.jsx("button",{onClick:t,className:"bg-gradient-to-r from-blue-600 to-blue-500 text-white px-6 py-3 rounded-lg hover:from-blue-500 hover:to-blue-400 transition-all font-medium shadow-lg shadow-blue-500/25",children:"Close"})})]});return l?s.jsx(s.Fragment,{children:M}):e?s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:R=>{R.target===R.currentTarget&&t&&t()},children:s.jsx("div",{className:"w-[95vw] min-w-[40rem] max-w-6xl h-[70vh] min-h-[360px] flex flex-col overflow-hidden rounded-2xl",children:M})}):s.jsx("div",{className:"min-h-screen bg-gray-100 py-12 px-4",children:s.jsx("div",{className:"max-w-4xl mx-auto",children:M})})},Rg=bm(),jm=({onSwitchToLogin:e,isInPanel:t=!1})=>{const[l,a]=b.useState(""),[n,i]=b.useState(""),[r,c]=b.useState(""),[o,u]=b.useState(!1),[p,d]=b.useState(""),[h,g]=b.useState(""),[j,y]=b.useState(!1),N=async m=>{m.preventDefault(),u(!0),d("");try{console.log("Attempting registration with:",{username:l,email:r}),console.log("API URL:",`${Rg}/api/auth/register`);let f;try{f=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:l,password:n,email:r})})}catch{console.log("Backend container not reachable, trying localhost..."),f=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:l,password:n,email:r})})}console.log("Response status:",f.status);const x=await f.json();console.log("Response data:",x),f.ok?(g("Registration successful! You can now login."),a(""),i(""),c(""),t&&setTimeout(()=>e(),1500)):d(x.error||"Registration failed")}catch(f){console.error("Registration error:",f),d("Network error. Please try again.")}finally{u(!1)}};return t?s.jsxs("div",{className:"space-y-4",children:[h?s.jsxs("div",{className:"text-center py-4",children:[s.jsx("div",{className:"text-green-400 font-semibold mb-2",children:"Registration successful!"}),s.jsx("p",{className:"text-sm text-white/60",children:"Switching to login..."})]}):s.jsxs(s.Fragment,{children:[s.jsxs("form",{onSubmit:N,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-white/70 text-sm font-medium mb-1.5",children:"Username"}),s.jsx("input",{type:"text",placeholder:"Choose a username",value:l,onChange:m=>a(m.target.value),className:"w-full p-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all",required:!0,minLength:3})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-white/70 text-sm font-medium mb-1.5",children:"Email"}),s.jsx("input",{type:"email",placeholder:"Enter your email",value:r,onChange:m=>c(m.target.value),className:"w-full p-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-white/70 text-sm font-medium mb-1.5",children:"Password"}),s.jsx("input",{type:"password",placeholder:"Min 6 characters",value:n,onChange:m=>i(m.target.value),className:"w-full p-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all",required:!0,minLength:6})]}),s.jsx("button",{type:"submit",disabled:o,className:"w-full bg-gradient-to-r from-green-600 to-green-500 text-white p-3 rounded-lg hover:from-green-500 hover:to-green-400 disabled:opacity-50 transition-all font-medium shadow-lg shadow-green-500/25",children:o?"Creating account...":"Register"})]}),p&&s.jsx("div",{className:"bg-red-500/20 border border-red-500/30 text-red-300 px-4 py-3 rounded-lg text-sm",children:p}),s.jsxs("p",{className:"text-center text-sm text-white/60",children:["Already have an account?"," ",s.jsx("button",{onClick:e,className:"text-blue-400 hover:text-blue-300 hover:underline transition-colors",children:"Login here"})]}),s.jsxs("p",{className:"text-center text-xs text-white/40 mt-2",children:["By registering, you agree to our"," ",s.jsx("button",{type:"button",onClick:()=>y(!0),className:"text-blue-400 hover:text-blue-300 hover:underline transition-colors",children:"Privacy Policy"})]})]}),j&&s.jsx(sc,{isModal:!0,onClose:()=>y(!1)})]}):s.jsxs("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:[s.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md w-96",children:[s.jsx("h1",{className:"text-2xl font-bold mb-6 text-center",children:"Register"}),p&&s.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:p}),h&&s.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-4",children:h}),s.jsxs("form",{onSubmit:N,children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Username"}),s.jsx("input",{type:"text",value:l,onChange:m=>a(m.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",required:!0,minLength:3})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),s.jsx("input",{type:"email",value:r,onChange:m=>c(m.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",required:!0})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),s.jsx("input",{type:"password",value:n,onChange:m=>i(m.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",required:!0,minLength:6})]}),s.jsx("button",{type:"submit",disabled:o,className:"w-full bg-green-500 text-white py-2 px-4 rounded-lg hover:bg-green-600 disabled:opacity-50",children:o?"Registering...":"Register"})]}),s.jsx("div",{className:"mt-4 text-center",children:s.jsx("button",{onClick:e,className:"text-blue-500 hover:text-blue-600",children:"Already have an account? Login here"})}),s.jsxs("p",{className:"mt-4 text-center text-sm text-gray-500",children:["By registering, you agree to our"," ",s.jsx("button",{type:"button",onClick:()=>y(!0),className:"text-blue-500 hover:text-blue-600 hover:underline",children:"Privacy Policy"})]})]}),j&&s.jsx(sc,{isModal:!0,onClose:()=>y(!1)})]})},ic=async()=>{try{const e=await $("/api/users/profile/me");return e.ok?(await e.json()).profile:(e.status===404&&ym(),null)}catch(e){return console.error("Failed to fetch profile:",e),null}},uo=e=>{if(e)return e.includes("/uploads/avatars/")?`/api/avatars/${e.split("/").pop()}`:e.includes("/")?`/api/avatars/${e}`:`/api/avatars/${e}`},Ug=({user:e,currentView:t,setCurrentView:l,onLogin:a,onLogout:n,navigateToUserProfile:i,children:r})=>{const[c,o]=b.useState(!1),[u,p]=b.useState("login"),[d,h]=b.useState(!1),g=b.useRef(null),j=b.useRef(null),y=b.useRef(null),N=b.useRef(null);b.useEffect(()=>{console.log(" MainLayout user changed:",e),console.log(" MainLayout avatar_url:",e==null?void 0:e.avatar_url)},[e]);const m=(f,x)=>{a(f,x),o(!1)};return b.useEffect(()=>{const f=x=>{g.current&&j.current&&!g.current.contains(x.target)&&!j.current.contains(x.target)&&o(!1)};if(c)return document.addEventListener("mousedown",f),()=>{document.removeEventListener("mousedown",f)}},[c]),b.useEffect(()=>{const f=x=>{y.current&&N.current&&!y.current.contains(x.target)&&!N.current.contains(x.target)&&h(!1)};if(d)return document.addEventListener("mousedown",f),()=>{document.removeEventListener("mousedown",f)}},[d]),b.useEffect(()=>{const f=x=>{x.key==="Escape"&&(o(!1),h(!1))};if(c||d)return document.addEventListener("keydown",f),()=>{document.removeEventListener("keydown",f)}},[c,d]),b.useEffect(()=>{let f;return c&&(f=setTimeout(()=>{o(!1)},3e4)),()=>{f&&clearTimeout(f)}},[c]),s.jsxs("div",{className:"h-screen flex flex-col overflow-hidden relative",children:[s.jsx("header",{className:"bg-white/50 backdrop-blur-sm shadow-sm border-b border-white/20 h-16 flex-shrink-0 relative z-40",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 h-full",children:s.jsxs("div",{className:"flex items-center justify-between h-full",children:[s.jsx("div",{className:`px-4 py-2 rounded-md ${t==="home"}`,children:s.jsx("button",{onClick:()=>l("home"),className:`px-4 py-2 rounded-md border-2 transition-colors backdrop-blur-sm ${t==="home"?"bg-gray-900/80 text-white border-gray-900/80":"bg-white/30 text-gray-900 border-gray-900/50 hover:bg-white/40"}`,children:"TRANSCENDENCE"})}),s.jsxs("div",{className:"flex items-center space-x-6",children:[s.jsxs("button",{onClick:()=>l("game"),className:`relative px-6 py-2 rounded-lg font-black uppercase tracking-wider transition-all duration-300 ${t==="game"?"bg-yellow-400 text-black shadow-[0_0_20px_rgba(234,179,8,0.6)]":"bg-yellow-500 text-black hover:bg-yellow-400 hover:shadow-[0_0_15px_rgba(234,179,8,0.5)]"}`,style:{textShadow:t==="game"?"2px 2px 0px rgba(248, 4, 4, 0.34)":"none",transform:t==="game"?"translateY(-2px)":"none"},children:[s.jsx("span",{className:`${t==="game"?"animate-pulse":""}`,children:" GAME"}),t==="game"&&s.jsxs("span",{className:"absolute -top-1 -right-1 flex h-3 w-3",children:[s.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"}),s.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-red-500"})]})]}),s.jsxs("button",{onClick:()=>l("leaderboard"),className:`relative px-6 py-2 rounded-lg font-bold uppercase tracking-wide transition-all duration-300 ${t==="leaderboard"?"bg-gradient-to-r from-yellow-400 via-yellow-500 to-yellow-600 text-gray-900 shadow-[0_0_20px_rgba(251,191,36,0.6)] scale-105":"bg-gradient-to-r from-yellow-500 to-orange-500 text-white hover:shadow-[0_0_15px_rgba(251,191,36,0.5)] hover:scale-105"}`,style:{textShadow:t==="leaderboard"?"1px 1px 2px rgba(0,0,0,0.2)":"none",border:"2px solid rgba(255,255,255,0.3)"},children:[s.jsx("span",{className:"flex items-center gap-2",children:" LEADERBOARD"}),t==="leaderboard"&&s.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center animate-pulse",children:"1"})]})]}),s.jsx("div",{className:"flex items-center space-x-4 relative",children:e?s.jsxs("div",{className:"relative",children:[s.jsx("button",{ref:N,onClick:()=>h(!d),className:"w-20 h-15 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white font-semibold overflow-hidden border-2 border-white/50 hover:border-white transition-all shadow-md hover:shadow-lg cursor-pointer",children:e.avatar_url?s.jsx("img",{src:uo(e.avatar_url),alt:"Avatar",className:"w-full h-full object-cover",onError:f=>{f.currentTarget.style.display="none",f.currentTarget.parentElement.textContent=e.username.charAt(0).toUpperCase()}}):e.username.charAt(0).toUpperCase()}),d&&s.jsxs("div",{ref:y,className:"absolute right-0 mt-2 w-52 bg-white/95 backdrop-blur-lg rounded-lg shadow-xl border border-white/50 z-50 overflow-hidden",children:[s.jsx("div",{className:"px-4 pt-3 pb-2 border-b border-gray-100",children:s.jsxs("p",{className:"text-gray-800 font-medium",children:["Sup, ",e.username,"!"]})}),s.jsxs("div",{className:"py-1",children:[s.jsxs("button",{onClick:()=>{e!=null&&e.is_guest||(l("profile"),h(!1))},title:e!=null&&e.is_guest?"Register to access Profile":void 0,className:`w-full text-left px-4 py-2 transition-colors flex items-center space-x-2 ${e!=null&&e.is_guest?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-blue-50 cursor-pointer"}`,children:[s.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),s.jsx("span",{children:"Profile"})]}),s.jsx("hr",{className:"my-1 border-gray-200"}),s.jsxs("button",{onClick:()=>{e!=null&&e.is_guest||(l("settings"),h(!1))},title:e!=null&&e.is_guest?"Register to access Settings":void 0,className:`w-full text-left px-4 py-2 transition-colors flex items-center space-x-2 ${e!=null&&e.is_guest?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-blue-50 cursor-pointer"}`,children:[s.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),s.jsx("span",{children:"Settings"})]}),s.jsx("hr",{className:"my-1 border-gray-200"}),s.jsxs("button",{onClick:()=>{n(),h(!1)},className:"w-full text-left px-4 py-2 text-red-600 hover:bg-red-50 transition-colors flex items-center space-x-2",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),s.jsx("span",{children:"Logout"})]})]})]})]}):s.jsx("button",{ref:j,onClick:()=>o(!c),className:"px-4 py-2 rounded-md border-2 border-blue-600 bg-blue-600/80 text-white hover:bg-blue-600 backdrop-blur-sm transition-colors",children:c?"Close":"Login / Register"})})]})})}),c&&!e&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-[1px] z-[998]",onClick:()=>o(!1)}),s.jsxs("div",{ref:g,className:"fixed top-20 right-4 bg-white/95 backdrop-blur-lg rounded-xl shadow-2xl border border-white/50 z-[999] w-96 max-w-[calc(100vw-2rem)] max-h-[calc(100vh-6rem)] overflow-hidden",children:[s.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-white/30 bg-white/80 rounded-t-xl",children:[s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>p("login"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${u==="login"?"bg-blue-500 text-white shadow-md":"bg-white/60 text-gray-700 hover:bg-white/80"}`,children:"Login"}),s.jsx("button",{onClick:()=>p("register"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${u==="register"?"bg-blue-500 text-white shadow-md":"bg-white/60 text-gray-700 hover:bg-white/80"}`,children:"Register"})]}),s.jsx("div",{className:"flex items-center space-x-2",children:s.jsx("button",{onClick:()=>o(!1),className:"text-gray-400 hover:text-gray-600 text-sm bg-white/60 hover:bg-white/80 w-8 h-8 flex items-center justify-center rounded-full transition-all",title:"Close (ESC)",children:""})})]}),s.jsx("div",{className:"p-6 overflow-y-auto max-h-[60vh]",children:u==="login"?s.jsx(vm,{onLoginSuccess:m,onSwitchToRegister:()=>p("register"),isInPanel:!0}):s.jsx(jm,{onSwitchToLogin:()=>p("login"),isInPanel:!0})}),s.jsx("div",{className:"px-4 py-2 border-t border-white/30 bg-white/60 rounded-b-xl",children:s.jsx("p",{className:"text-xs text-gray-500 text-center",children:"Press ESC or click outside to close  Auto-closes in 30s"})})]})]}),s.jsxs("main",{className:"flex-1 flex min-h-0 overflow-hidden",children:[s.jsx("div",{className:"flex-1 p-4 border-r border-white/20 overflow-hidden",children:s.jsx("div",{className:"bg-white/50 backdrop-blur-sm rounded-lg shadow-sm border border-white/20 h-full overflow-hidden",children:s.jsx("div",{className:"h-full overflow-y-auto",children:r})})}),s.jsxs("div",{className:"w-80 bg-white/50 backdrop-blur-sm border-l border-white/20 flex flex-col overflow-hidden",children:[s.jsx("div",{className:"p-4 border-b border-white/20 bg-white/30 backdrop-blur-sm flex-shrink-0",children:s.jsx("h3",{className:"font-semibold text-gray-900",children:"Chat"})}),s.jsx("div",{className:"flex-1 min-h-0 overflow-hidden",children:e?s.jsx(zg,{user:e,navigateToUserProfile:i}):s.jsx("div",{className:"h-full flex flex-col items-center justify-center text-gray-900 p-4",children:s.jsx("p",{className:"text-center mb-2",children:"Login to join the chat"})})})]})]}),s.jsx("footer",{className:"bg-gray-900/80 backdrop-blur-sm text-white h-6 flex items-center px-4 flex-shrink-0 border-t border-white/10 z-30",children:s.jsxs("div",{className:"text-xs",children:["Status: ",e?`Connected as ${e.username}`:"Browsing as guest"," | Current Page: ",t.charAt(0).toUpperCase()+t.slice(1),c&&" | Auth panel open"]})})]})},Wl=["#00FFFF","#FF00FF","#00FF00","#FF6B6B","#9D4EDD","#FFE66D"],kg=()=>{const e=b.useRef(null),t=b.useRef([]),l=b.useRef([]),a=b.useRef(),n=12,i=130,r=b.useCallback((p,d)=>{const h=[],g=[];for(let j=0;j<d;j++){h[j]=[],g[j]=[];for(let y=0;y<p;y++)h[j][y]=Math.random()>.75?1:0,g[j][y]=Wl[Math.floor(Math.random()*Wl.length)]}t.current=h,l.current=g},[]),c=b.useCallback((p,d,h,g,j)=>{let y=0;for(let N=-1;N<=1;N++)for(let m=-1;m<=1;m++){if(N===0&&m===0)continue;const f=(h+N+g)%g,x=(d+m+j)%j;y+=p[f][x]}return y},[]),o=b.useCallback(()=>{const p=t.current,d=l.current;if(!p.length)return;const h=p.length,g=p[0].length,j=[],y=[];for(let N=0;N<h;N++){j[N]=[],y[N]=[];for(let m=0;m<g;m++){const f=c(p,m,N,h,g),x=p[N][m];x&&(f===2||f===3)?(j[N][m]=1,y[N][m]=d[N][m]):!x&&f===3?(j[N][m]=1,y[N][m]=Wl[Math.floor(Math.random()*Wl.length)]):(j[N][m]=0,y[N][m]=d[N][m])}}if(Math.random()>.45){const N=Math.floor(Math.random()*h),m=Math.floor(Math.random()*g);for(let f=0;f<Math.min(3,h);f++)for(let x=0;x<Math.min(3,g);x++){const v=(N+f)%h,E=(m+x)%g;j[v][E]=1,y[v][E]=Wl[Math.floor(Math.random()*Wl.length)]}}t.current=j,l.current=y},[c]),u=b.useCallback(p=>{const d=t.current,h=l.current;if(!d.length)return;p.fillStyle="rgba(0, 0, 0, 0.18)",p.fillRect(0,0,p.canvas.width,p.canvas.height);const g=d.length,j=d[0].length;for(let y=0;y<g;y++)for(let N=0;N<j;N++)d[y][N]&&(p.beginPath(),p.fillStyle=h[y][N],p.shadowColor=h[y][N],p.shadowBlur=8,p.arc(N*n+n/2,y*n+n/2,n/3,0,Math.PI*2),p.fill(),p.shadowBlur=0)},[]);return b.useEffect(()=>{const p=e.current;if(!p)return;const d=p.getContext("2d");if(!d)return;const h=()=>{p.width=p.offsetWidth,p.height=p.offsetHeight;const y=Math.ceil(p.width/n),N=Math.ceil(p.height/n);r(y,N)};h(),window.addEventListener("resize",h);let g=0;const j=y=>{y-g>i&&(o(),g=y),u(d),a.current=requestAnimationFrame(j)};return a.current=requestAnimationFrame(j),()=>{window.removeEventListener("resize",h),a.current&&cancelAnimationFrame(a.current)}},[r,o,u]),s.jsx("canvas",{ref:e,className:"absolute inset-0 w-full h-full opacity-80"})},ar=({items:e,direction:t="left",speed:l=25})=>{const a=t==="left"?"animate-marquee-left":"animate-marquee-right",n=[...e,...e,...e,...e];return s.jsx("div",{className:"w-full overflow-hidden",children:s.jsx("div",{className:`flex w-max ${a}`,style:{animationDuration:`${l}s`},children:n.map((i,r)=>s.jsx("div",{className:"flex-shrink-0 px-6 py-3 mx-2 bg-black/40 backdrop-blur-xl border border-white/10 rounded-lg text-white/90 font-medium whitespace-nowrap",children:i},r))})})},nr=["#00FFFF","#FF00FF","#00FF00","#FF6B6B","#9D4EDD","#FFE66D"],Dg=({children:e})=>{const[t,l]=b.useState(0);b.useEffect(()=>{const r=setInterval(()=>{l(c=>(c+1)%nr.length)},2e3);return()=>clearInterval(r)},[]);const a=["Local Play","Tournament Mode","Online Functionalities","Leaderboards","AI Opponents"],n=["Customizable Avatars","Match History","Friend System","2FA Security","GDPR Compliance"],i=["Classic Pong","Pls pass us","Fast Matches","Chat","Anonymous Mode"];return s.jsxs("div",{className:"min-h-screen w-full relative overflow-hidden",children:[s.jsx("div",{className:"fixed inset-0 z-0",children:s.jsx(kg,{})}),s.jsx("div",{className:"fixed inset-0 z-[1] bg-black/40"}),s.jsx("div",{className:"fixed top-6 left-6 z-50",children:s.jsx("img",{src:"/ping-pong-icon.png",alt:"Pong Logo",className:"h-16 w-auto object-contain transition-[filter] duration-700",style:{filter:`brightness(0) invert(1) drop-shadow(0 0 12px ${nr[t]}) drop-shadow(0 0 4px ${nr[t]})`}})}),s.jsx("div",{className:"relative z-30 min-h-screen flex flex-col items-center pt-20 px-4",children:s.jsxs("div",{className:"w-full max-w-md bg-black/30 backdrop-blur-xl border border-white/10 rounded-2xl p-8 shadow-2xl",children:[s.jsxs("div",{className:"mb-6 text-center",children:[s.jsx("h1",{className:"text-2xl font-bold text-white",children:"Transcendence"}),s.jsx("p",{className:"text-white/50 mt-1 text-sm",children:"A homage to the pioneer of games."})]}),e]})}),s.jsxs("div",{className:"fixed bottom-12 left-0 right-0 z-20 flex flex-col gap-3",children:[s.jsx(ar,{items:a,direction:"left",speed:30}),s.jsx(ar,{items:n,direction:"right",speed:35}),s.jsx(ar,{items:i,direction:"left",speed:28})]}),s.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-30 px-8 py-2",children:s.jsxs("div",{className:"flex items-center justify-center gap-2 text-white/80 text-xs",children:[s.jsx("span",{children:"Made at"}),s.jsx("img",{src:"/logo_codam_white.png",alt:"Codam Logo",className:"h-4 w-auto object-contain invert-0 opacity-70"})]})})]})},Lg=({username:e})=>{const[t,l]=b.useState(null),[a,n]=b.useState(!0);b.useEffect(()=>{e&&i()},[e]);const i=async()=>{n(!0);try{const o=await $(`/api/users/profile/${e}`);if(o.ok){const u=await o.json();l(u.profile)}else o.status===404&&alert("User not found")}catch(o){console.error("Failed to fetch profile:",o)}finally{n(!1)}},r=o=>{if(o)return o.includes("/uploads/avatars/")?`/api/avatars/${o.split("/").pop()}`:o.includes("/")?`/api/avatars/${o}`:`/api/avatars/${o}`};if(a)return s.jsxs("div",{className:"p-6 text-center",children:[s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"bg-gray-200 h-8 w-48 mx-auto mb-4 rounded"}),s.jsx("div",{className:"bg-gray-200 h-20 w-20 mx-auto mb-4 rounded-full"})]}),s.jsx("p",{className:"text-gray-500 mt-4",children:"Loading profile..."})]});if(!t)return s.jsx("div",{className:"p-6 text-center",children:s.jsx("p",{className:"text-gray-500",children:"Profile not found"})});if(t.is_anonymous)return s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"bg-yellow-50 border-2 border-yellow-200 rounded-lg p-8 mb-6",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[s.jsx("div",{className:"w-16 h-16 bg-gray-400 rounded-full flex items-center justify-center",children:s.jsx("svg",{className:"w-8 h-8 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-yellow-900",children:"Anonymous User"}),s.jsx("p",{className:"text-yellow-700",children:"This user has chosen to keep their profile private"})]})]}),t.anonymized_at&&s.jsxs("p",{className:"text-sm text-yellow-600 mt-2",children:["Anonymized on: ",new Date(t.anonymized_at).toLocaleDateString()]})]}),s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow border border-gray-200",children:[s.jsx("h3",{className:"text-xl font-semibold mb-4 text-gray-900",children:"Game Statistics"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-green-50 p-4 rounded-lg text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-green-600",children:t.wins||0}),s.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Wins"})]}),s.jsxs("div",{className:"bg-red-50 p-4 rounded-lg text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-red-600",children:t.losses||0}),s.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Losses"})]}),s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-blue-600",children:t.total_games||0}),s.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Total Games"})]}),s.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-purple-600",children:t.winRate||"0%"}),s.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Win Rate"})]})]})]})]});const c=r(t.avatar_url);return s.jsxs("div",{className:"p-6",children:[s.jsx("div",{className:"flex justify-between items-center mb-6",children:s.jsxs("h1",{className:"text-3xl font-bold text-gray-900",children:[t.username,"'s Profile"]})}),s.jsx("div",{className:"bg-gray-50 rounded-lg p-6 mb-6",children:s.jsxs("div",{className:"flex items-start space-x-6",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-20 h-20 bg-blue-500 rounded-full flex items-center justify-center overflow-hidden",children:t.avatar_url?s.jsx("img",{src:c||void 0,alt:"Avatar",className:"w-full h-full object-cover"}):s.jsx("span",{className:"text-2xl font-bold text-white",children:t.username.charAt(0).toUpperCase()})})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:t.display_name||t.username}),t.nickname&&s.jsxs("p",{className:"text-lg text-gray-600",children:["@",t.nickname]}),s.jsxs("p",{className:"text-gray-500",children:["Username: ",t.username]})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow border border-gray-200",children:[s.jsx("h3",{className:"text-xl font-semibold mb-4 text-gray-900",children:"Game Statistics"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded",children:[s.jsx("span",{className:"font-medium text-green-700",children:"Wins"}),s.jsx("span",{className:"text-2xl font-bold text-green-600",children:t.wins||0})]}),s.jsxs("div",{className:"flex justify-between items-center p-3 bg-red-50 rounded",children:[s.jsx("span",{className:"font-medium text-red-700",children:"Losses"}),s.jsx("span",{className:"text-2xl font-bold text-red-600",children:t.losses||0})]}),s.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded",children:[s.jsx("span",{className:"font-medium text-blue-700",children:"Total Games"}),s.jsx("span",{className:"text-2xl font-bold text-blue-600",children:t.total_games||0})]}),s.jsxs("div",{className:"flex justify-between items-center p-3 bg-purple-50 rounded",children:[s.jsx("span",{className:"font-medium text-purple-700",children:"Win Rate"}),s.jsx("span",{className:"text-2xl font-bold text-purple-600",children:t.winRate||"0%"})]})]})]}),s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow border border-gray-200",children:[s.jsx("h3",{className:"text-xl font-semibold mb-4 text-gray-900",children:"User Information"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"border-b pb-2",children:[s.jsx("span",{className:"text-sm text-gray-500",children:"Username"}),s.jsx("p",{className:"font-medium",children:t.username})]}),t.nickname&&s.jsxs("div",{className:"border-b pb-2",children:[s.jsx("span",{className:"text-sm text-gray-500",children:"Nickname"}),s.jsxs("p",{className:"font-medium",children:["@",t.nickname]})]}),t.display_name&&s.jsxs("div",{className:"border-b pb-2",children:[s.jsx("span",{className:"text-sm text-gray-500",children:"Display Name"}),s.jsx("p",{className:"font-medium",children:t.display_name})]})]})]})]})]})},Bg=({user:e})=>s.jsxs("div",{className:"p-6",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Welcome to ft_transcendence"}),e?s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:s.jsxs("p",{className:"text-blue-800",children:["Hello, ",s.jsx("strong",{children:e.username}),"! Welcome back."]})}):s.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4 mb-6",children:s.jsx("p",{className:"text-gray-700",children:"Welcome! You're browsing as a guest. Login or register to access all features."})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow border border-gray-200",children:[s.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Play Game"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Start a new Pong game with other players."}),s.jsx("button",{className:`px-4 py-2 rounded ${e?"bg-blue-500 text-white hover:bg-blue-600":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,disabled:!e,children:e?"Play Now":"Login to Play"})]}),s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow border border-gray-200",children:[s.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Leaderboard"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Check rankings of all players."}),s.jsx("button",{className:"bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600",children:"View Rankings"})]}),s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow border border-gray-200",children:[s.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Tournaments"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Browse competitive tournaments."}),s.jsx("button",{className:"bg-purple-500 text-white px-4 py-2 rounded hover:bg-purple-600",children:"Browse Tournaments"})]})]})]});class Hg{constructor(t,l,a,n,i,r,c,o,u){this.trailLen=9,this.x=t,this.y=l,this.dirVector=a,this.radius=n,this.movementSpeed=i,this.color=r,this.speedX=c,this.maxSpeed=o,this.trailPos=new Array(this.trailLen),this.trailColors=u}drawTrail(t){const l=this.trailLen/this.trailColors.length;let a=0,n=0;for(;n<this.trailLen;){const i=this.trailPos[n];i!==void 0&&(this.drawHelper(t,this.trailColors[a],i.x+this.radius,i.y+this.radius,this.radius*(n/this.trailLen)),n%l-1===0&&a++),n++}}appendPos(t){this.trailPos.shift(),this.trailPos[this.trailLen-1]=t}drawHelper(t,l,a,n,i){t.fillStyle=l,t.beginPath(),t.arc(a,n,i,0,Math.PI*2,!0),t.closePath(),t.fill()}draw(t){this.drawTrail(t),this.drawHelper(t,this.color,this.x+this.radius,this.y+this.radius,this.radius)}drawHitbox(t,l){hn(t),t.strokeStyle=l,t.strokeRect(this.x,this.y,this.radius*2,this.radius*2)}setStart(t){this.x=Yt/2-this.radius,this.y=Et/2-this.radius,this.dirVector=t}reset(){this.trailPos=new Array(this.trailLen)}}class Yg{constructor(t,l,a,n,i,r){this.upPressed=!1,this.downPressed=!1,this.x=t,this.y=l,this.width=a,this.height=n,this.yVector=i,this.color=r}moveUp(){let t=this.y-this.yVector;t<0&&(t=0),this.y=t}moveDown(){let t=this.y+this.yVector;t+this.height>Et&&(t=Et-this.height),this.y=t}update(){this.downPressed&&this.moveDown(),this.upPressed&&this.moveUp()}draw(t){t.fillStyle=this.color,t.fillRect(this.x,this.y,this.width,this.height)}}var Wu;(e=>{(t=>{t[t.Top=0]="Top",t[t.Bottom=1]="Bottom",t[t.Left=2]="Left",t[t.Right=3]="Right",t[t.None=4]="None"})(e.hitSide||(e.hitSide={}))})(Wu||(Wu={}));var Nm=(e=>(e[e.Easy=0]="Easy",e[e.Normal=1]="Normal",e[e.Hard=2]="Hard",e))(Nm||{});function Gg(e,t){let l=null;return l=dl(e,t,{x:Yt-Le,y:-Le},{x:Yt-Le,y:Et+Le},"right"),l!==null||(l=dl(e,t,{x:Le,y:-Le},{x:Le,y:Et+Le},"left"),l!==null)||(l=dl(e,t,{x:0,y:Le},{x:Yt,y:Le},"top"),l!==null)||(l=dl(e,t,{x:0,y:Et-Le},{x:Yt,y:Et-Le},"bottom")),l}class qg{constructor(t,l){switch(this.msSinceLastAction=0,this.centreY=0,this.targetY=0,this.lastBallXDir=1,this.lastBallY=0,this.rayPoints=new Array,this.maxRayDistance=Math.sqrt(Math.pow(Yt,2)+Math.pow(Et,2)),this.maxRayIters=10,this.centreY=Et/2-t.height/2,this.difficultyLevel=l,this.difficultyLevel){case 0:this.levelModifier=.2;break;case 1:this.levelModifier=.6;break;case 2:this.levelModifier=.8;break}}moveTo(t,l){if(this.coversCentreTargetY(t,l))return;t-(l.y+l.height/2)<0?l.moveUp():l.moveDown()}coversCentreTargetY(t,l){const a=l.height*.3333333333333333;return t>l.y+a&&t<l.y+a*2}moveToTargetPoint(t){this.moveTo(this.targetY,t)}getTargetPoint(t,l){let a=null,n=new Qe(t.x+t.radius,t.y+t.radius),i=new Tm(t.dirVector.x,t.dirVector.y),r=new Qe(n.x,n.y),c=0;for(this.rayPoints=[],this.rayPoints.push(n);c<this.maxRayIters&&a===null;){const d=Math.atan2(i.y,i.x);r.x+=Math.cos(d)*this.maxRayDistance,r.y+=Math.sin(d)*this.maxRayDistance,this.rayPoints.push(r);const h=Gg(n,r);if(h===null)return null;switch(h[1]){case"bottom":case"top":i.y=-i.y;break;case"left":i.x=-i.x;break;case"right":a=h[0];break}n=h[0],this.rayPoints.push(n),r={x:n.x,y:n.y},c++}if(a===null)return null;if(!(Math.random()>this.levelModifier))return a.y;const u=Math.random()>.5,p=Math.random()*(l.height*2);return u?a.y-p:a.y+p}update(t,l,a){if(this.moveToTargetPoint(a),this.msSinceLastAction+=t,this.msSinceLastAction<1e3)return;this.lastBallXDir=l.dirVector.x,this.lastBallY=l.y,this.msSinceLastAction=0;const n=this.getTargetPoint(l,a);n===null?this.targetY=l.y+l.radius:this.targetY=n}drawRays(t){t.fillStyle="black";let l=0;if(this.rayPoints.length!==0){for(t.moveTo(this.rayPoints[0].x,this.rayPoints[0].y),l++;l<this.rayPoints.length;){const a=this.rayPoints[l];t.lineTo(a.x,a.y),l++}t.stroke()}}}class Sm{constructor(t,l,a,n,i,r){this.roundScore=0,this.gameScore=0,this.paddle=new Yg(t,l,a,n,i,r),this.humanControlled=!0,this.ai=void 0}setAI(t){this.humanControlled=!1,this.ai=new qg(this.paddle,t)}}class Vg{constructor(t,l){this.gameOfflineUpdate=t,this.gameOnlineUpdate=l}reset(){this.gameOfflineUpdate!==void 0&&clearInterval(this.gameOfflineUpdate),this.gameOnlineUpdate!==void 0&&clearInterval(this.gameOnlineUpdate)}}const Yt=1024,Et=768,sr=3,Le=15,va=Le*2,Xg=60,Qg=3e3,jt=1e3/Xg,Zg=.25,Jg=.5,wm=Zg*jt,Em=Jg*jt,ne=new Hg(0,0,{x:1,y:1},Le,wm,"#160f29",0,7.5,new Array("#ffffff","#cdc3e9","#9c88d3")),G=new Sm(0,0,va,va*4,Em,"#5885a2"),P=new Sm(Yt-va,0,va,va*4,Em,"#b8383b"),Gt=new Vg,Fg="#36454f";function Kg(){ne.x=0,ne.y=0,ne.dirVector.x=1,ne.dirVector.y=1,ne.radius=Le,ne.movementSpeed=wm,ne.color="#160f29",ne.speedX=0,ne.maxSpeed=7.5,ne.reset()}function $g(){G.paddle.x=0,G.paddle.y=0,G.roundScore=0,G.gameScore=0,G.ai=void 0,G.humanControlled=!0}function Wg(){P.paddle.x=Yt-va,P.paddle.y=0,P.roundScore=0,P.gameScore=0,P.ai=void 0,P.humanControlled=!0}function Pg(){Kg(),$g(),Wg(),Gt.reset()}class Tm{constructor(t,l){this.x=t,this.y=l}}class Qe{constructor(t,l){this.x=t,this.y=l}}function hn(e){if(e===null)throw new Error("val cannot be null")}function dl(e,t,l,a,n){const i=(t.x-e.x)*(a.y-l.y)-(t.y-e.y)*(a.x-l.x);if(i===0)return null;const r=((e.y-l.y)*(a.x-l.x)-(e.x-l.x)*(a.y-l.y))/i,c=((e.y-l.y)*(t.x-e.x)-(e.x-l.x)*(t.y-e.y))/i;if(r>=0&&r<=1&&c>=0&&c<=1){const o=e.x+r*(t.x-e.x),u=e.y+r*(t.y-e.y);return[new Qe(o,u),n]}return null}function Ig(e,t,l,a){let n=null;return a.dirVector.x<0?n=dl(e,t,new Qe(l.x+l.width+a.radius,l.y-a.radius),new Qe(l.x+l.width+a.radius,l.y+l.height+a.radius),"right"):a.dirVector.x>0&&(n=dl(e,t,new Qe(l.x-a.radius,l.y-a.radius),new Qe(l.x-a.radius,l.y+l.height+a.radius),"left")),n===null&&(a.dirVector.y<0?n=dl(e,t,new Qe(l.x-a.radius,l.y+l.height+a.radius),new Qe(l.x+l.width+a.radius,l.y+l.height+a.radius),"bottom"):a.dirVector.y>0&&(n=dl(e,t,new Qe(l.x-a.radius,l.y-a.radius),new Qe(l.x+l.width+a.radius,l.y+l.width-a.radius),"top"))),n}function ey(e){return e.y+e.dirVector.y*e.movementSpeed>Et-e.radius*2||e.y+e.dirVector.y*e.movementSpeed<0}function ty(e){ey(e)&&(e.dirVector.y=-e.dirVector.y)}function Am(e,t,l,a,n,i,r){t.font=`${l}px ${n}`,t.textAlign="center",t.fillStyle=a,t.fillText(r.toString(),e.width*.25,e.height*.1),t.fillText(i.toString(),e.width*.75,e.height*.1)}async function ly(e,t,l,a,n){const i=15.151515151515152;let r=0,c=0,o=0;function u(T){switch(T.key){case"ArrowDown":G.paddle.downPressed=!0;break;case"ArrowUp":G.paddle.upPressed=!0;break;case"s":G.paddle.downPressed=!0;break;case"w":G.paddle.upPressed=!0;break}T.preventDefault()}function p(T){switch(T.key){case"ArrowDown":G.paddle.downPressed=!1;break;case"ArrowUp":G.paddle.upPressed=!1;break;case"s":G.paddle.downPressed=!1;break;case"w":G.paddle.upPressed=!1;break}T.preventDefault()}function d(){const T=+new Date;if(G.paddle.downPressed){const A={type:"MOVE_DOWN",timestamp:T};G.paddle.moveDown(),n.send(JSON.stringify(A)),O.push(A)}if(G.paddle.upPressed){const A={type:"MOVE_UP",timestamp:T};G.paddle.moveUp(),n.send(JSON.stringify(A)),O.push(A)}}class h{constructor(A,z){this.x=A,this.y=z}}function g(T,A){return new h(T.x-A.x,T.y-A.y)}function j(T){if(_===void 0)return;const A=jt*(1+N/1e3);T.appendPos(new h(T.x,T.y)),T.x+=_.x*A,T.y+=_.y*A}function y(){if(w===void 0)return;const T=jt*(1+N/1e3);P.paddle.y+=w.y*T}let N,m,f,x=!0;function v(){m=performance.now(),f===void 0&&(f=m),N=m-f,N>jt&&(d(),y(),f=m-N%jt,j(ne));const T=Date.now();(r===0||T-r>Qg)&&(n.send(JSON.stringify({type:"HEARTBEAT",timestamp:T})),r=T)}function E(){x&&(requestAnimationFrame(E),t.clearRect(0,0,e.width,e.height),a.clearRect(0,0,e.width,e.height),a.fillStyle="white",a.fillRect(0,0,e.width,e.height),ne.draw(a),G.paddle.draw(a),P.paddle.draw(a),Am(e,a,48,"#36454f","sans-serif",o,c),t.drawImage(l,0,0))}let _,w,O=new Array;function M(T){let A=0;if(O.length!==0){for(;A<O.length;){const z=O[A];if(z.timestamp>=T)break;z.type==="MOVE_UP"?G.paddle.moveUp():z.type==="MOVE_DOWN"&&G.paddle.moveDown(),A++}O.splice(0,A)}}let R=0,V=!1,W=0;function Te(){x=!1,e.removeEventListener("keydown",u),e.removeEventListener("keyup",p),Gt.gameOnlineUpdate!==void 0&&(clearInterval(Gt.gameOnlineUpdate),Gt.gameOnlineUpdate=void 0)}async function ke(T){const A=JSON.parse(T.data),z=A.p1,k=A.p2,D=A.ball;switch(A.type){case"STATE":_=g(new h(D.x,D.y),new h(ne.x,ne.y)),_.x/=i,_.y/=i,V&&W++,W===2&&(_.x=0,_.y=0,ne.x=D.x,ne.y=D.y,W=0,V=!1),R===1?(w=g(new h(k.x,k.y),new h(P.paddle.x,P.paddle.y)),G.paddle.x=z.x,G.paddle.y=z.y,M(z.last_ts)):(w=g(new h(z.x,z.y),new h(P.paddle.x,P.paddle.y)),G.paddle.x=k.x,G.paddle.y=k.y,M(k.last_ts)),w.y/=i;break;case"LOBBY_WAIT":console.log("Waiting for other players to connect...");break;case"ID":if(R=A.player_id,R===2){const xe=G.paddle.color;G.paddle.x=e.width-G.paddle.width,G.paddle.y=0,G.paddle.color=P.paddle.color,P.paddle.x=0,P.paddle.y=0,P.paddle.color=xe}console.log(`You are player ${R}`);break;case"SCORE":switch(V=!0,A.scored_by){case"p1":c++;break;case"p2":o++;break}break;case"GAME_END":console.log(` Game ended! Winner: ${A.winner_id}, Score: ${A.score_player1}-${A.score_player2}`),Te(),window.dispatchEvent(new CustomEvent("game-over",{detail:{winnerId:A.winner_id,scorePlayer1:A.score_player1,scorePlayer2:A.score_player2}}));break;case"OPPONENT_DISCONNECT":console.log(" Opponent disconnected"),Te(),window.dispatchEvent(new CustomEvent("game-over",{detail:{winnerId:null,disconnect:!0}}));break;case"ERROR":console.error(" Game error:",A.message),Te(),window.dispatchEvent(new CustomEvent("game-over",{detail:{error:A.message}}));break;default:console.log(`Unrecognized message type: ${A.type}`)}}n.onmessage=ke;const K=n.__bufferedMessages;if(K&&K.length>0){console.log(` Replaying ${K.length} buffered messages`);for(const T of K)await ke(T);K.length=0}e.addEventListener("keydown",u),e.addEventListener("keyup",p),ne.x=e.width/2,ne.y=e.height/2,requestAnimationFrame(E),Gt.gameOnlineUpdate=setInterval(v,jt)}async function ay(e,t,l,a,n){let i,r,c,o=!0;function u(x){switch(x.key){case"ArrowDown":G.paddle.downPressed=!0;break;case"ArrowUp":G.paddle.upPressed=!0;break;case"s":P.paddle.downPressed=!0;break;case"w":P.paddle.upPressed=!0;break}x.preventDefault()}function p(x){switch(x.key){case"ArrowDown":G.paddle.downPressed=!1;break;case"ArrowUp":G.paddle.upPressed=!1;break;case"s":P.paddle.downPressed=!1;break;case"w":P.paddle.upPressed=!1;break}x.preventDefault()}function d(x,v,E){const _=new Qe(x.x+x.radius,x.y+x.radius),w=new Qe(_.x+x.dirVector.x*x.movementSpeed,_.y+x.dirVector.y*x.movementSpeed);x.appendPos(new Qe(x.x,x.y)),x.x=w.x-x.radius,x.y=w.y-x.radius;let O=null;if(x.dirVector.x<0?O=v:x.dirVector.x>0&&(O=E),O===null)return;const M=Ig(_,w,O,x);if(M===null){ty(x);return}const R=M[0];switch(M[1]){case"left":case"right":x.dirVector.x*=-1,x.x=R.x-x.radius;break;case"bottom":case"top":x.dirVector.y*=-1,x.y=R.y-x.radius;break}}function h(){return ne.x+ne.radius*4<0}function g(){return ne.x-ne.radius*4>Yt}function j(){return new Tm(Math.random()<.5?-1:1,Math.random()<.5?-1:1)}function y(){o=!1,t.removeEventListener("keydown",u),t.removeEventListener("keyup",p),Gt.gameOfflineUpdate!==void 0&&(clearInterval(Gt.gameOfflineUpdate),Gt.gameOfflineUpdate=void 0)}function N(){const x=G.roundScore>=sr,v=x?"YOU WIN!":"YOU LOST!",E="BOT",_="YOU";y(),window.dispatchEvent(new CustomEvent("game-over",{detail:{gameMode:"singleplayer",winnerLabel:v,resultLabel:x?"win":"loss",scorePlayer1:P.roundScore,scorePlayer2:G.roundScore,player1Label:E,player2Label:_}}))}function m(){if(o&&(c=performance.now(),r===void 0&&(r=c),i=c-r,i>jt&&(r=c-i%jt,d(ne,G.paddle,P.paddle),G.paddle.update(),P.humanControlled?P.paddle.update():(hn(P.ai),P.ai.update(i,ne,P.paddle)),h()&&(G.roundScore++,ne.setStart(j())),g()&&(P.roundScore++,ne.setStart(j())),G.roundScore>=sr||P.roundScore>=sr))){N();return}}function f(){o&&(requestAnimationFrame(f),l.clearRect(0,0,t.width,t.height),n.clearRect(0,0,t.width,t.height),n.fillStyle="white",n.fillRect(0,0,t.width,t.height),ne.draw(n),G.paddle.draw(n),P.paddle.draw(n),Am(t,n,48,Fg,"sans-serif",G.roundScore,P.roundScore),l.drawImage(a,0,0))}t.addEventListener("keydown",u),t.addEventListener("keyup",p),e==="singleplayer"&&P.setAI(Nm.Normal),ne.setStart(j()),requestAnimationFrame(f),Gt.gameOfflineUpdate=setInterval(m,jt)}async function ny(e,t){let l=document.getElementById("game-canvas");if(l===null){console.error("Canvas element not found! GameCanvas component must render first.");return}const a=l.getContext("2d",{alpha:!1});hn(a);const n=document.createElement("canvas");hn(n),l.setAttribute("tabindex","0"),l.setAttribute("width","1024"),l.setAttribute("height","768"),n.width=l.width,n.height=l.height;const i=n.getContext("2d",{alpha:!1});switch(hn(i),console.log(`GAMING MODE: ${e}`),e){case"singleplayer":case"multiplayer":await ay(e,l,a,n,i);break;case"online":await ly(l,a,n,i,t)}}function sy({mode:e,websocket:t}){return b.useEffect(()=>{async function l(){await ny(e,t.current)}return l(),()=>{const a=document.getElementById("game-canvas");a!==null&&a.remove(),Pg()}},[]),s.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-900",children:s.jsx("canvas",{id:"game-canvas",className:"border-4 border-indigo-500 bg-white"})})}function iy({onModeSelect:e}){return s.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-black p-4",style:{backgroundImage:"linear-gradient(45deg, #1a1a2e 25%, transparent 25%, transparent 75%, #1a1a2e 75%, #1a1a2e), linear-gradient(45deg, #1a1a2e 25%, transparent 25%, transparent 75%, #1a1a2e 75%, #1a1a2e)",backgroundSize:"40px 40px",backgroundPosition:"0 0, 20px 20px"},children:[s.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{backgroundImage:"repeating-linear-gradient(0deg, rgba(0,0,0,0.15) 0px, rgba(0,0,0,0.15) 1px, transparent 1px, transparent 2px)"}}),s.jsxs("div",{className:"relative z-10 text-center max-w-2xl",children:[s.jsx("h1",{className:"text-7xl font-black mb-2 text-center",style:{color:"#00ff00",textShadow:"0 0 10px #00ff00, 0 0 20px #00ff00, 3px 3px 0 #ff00ff",fontFamily:"monospace",letterSpacing:"4px"},children:"PONG"}),s.jsxs("div",{className:"border-4 border-yellow-300 p-8 mb-8 bg-gray-900",style:{boxShadow:"inset 0 0 10px rgba(255,255,0,0.3), 0 0 20px rgba(255,0,255,0.5)"},children:[s.jsx("p",{className:"text-yellow-300 text-2xl mb-4 font-bold",style:{textShadow:"2px 2px 0 #ff00ff",fontFamily:"monospace",letterSpacing:"2px"},children:"SELECT YOUR GAME MODE"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("button",{onClick:()=>e("singleplayer"),className:"group relative p-6 bg-blue-900 hover:bg-blue-700 border-4 border-cyan-400 transition-all duration-200 transform hover:scale-110 active:scale-95",style:{boxShadow:"inset 0 0 10px rgba(0,255,255,0.3), 0 0 20px rgba(0,255,255,0.5)",textShadow:"2px 2px 0 #000"},children:[s.jsx("div",{className:"text-5xl mb-3",children:""}),s.jsx("h2",{className:"text-2xl font-black text-cyan-300 mb-2 uppercase",style:{fontFamily:"monospace"},children:"Single"}),s.jsx("p",{className:"text-cyan-200 text-sm font-bold uppercase",style:{fontFamily:"monospace"},children:"vs AI"}),s.jsx("div",{className:"absolute top-0 left-0 w-2 h-2 bg-cyan-400",style:{boxShadow:"0 0 10px #00ffff"}}),s.jsx("div",{className:"absolute bottom-0 right-0 w-2 h-2 bg-cyan-400",style:{boxShadow:"0 0 10px #00ffff"}})]}),s.jsxs("button",{onClick:()=>e("multiplayer"),className:"group relative p-6 bg-red-900 hover:bg-red-700 border-4 border-red-400 transition-all duration-200 transform hover:scale-110 active:scale-95",style:{boxShadow:"inset 0 0 10px rgba(255,0,0,0.3), 0 0 20px rgba(255,0,0,0.5)",textShadow:"2px 2px 0 #000"},children:[s.jsx("div",{className:"text-5xl mb-3",children:""}),s.jsx("h2",{className:"text-2xl font-black text-red-300 mb-2 uppercase",style:{fontFamily:"monospace"},children:"Multi"}),s.jsx("p",{className:"text-red-200 text-sm font-bold uppercase",style:{fontFamily:"monospace"},children:"2 Players"}),s.jsx("div",{className:"absolute top-0 left-0 w-2 h-2 bg-red-400",style:{boxShadow:"0 0 10px #ff0000"}}),s.jsx("div",{className:"absolute bottom-0 right-0 w-2 h-2 bg-red-400",style:{boxShadow:"0 0 10px #ff0000"}})]}),s.jsxs("button",{onClick:()=>e("tournament"),className:"group relative p-6 bg-yellow-900 hover:bg-yellow-700 border-4 border-yellow-300 transition-all duration-200 transform hover:scale-110 active:scale-95",style:{boxShadow:"inset 0 0 10px rgba(255,255,0,0.3), 0 0 20px rgba(255,255,0,0.5)",textShadow:"2px 2px 0 #000"},children:[s.jsx("div",{className:"text-5xl mb-3",children:""}),s.jsx("h2",{className:"text-2xl font-black text-yellow-300 mb-2 uppercase",style:{fontFamily:"monospace"},children:"Tourney"}),s.jsx("p",{className:"text-yellow-200 text-sm font-bold uppercase",style:{fontFamily:"monospace"},children:"Online"}),s.jsx("div",{className:"absolute top-0 left-0 w-2 h-2 bg-yellow-400",style:{boxShadow:"0 0 10px #ffff00"}}),s.jsx("div",{className:"absolute bottom-0 right-0 w-2 h-2 bg-yellow-400",style:{boxShadow:"0 0 10px #ffff00"}})]})]})]}),s.jsx("p",{className:"text-green-400 font-bold text-sm",style:{fontFamily:"monospace",textShadow:"0 0 10px #00ff00"},children:">>> INSERT COIN TO CONTINUE <<<"})]})]})}function ry({onSinglePlayer:e,onMultiPlayer:t,onBack:l}){return s.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-black p-4",style:{backgroundImage:"linear-gradient(45deg, #1a1a2e 25%, transparent 25%, transparent 75%, #1a1a2e 75%, #1a1a2e), linear-gradient(45deg, #1a1a2e 25%, transparent 25%, transparent 75%, #1a1a2e 75%, #1a1a2e)",backgroundSize:"40px 40px",backgroundPosition:"0 0, 20px 20px"},children:[s.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{backgroundImage:"repeating-linear-gradient(0deg, rgba(0,0,0,0.15) 0px, rgba(0,0,0,0.15) 1px, transparent 1px, transparent 2px)"}}),s.jsxs("div",{className:"relative z-10 text-center max-w-2xl",children:[s.jsx("button",{onClick:l,className:"mb-6 px-6 py-2 border-2 border-green-400 bg-black hover:bg-green-900 text-green-400 font-bold uppercase transition-all",style:{fontFamily:"monospace",textShadow:"0 0 10px #00ff00",boxShadow:"0 0 15px rgba(0,255,0,0.5)"},children:"<< BACK"}),s.jsx("h1",{className:"text-6xl font-black mb-2 text-center",style:{color:"#00ff00",textShadow:"0 0 10px #00ff00, 0 0 20px #00ff00, 3px 3px 0 #ff00ff",fontFamily:"monospace",letterSpacing:"4px"},children:"LOCAL PLAY"}),s.jsxs("div",{className:"border-4 border-cyan-400 p-8 mb-8 bg-gray-900",style:{boxShadow:"inset 0 0 10px rgba(0,255,255,0.3), 0 0 20px rgba(0,255,255,0.5)"},children:[s.jsx("p",{className:"text-cyan-300 text-xl mb-8 font-bold",style:{textShadow:"2px 2px 0 #ff00ff",fontFamily:"monospace",letterSpacing:"2px"},children:"CHOOSE YOUR GAME MODE"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("button",{onClick:e,className:"w-full p-6 bg-blue-900 hover:bg-blue-700 border-4 border-cyan-400 transition-all duration-200 transform hover:scale-105 active:scale-95",style:{boxShadow:"inset 0 0 10px rgba(0,255,255,0.3), 0 0 20px rgba(0,255,255,0.5)",textShadow:"2px 2px 0 #000"},children:[s.jsx("div",{className:"text-4xl mb-2",children:""}),s.jsx("h2",{className:"text-2xl font-black text-cyan-300 uppercase",style:{fontFamily:"monospace"},children:"Single Player"}),s.jsx("p",{className:"text-cyan-200 text-sm font-bold mt-2",style:{fontFamily:"monospace"},children:"PLAY AGAINST AI"})]}),s.jsxs("button",{onClick:t,className:"w-full p-6 bg-red-900 hover:bg-red-700 border-4 border-red-400 transition-all duration-200 transform hover:scale-105 active:scale-95",style:{boxShadow:"inset 0 0 10px rgba(255,0,0,0.3), 0 0 20px rgba(255,0,0,0.5)",textShadow:"2px 2px 0 #000"},children:[s.jsx("div",{className:"text-4xl mb-2",children:""}),s.jsx("h2",{className:"text-2xl font-black text-red-300 uppercase",style:{fontFamily:"monospace"},children:"Multiplayer"}),s.jsx("p",{className:"text-red-200 text-sm font-bold mt-2",style:{fontFamily:"monospace"},children:"PLAY WITH FRIEND"})]})]})]}),s.jsx("p",{className:"text-green-400 font-bold text-sm",style:{fontFamily:"monospace",textShadow:"0 0 10px #00ff00"},children:">>> PRESS START <<<"})]})]})}function cy({onPlayRandom:e,onHostLobby:t,onJoinLobby:l,onTournament:a,onBack:n}){return s.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-black p-4",style:{backgroundImage:"linear-gradient(45deg, #1a1a2e 25%, transparent 25%, transparent 75%, #1a1a2e 75%, #1a1a2e), linear-gradient(45deg, #1a1a2e 25%, transparent 25%, transparent 75%, #1a1a2e 75%, #1a1a2e)",backgroundSize:"40px 40px",backgroundPosition:"0 0, 20px 20px"},children:[s.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{backgroundImage:"repeating-linear-gradient(0deg, rgba(0,0,0,0.15) 0px, rgba(0,0,0,0.15) 1px, transparent 1px, transparent 2px)"}}),s.jsxs("div",{className:"relative z-10 text-center max-w-3xl",children:[s.jsx("button",{onClick:n,className:"mb-6 px-6 py-2 border-2 border-green-400 bg-black hover:bg-green-900 text-green-400 font-bold uppercase transition-all",style:{fontFamily:"monospace",textShadow:"0 0 10px #00ff00",boxShadow:"0 0 15px rgba(0,255,0,0.5)"},children:"<< BACK"}),s.jsx("h1",{className:"text-6xl font-black mb-2 text-center",style:{color:"#ff00ff",textShadow:"0 0 10px #ff00ff, 0 0 20px #ff00ff, 3px 3px 0 #00ffff",fontFamily:"monospace",letterSpacing:"4px"},children:"ONLINE ARENA"}),s.jsxs("div",{className:"border-4 border-magenta-400 p-8 mb-8 bg-gray-900",style:{boxShadow:"inset 0 0 10px rgba(255,0,255,0.3), 0 0 20px rgba(255,0,255,0.5)",borderColor:"#ff00ff"},children:[s.jsx("p",{className:"text-pink-300 text-xl mb-8 font-bold",style:{textShadow:"2px 2px 0 #00ffff",fontFamily:"monospace",letterSpacing:"2px"},children:"SELECT BATTLE MODE"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("button",{onClick:e,className:"p-6 bg-green-900 hover:bg-green-700 border-4 border-green-400 transition-all duration-200 transform hover:scale-105 active:scale-95",style:{boxShadow:"inset 0 0 10px rgba(0,255,0,0.3), 0 0 20px rgba(0,255,0,0.5)",textShadow:"2px 2px 0 #000"},children:[s.jsx("div",{className:"text-4xl mb-2",children:""}),s.jsx("h2",{className:"text-2xl font-black text-green-300 uppercase",style:{fontFamily:"monospace"},children:"Random Match"}),s.jsx("p",{className:"text-green-200 text-xs font-bold mt-2",style:{fontFamily:"monospace"},children:"FIND OPPONENT"})]}),s.jsxs("button",{onClick:t,className:"p-6 bg-blue-900 hover:bg-blue-700 border-4 border-blue-400 transition-all duration-200 transform hover:scale-105 active:scale-95",style:{boxShadow:"inset 0 0 10px rgba(0,150,255,0.3), 0 0 20px rgba(0,150,255,0.5)",textShadow:"2px 2px 0 #000"},children:[s.jsx("div",{className:"text-4xl mb-2",children:""}),s.jsx("h2",{className:"text-2xl font-black text-blue-300 uppercase",style:{fontFamily:"monospace"},children:"Host Lobby"}),s.jsx("p",{className:"text-blue-200 text-xs font-bold mt-2",style:{fontFamily:"monospace"},children:"CREATE PRIVATE ROOM"})]}),s.jsxs("button",{onClick:l,className:"p-6 bg-purple-900 hover:bg-purple-700 border-4 border-purple-400 transition-all duration-200 transform hover:scale-105 active:scale-95",style:{boxShadow:"inset 0 0 10px rgba(168,85,247,0.3), 0 0 20px rgba(168,85,247,0.5)",textShadow:"2px 2px 0 #000"},children:[s.jsx("div",{className:"text-4xl mb-2",children:""}),s.jsx("h2",{className:"text-2xl font-black text-purple-300 uppercase",style:{fontFamily:"monospace"},children:"Join Lobby"}),s.jsx("p",{className:"text-purple-200 text-xs font-bold mt-2",style:{fontFamily:"monospace"},children:"ENTER ROOM CODE"})]}),s.jsxs("button",{onClick:a,className:"p-6 bg-yellow-900 hover:bg-yellow-700 border-4 border-yellow-300 transition-all duration-200 transform hover:scale-105 active:scale-95",style:{boxShadow:"inset 0 0 10px rgba(255,255,0,0.3), 0 0 20px rgba(255,255,0,0.5)",textShadow:"2px 2px 0 #000"},children:[s.jsx("div",{className:"text-4xl mb-2",children:""}),s.jsx("h2",{className:"text-2xl font-black text-yellow-300 uppercase",style:{fontFamily:"monospace"},children:"Tournament"}),s.jsx("p",{className:"text-yellow-200 text-xs font-bold mt-2",style:{fontFamily:"monospace"},children:"COMPETE FOR GLORY"})]})]})]}),s.jsx("p",{className:"text-green-400 font-bold text-sm",style:{fontFamily:"monospace",textShadow:"0 0 10px #00ff00"},children:">>> CHOOSE YOUR DESTINY <<<"})]})]})}function oy({lobbyId:e,onGameCreated:t,onBack:l}){const[a,n]=b.useState(!1),i=()=>{navigator.clipboard.writeText(e),n(!0),setTimeout(()=>n(!1),2e3)};return b.useEffect(()=>{const r=setInterval(async()=>{var c;try{const u=await(await $("/api/games/joinlobby",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({lobby_id:e})})).json();console.log(" Host poll:",u),u.success&&((c=u.data)!=null&&c.id)&&(console.log(" Opponent joined! Game:",u.data),clearInterval(r),t(u.data))}catch(o){console.error("Poll error:",o)}},2e3);return()=>clearInterval(r)},[e,t]),s.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-black p-4",style:{backgroundImage:"linear-gradient(45deg, #1a1a2e 25%, transparent 25%, transparent 75%, #1a1a2e 75%, #1a1a2e), linear-gradient(45deg, #1a1a2e 25%, transparent 25%, transparent 75%, #1a1a2e 75%, #1a1a2e)",backgroundSize:"40px 40px",backgroundPosition:"0 0, 20px 20px"},children:[s.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{backgroundImage:"repeating-linear-gradient(0deg, rgba(0,0,0,0.15) 0px, rgba(0,0,0,0.15) 1px, transparent 1px, transparent 2px)"}}),s.jsxs("div",{className:"relative z-10 w-full max-w-md",children:[s.jsx("h1",{className:"text-4xl font-bold text-center mb-8 uppercase",style:{fontFamily:"monospace",color:"#00ffff",textShadow:"0 0 10px #00ffff, 0 0 20px #00ffff"},children:" HOST LOBBY"}),s.jsxs("div",{className:"bg-gray-900 border-4 border-cyan-400 rounded-xl p-8",style:{boxShadow:"0 0 30px rgba(0,255,255,0.3), inset 0 0 30px rgba(0,255,255,0.05)"},children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("p",{className:"text-gray-400 text-sm mb-2 uppercase",style:{fontFamily:"monospace"},children:"Lobby Code"}),s.jsxs("div",{className:"bg-black border-2 border-cyan-600 rounded-lg p-4 flex items-center justify-between",children:[s.jsx("span",{className:"text-cyan-300 text-2xl font-bold tracking-widest",style:{fontFamily:"monospace",textShadow:"0 0 5px #00ffff"},children:e}),s.jsx("button",{onClick:i,className:"ml-4 px-4 py-2 rounded-lg font-bold transition-all duration-200",style:{fontFamily:"monospace",backgroundColor:a?"#22c55e":"#0891b2",color:"white",boxShadow:a?"0 0 15px rgba(34,197,94,0.5)":"0 0 15px rgba(8,145,178,0.5)"},children:a?" COPIED!":" COPY"})]})]}),s.jsx("div",{className:"text-center mb-6",children:s.jsx("div",{className:"animate-pulse",children:s.jsx("span",{className:"text-yellow-400 text-xl",style:{fontFamily:"monospace",textShadow:"0 0 10px #ffff00"},children:" WAITING FOR OPPONENT..."})})}),s.jsxs("div",{className:"bg-gray-800 border border-gray-700 rounded-lg p-4 mb-6",children:[s.jsx("p",{className:"text-gray-300 text-sm",style:{fontFamily:"monospace"},children:" Share the code above with your friend."}),s.jsxs("p",{className:"text-gray-300 text-sm mt-1",style:{fontFamily:"monospace"},children:[" They join using ",s.jsx("span",{className:"text-cyan-400",children:"Join Lobby"}),"."]}),s.jsx("p",{className:"text-gray-300 text-sm mt-1",style:{fontFamily:"monospace"},children:" Game starts when both players are ready."})]}),s.jsxs("div",{className:"flex justify-center gap-2 mb-6",children:[s.jsx("div",{className:"w-3 h-3 bg-cyan-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),s.jsx("div",{className:"w-3 h-3 bg-cyan-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),s.jsx("div",{className:"w-3 h-3 bg-cyan-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]}),s.jsx("button",{onClick:l,className:"w-full py-3 rounded-lg font-bold transition-all duration-200 hover:scale-105",style:{fontFamily:"monospace",backgroundColor:"#dc2626",color:"white",boxShadow:"0 0 15px rgba(220,38,38,0.5)",border:"2px solid #ef4444"},children:" CANCEL"})]})]})]})}function uy({onJoin:e,onBack:t}){const[l,a]=b.useState(""),[n,i]=b.useState(null),r=()=>{const o=l.trim();if(o.length===0){i("Please enter a lobby code");return}i(null),e(o)},c=o=>{o.key==="Enter"&&r()};return s.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-black p-4",style:{backgroundImage:"linear-gradient(45deg, #1a1a2e 25%, transparent 25%, transparent 75%, #1a1a2e 75%, #1a1a2e), linear-gradient(45deg, #1a1a2e 25%, transparent 25%, transparent 75%, #1a1a2e 75%, #1a1a2e)",backgroundSize:"40px 40px",backgroundPosition:"0 0, 20px 20px"},children:[s.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{backgroundImage:"repeating-linear-gradient(0deg, rgba(0,0,0,0.15) 0px, rgba(0,0,0,0.15) 1px, transparent 1px, transparent 2px)"}}),s.jsxs("div",{className:"relative z-10 w-full max-w-md",children:[s.jsx("h1",{className:"text-4xl font-bold text-center mb-8 uppercase",style:{fontFamily:"monospace",color:"#00ffff",textShadow:"0 0 10px #00ffff, 0 0 20px #00ffff"},children:" JOIN LOBBY"}),s.jsxs("div",{className:"bg-gray-900 border-4 border-cyan-400 rounded-xl p-8",style:{boxShadow:"0 0 30px rgba(0,255,255,0.3), inset 0 0 30px rgba(0,255,255,0.05)"},children:[s.jsx("p",{className:"text-gray-400 text-sm mb-2 uppercase",style:{fontFamily:"monospace"},children:"Enter Lobby Code"}),s.jsx("input",{type:"text",value:l,onChange:o=>{a(o.target.value),i(null)},onKeyDown:c,placeholder:"e.g. abc123",autoFocus:!0,className:"w-full bg-black border-2 border-cyan-600 rounded-lg p-4 text-cyan-300 text-xl font-bold tracking-widest text-center mb-4 focus:outline-none focus:border-cyan-400 focus:ring-2 focus:ring-cyan-400/50 placeholder-gray-600 transition-all",style:{fontFamily:"monospace",textShadow:"0 0 5px #00ffff"}}),n&&s.jsx("div",{className:"mb-4 p-3 bg-red-900/50 border border-red-500 rounded-lg",children:s.jsxs("p",{className:"text-red-400 text-sm text-center",style:{fontFamily:"monospace"},children:[" ",n]})}),s.jsxs("div",{className:"bg-gray-800 border border-gray-700 rounded-lg p-4 mb-6",children:[s.jsx("p",{className:"text-gray-300 text-sm",style:{fontFamily:"monospace"},children:" Ask your friend for the lobby code."}),s.jsxs("p",{className:"text-gray-300 text-sm mt-1",style:{fontFamily:"monospace"},children:[" Enter the code above and press ",s.jsx("span",{className:"text-green-400",children:"JOIN"}),"."]}),s.jsxs("p",{className:"text-gray-300 text-sm mt-1",style:{fontFamily:"monospace"},children:[" Press ",s.jsx("span",{className:"text-cyan-400",children:"Enter"})," to quick join."]})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx("button",{onClick:t,className:"flex-1 py-3 rounded-lg font-bold transition-all duration-200 hover:scale-105",style:{fontFamily:"monospace",backgroundColor:"#dc2626",color:"white",boxShadow:"0 0 15px rgba(220,38,38,0.5)",border:"2px solid #ef4444"},children:" BACK"}),s.jsx("button",{onClick:r,className:"flex-1 py-3 rounded-lg font-bold transition-all duration-200 hover:scale-105",style:{fontFamily:"monospace",backgroundColor:l.trim().length>0?"#22c55e":"#374151",color:"white",boxShadow:l.trim().length>0?"0 0 15px rgba(34,197,94,0.5)":"none",border:l.trim().length>0?"2px solid #4ade80":"2px solid #4b5563"},children:" JOIN"})]})]})]})]})}function dy({gameData:e,gameMode:t,currentUser:l,onBothReady:a,onBack:n}){const[i,r]=b.useState(!1),[c,o]=b.useState(!1),[u,p]=b.useState(!1),d=Number(l==null?void 0:l.id)===Number(e==null?void 0:e.player1_id),h=(l==null?void 0:l.username)||(l==null?void 0:l.display_name)||(d?"Player 1":"Player 2"),j=`Player #${d?e==null?void 0:e.player2_id:e==null?void 0:e.player1_id}`;b.useEffect(()=>{console.log(" ReadyRoom DEBUG:"),console.log("  currentUser?.id:",l==null?void 0:l.id,typeof(l==null?void 0:l.id)),console.log("  gameData?.player1_id:",e==null?void 0:e.player1_id,typeof(e==null?void 0:e.player1_id)),console.log("  gameData?.player2_id:",e==null?void 0:e.player2_id,typeof(e==null?void 0:e.player2_id)),console.log("  isPlayer1:",d)},[l,e,d]);const y=t==="singleplayer"||t==="multiplayer";if(b.useEffect(()=>{y&&a()},[y,a]),!l&&!y)return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-black",children:s.jsx("p",{className:"text-cyan-400 text-2xl animate-pulse",style:{fontFamily:"monospace"},children:"Loading player data..."})});const N=async()=>{try{const f=await(await $("/api/games/ready",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({game_id:e.id})})).json();console.log(" Ready response:",f),f.success&&(r(!0),f.data.all_ready&&(o(!0),p(!0)))}catch(m){console.error("Failed to set ready:",m)}};return b.useEffect(()=>{if(!i||u||!(e!=null&&e.id))return;const m=setInterval(async()=>{try{const x=await(await $(`/api/games/${e.id}/ready`)).json();if(console.log(" Ready poll:",x),x.success&&x.data){const{player1_ready:v,player2_ready:E,all_ready:_}=x.data;o(d?E:v),_&&(p(!0),clearInterval(m))}}catch(f){console.error("Ready poll error:",f)}},1500);return()=>clearInterval(m)},[i,u,e,d]),b.useEffect(()=>{if(u){const m=setTimeout(()=>{a()},1500);return()=>clearTimeout(m)}},[u,a]),y?null:s.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-black p-4",style:{backgroundImage:"linear-gradient(45deg, #1a1a2e 25%, transparent 25%, transparent 75%, #1a1a2e 75%, #1a1a2e), linear-gradient(45deg, #1a1a2e 25%, transparent 25%, transparent 75%, #1a1a2e 75%, #1a1a2e)",backgroundSize:"40px 40px",backgroundPosition:"0 0, 20px 20px"},children:[s.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{backgroundImage:"repeating-linear-gradient(0deg, rgba(0,0,0,0.15) 0px, rgba(0,0,0,0.15) 1px, transparent 1px, transparent 2px)"}}),s.jsxs("div",{className:"relative z-10 w-full max-w-lg",children:[s.jsx("h1",{className:"text-4xl font-bold text-center mb-2 uppercase",style:{fontFamily:"monospace",color:"#00ffff",textShadow:"0 0 10px #00ffff, 0 0 20px #00ffff"},children:" MATCH FOUND"}),s.jsx("p",{className:"text-gray-400 text-center mb-8",style:{fontFamily:"monospace"},children:"Both players must be ready to start"}),s.jsxs("div",{className:"bg-gray-900 border-4 border-cyan-400 rounded-xl p-8",style:{boxShadow:"0 0 30px rgba(0,255,255,0.3), inset 0 0 30px rgba(0,255,255,0.05)"},children:[s.jsxs("div",{className:"flex items-center justify-between gap-4 mb-8",children:[s.jsx("div",{className:"flex-1 text-center",children:s.jsxs("div",{className:`border-4 rounded-xl p-6 transition-all duration-500 ${i?"border-green-400 bg-green-900/30":"border-cyan-600 bg-cyan-900/20"}`,style:{boxShadow:i?"0 0 20px rgba(74,222,128,0.4)":"0 0 10px rgba(0,255,255,0.2)"},children:[s.jsx("div",{className:"text-4xl mb-3",children:i?"":""}),s.jsx("p",{className:"text-white font-bold text-lg mb-1",style:{fontFamily:"monospace"},children:h}),s.jsx("p",{className:"text-xs text-gray-400",style:{fontFamily:"monospace"},children:"(YOU)"}),s.jsx("p",{className:"text-sm mt-2",style:{fontFamily:"monospace",color:i?"#4ade80":"#fbbf24"},children:i?"READY!":"NOT READY"})]})}),s.jsx("div",{className:"flex-shrink-0",children:s.jsx("span",{className:"text-3xl font-black",style:{fontFamily:"monospace",color:"#ff6b6b",textShadow:"0 0 10px #ff6b6b, 0 0 20px #ff6b6b"},children:"VS"})}),s.jsx("div",{className:"flex-1 text-center",children:s.jsxs("div",{className:`border-4 rounded-xl p-6 transition-all duration-500 ${c?"border-green-400 bg-green-900/30":"border-gray-600 bg-gray-800/50"}`,style:{boxShadow:c?"0 0 20px rgba(74,222,128,0.4)":"none"},children:[s.jsx("div",{className:"text-4xl mb-3",children:c?"":""}),s.jsx("p",{className:"text-white font-bold text-lg mb-1",style:{fontFamily:"monospace"},children:j}),s.jsx("p",{className:"text-xs text-gray-400",style:{fontFamily:"monospace"},children:"(OPPONENT)"}),s.jsx("p",{className:"text-sm mt-2",style:{fontFamily:"monospace",color:c?"#4ade80":"#fbbf24"},children:c?"READY!":"WAITING..."})]})})]}),(e==null?void 0:e.id)&&s.jsx("div",{className:"bg-gray-800 border border-gray-700 rounded-lg p-3 mb-6 text-center",children:s.jsxs("p",{className:"text-gray-400 text-xs",style:{fontFamily:"monospace"},children:["GAME #",e.id]})}),u&&s.jsx("div",{className:"text-center mb-6 animate-pulse",children:s.jsx("p",{className:"text-green-400 text-2xl font-bold",style:{fontFamily:"monospace",textShadow:"0 0 15px #4ade80"},children:" BOTH READY  STARTING!"})}),i&&!u&&s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("p",{className:"text-green-400 font-bold mb-3",style:{fontFamily:"monospace"},children:" You are ready!"}),s.jsxs("div",{className:"flex justify-center gap-2 mb-2",children:[s.jsx("div",{className:"w-3 h-3 bg-yellow-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),s.jsx("div",{className:"w-3 h-3 bg-yellow-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),s.jsx("div",{className:"w-3 h-3 bg-yellow-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]}),s.jsx("p",{className:"text-yellow-400 text-sm",style:{fontFamily:"monospace"},children:"Waiting for opponent..."})]}),!i&&!u&&s.jsx("button",{onClick:N,className:"w-full py-4 rounded-lg font-bold text-xl transition-all duration-200 hover:scale-105 active:scale-95",style:{fontFamily:"monospace",backgroundColor:"#22c55e",color:"white",boxShadow:"0 0 20px rgba(34,197,94,0.5)",border:"3px solid #4ade80",textShadow:"0 0 5px rgba(0,0,0,0.5)"},children:" I'M READY!"}),!u&&s.jsx("button",{onClick:n,className:"w-full mt-4 py-2 rounded-lg font-bold transition-all duration-200 hover:scale-105",style:{fontFamily:"monospace",backgroundColor:"transparent",color:"#ef4444",border:"2px solid #ef4444"},children:" LEAVE"})]})]})]})}function fy({onCancel:e,onGameFound:t,onTimeout:l}){const[a,n]=b.useState(0),[i,r]=b.useState(".");b.useEffect(()=>{const o=setInterval(()=>{n(u=>u+1)},1e3);return()=>clearInterval(o)},[]),b.useEffect(()=>{const o=setInterval(()=>{r(u=>u.length>=3?".":u+".")},500);return()=>clearInterval(o)},[]),b.useEffect(()=>{const o=setInterval(async()=>{try{const u=await $("/api/games/matchmaking");if(!u.ok)return;const d=(await u.json()).data;console.log(" Poll result:",d),d&&d.player1_id&&d.player2_id?(console.log(" Match found!",d),clearInterval(o),t==null||t(d)):d&&d.status==="idle"&&(console.log(" Matchmaking timed out"),clearInterval(o),l==null||l())}catch(u){console.error("Polling error:",u)}},2e3);return()=>clearInterval(o)},[t,l]);const c=o=>{const u=Math.floor(o/60),p=o%60;return`${u}:${p.toString().padStart(2,"0")}`};return s.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-black p-4",style:{backgroundImage:"linear-gradient(45deg, #1a1a2e 25%, transparent 25%, transparent 75%, #1a1a2e 75%, #1a1a2e), linear-gradient(45deg, #1a1a2e 25%, transparent 25%, transparent 75%, #1a1a2e 75%, #1a1a2e)",backgroundSize:"40px 40px",backgroundPosition:"0 0, 20px 20px"},children:[s.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{backgroundImage:"repeating-linear-gradient(0deg, rgba(0,0,0,0.15) 0px, rgba(0,0,0,0.15) 1px, transparent 1px, transparent 2px)"}}),s.jsxs("div",{className:"relative z-10 text-center max-w-2xl",children:[s.jsx("h1",{className:"text-6xl font-black mb-8 text-center",style:{color:"#00ff00",textShadow:"0 0 10px #00ff00, 0 0 20px #00ff00, 3px 3px 0 #ff00ff",fontFamily:"monospace",letterSpacing:"4px"},children:"SEARCHING"}),s.jsxs("div",{className:"border-4 border-cyan-400 p-12 mb-8 bg-gray-900",style:{boxShadow:"inset 0 0 10px rgba(0,255,255,0.3), 0 0 20px rgba(0,255,255,0.5)"},children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"flex justify-center gap-4 mb-8",children:[s.jsx("div",{className:"w-6 h-6 border-2 border-cyan-400 rounded-full",style:{animation:"pulse 1s ease-in-out infinite",animationDelay:"0s"}}),s.jsx("div",{className:"w-6 h-6 border-2 border-cyan-400 rounded-full",style:{animation:"pulse 1s ease-in-out infinite",animationDelay:"0.2s"}}),s.jsx("div",{className:"w-6 h-6 border-2 border-cyan-400 rounded-full",style:{animation:"pulse 1s ease-in-out infinite",animationDelay:"0.4s"}})]}),s.jsxs("p",{className:"text-cyan-300 text-2xl font-bold uppercase",style:{fontFamily:"monospace",textShadow:"0 0 10px #00ffff",letterSpacing:"2px",height:"40px"},children:["Looking for opponent",i]})]}),s.jsxs("div",{className:"bg-purple-900 border-4 border-purple-500 rounded-none p-6 mb-8",style:{boxShadow:"0 0 15px rgba(168,85,247,0.5)",fontFamily:"monospace"},children:[s.jsx("p",{className:"text-purple-200 text-sm font-bold mb-2 uppercase",children:" SEARCHING TIME"}),s.jsx("p",{className:"text-purple-300 text-4xl font-black",style:{textShadow:"0 0 10px #a855f7"},children:c(a)})]}),s.jsx("div",{className:"bg-green-900 border-4 border-green-400 rounded-none p-4 mb-8",style:{boxShadow:"0 0 15px rgba(0,255,0,0.3)",fontFamily:"monospace"},children:s.jsx("p",{className:"text-green-300 text-sm font-bold uppercase",children:" MATCHMAKING IN PROGRESS"})}),s.jsx("button",{onClick:e,className:"w-full p-4 bg-red-900 hover:bg-red-700 border-4 border-red-400 font-black text-red-300 uppercase transition-all duration-200 transform hover:scale-105 active:scale-95",style:{fontFamily:"monospace",boxShadow:"0 0 15px rgba(255,0,0,0.5)",textShadow:"2px 2px 0 #000"},children:"CANCEL SEARCH"})]}),s.jsx("p",{className:"text-green-400 font-bold text-sm",style:{fontFamily:"monospace",textShadow:"0 0 10px #00ff00"},children:">>> WAITING FOR OPPONENT <<<"}),s.jsx("style",{children:`
                    @keyframes pulse {
                        0%, 100% { 
                            transform: scale(1);
                            opacity: 1;
                        }
                        50% { 
                            transform: scale(1.2);
                            opacity: 0.5;
                        }
                    }
                `})]})]})}function Pu({id:e,className:t,buttonName:l,onClick:a}){return s.jsx("button",{id:e,className:t,onClick:a,children:l})}var Cm=(e=>(e[e.Bad=0]="Bad",e[e.Neutral=1]="Neutral",e[e.Good=2]="Good",e))(Cm||{});function my({type:e,children:t}){let l,a,n;switch(e){case 0:l="bg-red-50",a="text-red-900",n="border-red-200";break;case 1:l="bg-yellow-50",a="text-yellow-900",n="border-yellow-200";break;case 2:l="bg-green-50",a="text-green-900",n="border-green-200";break}const i=`${l} ${a} ${n} rounded-lg p-4 flex flex-col space-y-2 items-center m-auto w-[60%]`;return s.jsx("div",{className:i,children:t})}function hy({onExit:e,onRetry:t}){return s.jsxs(my,{type:Cm.Neutral,children:[s.jsx("p",{children:"No player found"}),s.jsx(Pu,{id:"btn-retry",className:"bg-indigo-500 text-white py-2 px-8 uppercase rounded-xl w-[20%]",buttonName:"retry",onClick:t}),s.jsx(Pu,{id:"btn-exit",className:"bg-indigo-500 text-white py-2 px-8 uppercase rounded-xl w-[20%]",buttonName:"exit",onClick:e})]})}function xy({onTournamentCreated:e,onBack:t}){const[l,a]=b.useState(""),[n,i]=b.useState(""),[r,c]=b.useState(4),[o,u]=b.useState(!1),[p,d]=b.useState(null),h=async()=>{if(!l.trim()){d("Tournament name is required");return}u(!0),d(null);try{const g=await $("/api/tournaments",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:l,description:n,max_participants:r})});if(!g.ok){const y=await g.json();throw new Error(y.error||"Failed to create tournament")}const j=await g.json();console.log(" Tournament created:",j.data.id),e(j.data.id,j.data.max_participants)}catch(g){d(g.message),console.error(" Failed to create tournament:",g)}finally{u(!1)}};return s.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-black p-4",style:{backgroundImage:"linear-gradient(45deg, #1a1a2e 25%, transparent 25%, transparent 75%, #1a1a2e 75%, #1a1a2e), linear-gradient(45deg, #1a1a2e 25%, transparent 25%, transparent 75%, #1a1a2e 75%, #1a1a2e)",backgroundSize:"40px 40px",backgroundPosition:"0 0, 20px 20px"},children:[s.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{backgroundImage:"repeating-linear-gradient(0deg, rgba(0,0,0,0.15) 0px, rgba(0,0,0,0.15) 1px, transparent 1px, transparent 2px)"}}),s.jsxs("div",{className:"relative z-10 w-full max-w-md",children:[s.jsx("h1",{className:"text-4xl font-black text-center mb-2",style:{color:"#ffff00",textShadow:"0 0 10px #ffff00, 0 0 20px #ffff00, 3px 3px 0 #ff00ff",fontFamily:"monospace",letterSpacing:"4px"},children:"CREATE TOURNAMENT"}),s.jsxs("div",{className:"border-4 p-8 bg-gray-900",style:{borderColor:"#ffff00",boxShadow:"inset 0 0 10px rgba(255,255,0,0.3), 0 0 20px rgba(255,255,0,0.5)"},children:[p&&s.jsx("div",{className:"bg-red-900 border-4 border-red-400 p-4 mb-6 text-center",style:{fontFamily:"monospace",boxShadow:"0 0 15px rgba(255,0,0,0.5)"},children:s.jsx("p",{className:"text-red-300 font-bold text-sm uppercase",children:p})}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-yellow-300 font-bold mb-2 uppercase text-sm",style:{fontFamily:"monospace",textShadow:"0 0 5px #ffff00"},children:"> TOURNAMENT NAME"}),s.jsx("input",{type:"text",value:l,onChange:g=>a(g.target.value),disabled:o,className:"w-full bg-black border-4 border-purple-500 text-green-400 px-4 py-3 focus:outline-none focus:border-yellow-300 disabled:opacity-50",style:{fontFamily:"monospace",boxShadow:"0 0 10px rgba(168,85,247,0.3)",textShadow:"0 0 5px #00ff00"},placeholder:"ENTER NAME..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-yellow-300 font-bold mb-2 uppercase text-sm",style:{fontFamily:"monospace",textShadow:"0 0 5px #ffff00"},children:"> DESCRIPTION (OPTIONAL)"}),s.jsx("textarea",{value:n,onChange:g=>i(g.target.value),disabled:o,className:"w-full bg-black border-4 border-purple-500 text-green-400 px-4 py-3 focus:outline-none focus:border-yellow-300 disabled:opacity-50 h-20 resize-none",style:{fontFamily:"monospace",boxShadow:"0 0 10px rgba(168,85,247,0.3)",textShadow:"0 0 5px #00ff00"},placeholder:"ENTER DESCRIPTION..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-yellow-300 font-bold mb-3 uppercase text-sm",style:{fontFamily:"monospace",textShadow:"0 0 5px #ffff00"},children:"> MAX PLAYERS"}),s.jsx("div",{className:"grid grid-cols-3 gap-3",children:[4,8,16].map(g=>s.jsxs("button",{onClick:()=>c(g),disabled:o,className:`p-4 font-black text-xl uppercase border-4 transition-all duration-200 transform hover:scale-110 active:scale-95 ${r===g?"bg-yellow-600 border-yellow-300 text-yellow-300":"bg-gray-800 border-gray-600 text-gray-400 hover:border-yellow-300"}`,style:{fontFamily:"monospace",boxShadow:r===g?"0 0 20px rgba(255,255,0,0.6), inset 0 0 10px rgba(255,255,0,0.3)":"none",textShadow:r===g?"2px 2px 0 #000":"none"},children:[g,s.jsx("div",{className:"text-xs mt-1",children:"PLAYERS"})]},g))})]})]}),s.jsxs("div",{className:"flex gap-4 mt-8",children:[s.jsx("button",{onClick:h,disabled:o||!l.trim(),className:"flex-1 p-4 bg-yellow-600 hover:bg-yellow-500 disabled:bg-gray-700 disabled:border-gray-600 border-4 border-yellow-300 font-black text-yellow-300 uppercase transition-all duration-200 transform hover:scale-105 active:scale-95",style:{fontFamily:"monospace",boxShadow:o||!l.trim()?"none":"0 0 20px rgba(255,255,0,0.6)",textShadow:"2px 2px 0 #000"},children:o?"CREATING...":"CREATE"}),s.jsx("button",{onClick:t,disabled:o,className:"flex-1 p-4 bg-red-900 hover:bg-red-700 border-4 border-red-400 font-black text-red-300 uppercase transition-all duration-200 transform hover:scale-105 active:scale-95",style:{fontFamily:"monospace",boxShadow:"0 0 15px rgba(255,0,0,0.5)",textShadow:"2px 2px 0 #000"},children:"BACK"})]})]}),s.jsx("p",{className:"text-green-400 font-bold text-sm text-center mt-6",style:{fontFamily:"monospace",textShadow:"0 0 10px #00ff00"},children:">>> BUILD YOUR ARENA <<<"})]})]})}function py({tournamentId:e,onTournamentJoined:t,onCreateNew:l,onBack:a}){const[n,i]=b.useState([]),[r,c]=b.useState(!0),[o,u]=b.useState(null),[p,d]=b.useState(null);b.useEffect(()=>{const g=async()=>{try{const y=await fetch("/api/tournaments");if(!y.ok)throw new Error("Failed to fetch tournaments");const m=(await y.json()).data.filter(f=>f.status==="open");i(m),u(null)}catch(y){console.error(" Failed to fetch tournaments:",y),u(String(y))}finally{c(!1)}};g();const j=setInterval(g,3e3);return()=>clearInterval(j)},[]),b.useEffect(()=>{e&&h(e)},[e]);const h=async g=>{d(g);try{const j=await $(`/api/tournaments/${g}/join`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({})});if(!j.ok){const f=await j.json();throw new Error(f.error||"Failed to join tournament")}const y=await j.json();console.log(" Joined tournament:",y);const m=await(await fetch(`/api/tournaments/${g}`)).json();t(g,m.data.max_participants)}catch(j){console.error(" Failed to join:",j),u(j.message),d(null)}};return r?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-black",style:{backgroundImage:"linear-gradient(45deg, #1a1a2e 25%, transparent 25%, transparent 75%, #1a1a2e 75%, #1a1a2e), linear-gradient(45deg, #1a1a2e 25%, transparent 25%, transparent 75%, #1a1a2e 75%, #1a1a2e)",backgroundSize:"40px 40px",backgroundPosition:"0 0, 20px 20px"},children:s.jsx("p",{className:"text-yellow-300 text-2xl animate-pulse font-bold",style:{fontFamily:"monospace",textShadow:"0 0 10px #ffff00"},children:"SEARCHING FOR TOURNAMENTS..."})}):s.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-black p-4",style:{backgroundImage:"linear-gradient(45deg, #1a1a2e 25%, transparent 25%, transparent 75%, #1a1a2e 75%, #1a1a2e), linear-gradient(45deg, #1a1a2e 25%, transparent 25%, transparent 75%, #1a1a2e 75%, #1a1a2e)",backgroundSize:"40px 40px",backgroundPosition:"0 0, 20px 20px"},children:[s.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{backgroundImage:"repeating-linear-gradient(0deg, rgba(0,0,0,0.15) 0px, rgba(0,0,0,0.15) 1px, transparent 1px, transparent 2px)"}}),s.jsxs("div",{className:"relative z-10 w-full max-w-2xl",children:[s.jsx("h1",{className:"text-5xl font-black text-center mb-2",style:{color:"#ffff00",textShadow:"0 0 10px #ffff00, 0 0 20px #ffff00, 3px 3px 0 #ff00ff",fontFamily:"monospace",letterSpacing:"4px"},children:"TOURNAMENTS"}),s.jsx("p",{className:"text-center text-purple-300 text-sm mb-8 font-bold",style:{fontFamily:"monospace",textShadow:"0 0 5px #ff00ff"},children:"JOIN AN EXISTING TOURNAMENT OR CREATE YOUR OWN"}),o&&s.jsx("div",{className:"bg-red-900 border-4 border-red-400 p-4 mb-6 text-center",style:{fontFamily:"monospace",boxShadow:"0 0 15px rgba(255,0,0,0.5)"},children:s.jsx("p",{className:"text-red-300 font-bold text-sm uppercase",children:o})}),s.jsx("button",{onClick:l,className:"w-full p-4 mb-8 bg-yellow-600 hover:bg-yellow-500 border-4 border-yellow-300 font-black text-yellow-300 uppercase transition-all duration-200 transform hover:scale-105 active:scale-95",style:{fontFamily:"monospace",boxShadow:"0 0 20px rgba(255,255,0,0.6)",textShadow:"2px 2px 0 #000",letterSpacing:"2px"},children:"+ CREATE NEW TOURNAMENT"}),s.jsxs("div",{className:"border-4 p-6 bg-gray-900",style:{borderColor:"#ff00ff",boxShadow:"inset 0 0 10px rgba(255,0,255,0.3), 0 0 20px rgba(255,0,255,0.5)"},children:[s.jsxs("h2",{className:"text-2xl font-black text-center mb-6 uppercase",style:{color:"#ff00ff",textShadow:"0 0 10px #ff00ff",fontFamily:"monospace",letterSpacing:"3px"},children:["OPEN TOURNAMENTS (",n.length,")"]}),n.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("p",{className:"text-gray-500 text-lg font-bold mb-2",style:{fontFamily:"monospace"},children:"NO OPEN TOURNAMENTS"}),s.jsx("p",{className:"text-gray-600 text-sm",style:{fontFamily:"monospace"},children:"BE THE FIRST TO CREATE ONE!"})]}):s.jsx("div",{className:"space-y-4",children:n.map(g=>s.jsx("div",{className:"bg-black border-4 border-cyan-400 p-6 transition-all duration-200 hover:border-yellow-300",style:{boxShadow:"0 0 10px rgba(0,255,255,0.3)",fontFamily:"monospace"},children:s.jsxs("div",{className:"flex items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-xl font-black text-white mb-1",style:{textShadow:"0 0 5px #fff"},children:g.name}),s.jsx("p",{className:"text-gray-500 text-xs mb-2 uppercase",children:g.description||"NO DESCRIPTION"}),s.jsxs("div",{className:"flex gap-4 text-xs",children:[s.jsxs("span",{className:"text-cyan-400 font-bold",children:[" ",g.max_participants,"-PLAYER"]}),s.jsx("span",{className:"text-green-400 font-bold",children:" OPEN"})]})]}),s.jsx("button",{onClick:()=>h(g.id),disabled:p===g.id,className:"px-6 py-3 bg-green-700 hover:bg-green-600 disabled:bg-gray-700 border-4 border-green-400 disabled:border-gray-600 font-black text-green-300 uppercase transition-all duration-200 transform hover:scale-105 active:scale-95",style:{fontFamily:"monospace",boxShadow:p===g.id?"none":"0 0 15px rgba(0,255,0,0.5)",textShadow:"2px 2px 0 #000"},children:p===g.id?"...":"JOIN"})]})},g.id))})]}),s.jsx("button",{onClick:a,className:"w-full mt-6 p-4 bg-red-900 hover:bg-red-700 border-4 border-red-400 font-black text-red-300 uppercase transition-all duration-200 transform hover:scale-105 active:scale-95",style:{fontFamily:"monospace",boxShadow:"0 0 15px rgba(255,0,0,0.5)",textShadow:"2px 2px 0 #000"},children:"<< BACK"}),s.jsx("p",{className:"text-green-400 font-bold text-sm text-center mt-6",style:{fontFamily:"monospace",textShadow:"0 0 10px #00ff00"},children:">>> CHOOSE YOUR BATTLE <<<"})]})]})}function gy({tournamentId:e,maxParticipants:t,onStartTournament:l,onLeaveTournament:a,websocket:n}){const[i,r]=b.useState(null),[c,o]=b.useState([]),[u,p]=b.useState(!0),[d,h]=b.useState(null),[g,j]=b.useState(!1);b.useEffect(()=>{if(!(n!=null&&n.current))return;const x=v=>{try{const E=JSON.parse(v.data);E.type==="tournament_started"&&E.tournamentId===e&&l()}catch(E){console.error("Failed to parse WebSocket message:",E)}};return n.current.addEventListener("message",x),()=>{var v;(v=n.current)==null||v.removeEventListener("message",x)}},[e,l,n]),b.useEffect(()=>{if(!e)return;const x=async()=>{try{const E=await fetch(`/api/tournaments/${e}`);if(!E.ok)throw new Error("Failed to fetch tournament");const _=await E.json();console.log(" Tournament poll:",_),r(_.data),o(_.participants||[]),h(null),p(!1),_.data.status==="ongoing"&&l()}catch(E){console.error(" Failed to fetch tournament status:",E),h(String(E))}};x();const v=setInterval(x,2e3);return()=>clearInterval(v)},[e,l]);const y=async()=>{try{if(!e)throw new Error("Tournament ID is required");j(!0),h(null);const x=await $(`/api/tournaments/${e}/start`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({})}),v=await x.json();if(!x.ok)throw new Error(v.message||v.error||"Failed to start tournament");console.log(" Tournament started:",v),l()}catch(x){console.error(" Failed to start tournament:",x),h(x.message),j(!1)}},N=async()=>{try{const x=await $(`/api/tournaments/${e}/leave`,{method:"DELETE",headers:{"Content-Type":"application/json"}});if(!x.ok){const v=await x.json();throw new Error(v.message||v.error||"Failed to leave tournament")}a()}catch(x){console.error(" Failed to leave tournament:",x),h(x.message)}},m=c.length>=t,f=Math.max(0,t-c.length);return u?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-black",style:{backgroundImage:"linear-gradient(45deg, #1a1a2e 25%, transparent 25%, transparent 75%, #1a1a2e 75%, #1a1a2e), linear-gradient(45deg, #1a1a2e 25%, transparent 25%, transparent 75%, #1a1a2e 75%, #1a1a2e)",backgroundSize:"40px 40px",backgroundPosition:"0 0, 20px 20px"},children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-yellow-300 text-2xl animate-pulse font-bold",style:{fontFamily:"monospace",textShadow:"0 0 10px #ffff00"},children:"LOADING TOURNAMENT..."}),s.jsxs("p",{className:"text-gray-500 text-sm mt-2",style:{fontFamily:"monospace"},children:["ID: ",e]})]})}):s.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-black p-4",style:{backgroundImage:"linear-gradient(45deg, #1a1a2e 25%, transparent 25%, transparent 75%, #1a1a2e 75%, #1a1a2e), linear-gradient(45deg, #1a1a2e 25%, transparent 25%, transparent 75%, #1a1a2e 75%, #1a1a2e)",backgroundSize:"40px 40px",backgroundPosition:"0 0, 20px 20px"},children:[s.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{backgroundImage:"repeating-linear-gradient(0deg, rgba(0,0,0,0.15) 0px, rgba(0,0,0,0.15) 1px, transparent 1px, transparent 2px)"}}),s.jsxs("div",{className:"relative z-10 w-full max-w-2xl",children:[s.jsx("h1",{className:"text-4xl font-black text-center mb-1",style:{color:"#ffff00",textShadow:"0 0 10px #ffff00, 0 0 20px #ffff00, 3px 3px 0 #ff00ff",fontFamily:"monospace",letterSpacing:"4px"},children:"TOURNAMENT LOBBY"}),s.jsxs("p",{className:"text-center text-gray-500 text-sm mb-6",style:{fontFamily:"monospace"},children:["ID: ",e]}),d&&s.jsx("div",{className:"bg-red-900 border-4 border-red-400 p-4 mb-6 text-center",style:{fontFamily:"monospace",boxShadow:"0 0 15px rgba(255,0,0,0.5)"},children:s.jsx("p",{className:"text-red-300 font-bold text-sm uppercase",children:d})}),s.jsxs("div",{className:"border-4 p-8 bg-gray-900",style:{borderColor:"#ff00ff",boxShadow:"inset 0 0 10px rgba(255,0,255,0.3), 0 0 20px rgba(255,0,255,0.5)"},children:[i&&s.jsxs("div",{className:"bg-black border-4 border-cyan-400 p-4 mb-6",style:{boxShadow:"0 0 10px rgba(0,255,255,0.3)",fontFamily:"monospace"},children:[s.jsx("h2",{className:"text-2xl font-black text-white mb-2",style:{textShadow:"0 0 5px #fff"},children:i.name}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("span",{className:"text-cyan-400 font-bold text-sm",children:[" ",t,"-PLAYER TOURNAMENT"]}),s.jsxs("span",{className:"text-purple-300 font-bold text-sm",children:["STATUS: ",s.jsx("span",{style:{color:"#ffff00",textShadow:"0 0 5px #ffff00"},children:i.status.toUpperCase()})]})]})]}),s.jsxs("h3",{className:"text-lg font-black mb-4 uppercase",style:{color:"#00ffff",textShadow:"0 0 10px #00ffff",fontFamily:"monospace",letterSpacing:"2px"},children:["PLAYERS (",c.length,"/",t,")"]}),s.jsx("div",{className:"bg-black border-4 border-gray-700 mb-6 max-h-80 overflow-y-auto",children:c.length===0?s.jsx("div",{className:"p-6 text-center",children:s.jsx("p",{className:"text-gray-600 font-bold animate-pulse",style:{fontFamily:"monospace"},children:"WAITING FOR PLAYERS..."})}):s.jsxs(s.Fragment,{children:[c.map((x,v)=>s.jsxs("div",{className:"flex items-center gap-4 px-4 py-3 border-b-2 border-gray-800",style:{fontFamily:"monospace"},children:[s.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-yellow-600 border-2 border-yellow-300 text-black font-black text-sm flex-shrink-0",style:{boxShadow:"0 0 10px rgba(255,255,0,0.4)"},children:v+1}),s.jsx("span",{className:"flex-1 text-white font-bold",style:{textShadow:"0 0 3px #fff"},children:x.display_name||x.username}),s.jsx("span",{className:"text-green-400 text-xs font-bold",style:{textShadow:"0 0 5px #00ff00"},children:" JOINED"})]},x.user_id)),Array.from({length:f}).map((x,v)=>s.jsxs("div",{className:"flex items-center gap-4 px-4 py-3 border-b-2 border-gray-800 opacity-30",style:{fontFamily:"monospace"},children:[s.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-gray-800 border-2 border-gray-600 text-gray-600 font-black text-sm flex-shrink-0",children:c.length+v+1}),s.jsx("span",{className:"flex-1 text-gray-600 italic font-bold",children:"WAITING..."}),s.jsx("span",{className:"text-gray-700 text-xs",children:""})]},`empty-${v}`))]})}),s.jsx("div",{className:"p-4 mb-6 text-center border-4",style:{fontFamily:"monospace",backgroundColor:m?"rgba(0,255,0,0.1)":"rgba(255,255,0,0.1)",borderColor:m?"#00ff00":"#ffff00",boxShadow:m?"0 0 15px rgba(0,255,0,0.4)":"0 0 15px rgba(255,255,0,0.4)"},children:s.jsx("p",{className:"font-black text-lg uppercase",style:{color:m?"#00ff00":"#ffff00",textShadow:m?"0 0 10px #00ff00":"0 0 10px #ffff00"},children:m?" TOURNAMENT FULL! READY TO START":` WAITING FOR ${f} MORE PLAYER${f!==1?"S":""}...`})}),s.jsxs("div",{className:"flex gap-4",children:[m&&s.jsx("button",{onClick:y,disabled:g,className:"flex-1 p-4 bg-green-700 hover:bg-green-600 disabled:bg-gray-700 disabled:border-gray-600 border-4 border-green-400 font-black text-green-300 uppercase transition-all duration-200 transform hover:scale-105 active:scale-95",style:{fontFamily:"monospace",boxShadow:g?"none":"0 0 20px rgba(0,255,0,0.6)",textShadow:"2px 2px 0 #000",letterSpacing:"2px"},children:g?"STARTING...":"START TOURNAMENT"}),s.jsx("button",{onClick:N,className:`${m?"flex-1":"w-full"} p-4 bg-red-900 hover:bg-red-700 border-4 border-red-400 font-black text-red-300 uppercase transition-all duration-200 transform hover:scale-105 active:scale-95`,style:{fontFamily:"monospace",boxShadow:"0 0 15px rgba(255,0,0,0.5)",textShadow:"2px 2px 0 #000"},children:"LEAVE TOURNAMENT"})]})]}),s.jsx("p",{className:"text-green-400 font-bold text-sm text-center mt-6",style:{fontFamily:"monospace",textShadow:"0 0 10px #00ff00"},children:">>> GATHERING WARRIORS <<<"})]})]})}function yy({tournamentId:e,onPlayMatch:t,onTournamentFinished:l,currentUserId:a}){const[n,i]=b.useState([]),[r,c]=b.useState(1),[o,u]=b.useState(!0);b.useEffect(()=>{if(!e)return;const y=async()=>{try{const m=await $(`/api/tournaments/${e}/games`);if(!m.ok)throw new Error("Failed to fetch games");const f=await m.json();console.log(" Bracket games data:",f),i(f.games||[]),u(!1)}catch(m){console.error("Failed to fetch games:",m)}};y();const N=setInterval(y,3e3);return()=>clearInterval(N)},[e]);const p=n.filter(y=>y.round===r),d=n.length>0?Math.max(...n.map(y=>y.round)):1,h=n.length>0&&n.every(y=>y.status==="finished");b.useEffect(()=>{if(n.length!==0){for(let y=1;y<=d;y++)if(n.filter(f=>f.round===y).some(f=>f.status!=="finished")){c(y);return}c(d)}},[n,d]);const g=y=>y===null?"???":y===a?"YOU":`PLAYER #${y}`;if(o)return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-black",style:{backgroundImage:"linear-gradient(45deg, #1a1a2e 25%, transparent 25%, transparent 75%, #1a1a2e 75%, #1a1a2e), linear-gradient(45deg, #1a1a2e 25%, transparent 25%, transparent 75%, #1a1a2e 75%, #1a1a2e)",backgroundSize:"40px 40px",backgroundPosition:"0 0, 20px 20px"},children:s.jsx("p",{className:"text-yellow-300 text-2xl animate-pulse font-bold",style:{fontFamily:"monospace",textShadow:"0 0 10px #ffff00"},children:"LOADING BRACKET..."})});if(h){const y=n.find(m=>m.round===d),N=y==null?void 0:y.winner_id;return s.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-black p-4",style:{backgroundImage:"linear-gradient(45deg, #1a1a2e 25%, transparent 25%, transparent 75%, #1a1a2e 75%, #1a1a2e), linear-gradient(45deg, #1a1a2e 25%, transparent 25%, transparent 75%, #1a1a2e 75%, #1a1a2e)",backgroundSize:"40px 40px",backgroundPosition:"0 0, 20px 20px"},children:[s.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{backgroundImage:"repeating-linear-gradient(0deg, rgba(0,0,0,0.15) 0px, rgba(0,0,0,0.15) 1px, transparent 1px, transparent 2px)"}}),s.jsxs("div",{className:"relative z-10 w-full max-w-md text-center",children:[s.jsx("h1",{className:"text-5xl font-black mb-4",style:{color:"#ffff00",textShadow:"0 0 10px #ffff00, 0 0 20px #ffff00, 0 0 40px #ffff00, 3px 3px 0 #ff00ff",fontFamily:"monospace"},children:" CHAMPION "}),s.jsxs("div",{className:"border-4 p-8 bg-gray-900 mb-6",style:{borderColor:"#ffff00",boxShadow:"0 0 30px rgba(255,255,0,0.6), inset 0 0 20px rgba(255,255,0,0.2)"},children:[s.jsx("p",{className:"text-4xl font-black text-white mb-4",style:{fontFamily:"monospace",textShadow:"0 0 10px #fff, 2px 2px 0 #ff00ff"},children:g(N||null)}),s.jsx("p",{className:"text-green-400 font-bold text-lg",style:{fontFamily:"monospace",textShadow:"0 0 10px #00ff00"},children:"TOURNAMENT COMPLETE!"})]}),s.jsx("button",{onClick:()=>l(N||0),className:"w-full p-4 bg-yellow-600 hover:bg-yellow-500 border-4 border-yellow-300 font-black text-yellow-300 uppercase transition-all duration-200 transform hover:scale-105 active:scale-95",style:{fontFamily:"monospace",boxShadow:"0 0 20px rgba(255,255,0,0.6)",textShadow:"2px 2px 0 #000"},children:"RETURN TO MENU"})]})]})}const j=y=>y===d?" FINAL":y===d-1?" SEMI-FINALS":` ROUND ${y}`;return s.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-black p-4",style:{backgroundImage:"linear-gradient(45deg, #1a1a2e 25%, transparent 25%, transparent 75%, #1a1a2e 75%, #1a1a2e), linear-gradient(45deg, #1a1a2e 25%, transparent 25%, transparent 75%, #1a1a2e 75%, #1a1a2e)",backgroundSize:"40px 40px",backgroundPosition:"0 0, 20px 20px"},children:[s.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{backgroundImage:"repeating-linear-gradient(0deg, rgba(0,0,0,0.15) 0px, rgba(0,0,0,0.15) 1px, transparent 1px, transparent 2px)"}}),s.jsxs("div",{className:"relative z-10 w-full max-w-2xl",children:[s.jsx("h1",{className:"text-4xl font-black text-center mb-2",style:{color:"#ffff00",textShadow:"0 0 10px #ffff00, 0 0 20px #ffff00, 3px 3px 0 #ff00ff",fontFamily:"monospace",letterSpacing:"4px"},children:"TOURNAMENT BRACKET"}),s.jsx("div",{className:"flex justify-center gap-2 mb-6",children:Array.from({length:d},(y,N)=>N+1).map(y=>{const N=n.filter(v=>v.round===y),m=N.every(v=>v.status==="finished"),f=N.some(v=>v.status==="ready"||v.status==="ongoing"),x=N.every(v=>v.status==="pending");return s.jsxs("button",{onClick:()=>c(y),className:`px-4 py-2 border-4 font-black uppercase transition-all duration-200 ${r===y?"transform scale-110":""}`,style:{fontFamily:"monospace",fontSize:"12px",backgroundColor:r===y?"#1a1a2e":"#000",borderColor:m?"#00ff00":f?"#ffff00":x?"#666":r===y?"#00ffff":"#444",color:m?"#00ff00":f?"#ffff00":x?"#666":"#00ffff",boxShadow:r===y?`0 0 15px ${m?"rgba(0,255,0,0.5)":f?"rgba(255,255,0,0.5)":"rgba(0,255,255,0.3)"}`:"none",textShadow:x?"none":"0 0 5px currentColor"},children:[y===d?"FINAL":`R${y}`,m&&" "]},y)})}),s.jsxs("div",{className:"border-4 p-8 bg-gray-900",style:{borderColor:"#ff00ff",boxShadow:"inset 0 0 10px rgba(255,0,255,0.3), 0 0 20px rgba(255,0,255,0.5)"},children:[s.jsxs("div",{className:"bg-black border-4 border-cyan-400 p-4 mb-8 text-center",style:{boxShadow:"0 0 15px rgba(0,255,255,0.4)",fontFamily:"monospace"},children:[s.jsx("p",{className:"text-cyan-400 font-black text-xl uppercase",style:{textShadow:"0 0 10px #00ffff"},children:j(r)}),s.jsxs("p",{className:"text-gray-500 text-xs mt-1",children:[p.length," MATCH",p.length!==1?"ES":""]})]}),s.jsx("div",{className:"space-y-4 mb-8",children:p.map(y=>{const N=y.player1_id===a||y.player2_id===a,m=y.status==="finished",f=y.status==="ongoing",x=y.status==="ready",v=y.status==="pending";return console.log(` Game ${y.id}: status=${y.status}, p1=${y.player1_id}, p2=${y.player2_id}, currentUserId=${a}, isMyMatch=${N}, isReady=${x}`),s.jsxs("div",{className:"bg-black border-4 p-6",style:{fontFamily:"monospace",borderColor:m?"#00ff00":x&&N?"#ffff00":f?"#ff6b6b":v?"#444":"#666",boxShadow:m?"0 0 10px rgba(0,255,0,0.3)":x&&N?"0 0 15px rgba(255,255,0,0.4)":f?"0 0 15px rgba(255,107,107,0.4)":"none",opacity:v?.5:1},children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("p",{className:`font-black text-lg ${y.winner_id===y.player1_id?"text-green-400":v&&!y.player1_id?"text-gray-600":"text-white"}`,style:{textShadow:y.winner_id===y.player1_id?"0 0 10px #00ff00":"none"},children:[y.winner_id===y.player1_id&&" ",g(y.player1_id)]}),m&&y.score_player1!==null&&s.jsxs("p",{className:"text-cyan-400 text-sm font-bold",children:["SCORE: ",y.score_player1]})]}),s.jsx("div",{className:"mx-4",children:s.jsx("span",{className:"font-black text-2xl",style:{color:v?"#444":"#ff6b6b",textShadow:v?"none":"0 0 10px #ff6b6b, 0 0 20px #ff6b6b"},children:"VS"})}),s.jsxs("div",{className:"flex-1 text-right",children:[s.jsxs("p",{className:`font-black text-lg ${y.winner_id===y.player2_id?"text-green-400":v&&!y.player2_id?"text-gray-600":"text-white"}`,style:{textShadow:y.winner_id===y.player2_id?"0 0 10px #00ff00":"none"},children:[g(y.player2_id),y.winner_id===y.player2_id&&" "]}),m&&y.score_player2!==null&&s.jsxs("p",{className:"text-cyan-400 text-sm font-bold",children:["SCORE: ",y.score_player2]})]})]}),s.jsx("div",{className:"text-center mb-4",children:m&&y.winner_id?s.jsxs("p",{className:"text-green-400 font-black text-sm",style:{textShadow:"0 0 5px #00ff00"},children:[" WINNER: ",g(y.winner_id)]}):f?s.jsx("p",{className:"text-red-400 font-black text-sm animate-pulse",style:{textShadow:"0 0 10px #ff6b6b"},children:" MATCH IN PROGRESS..."}):v?s.jsx("p",{className:"text-gray-600 font-bold text-xs",children:" WAITING FOR PREVIOUS ROUND"}):x?s.jsx("p",{className:"text-yellow-300 font-black text-sm",style:{textShadow:"0 0 5px #ffff00"},children:" READY TO PLAY"}):s.jsxs("p",{className:"text-gray-500 text-xs uppercase",children:["STATUS: ",y.status]})}),x&&N&&s.jsx("button",{onClick:()=>t(y.id),className:"w-full p-3 bg-cyan-700 hover:bg-cyan-600 border-4 border-cyan-400 font-black text-cyan-300 uppercase transition-all duration-200 transform hover:scale-105 active:scale-95",style:{fontFamily:"monospace",boxShadow:"0 0 15px rgba(0,255,255,0.5)",textShadow:"2px 2px 0 #000"},children:" PLAY MATCH"})]},y.id)})}),s.jsxs("div",{className:"flex gap-4 justify-center",children:[s.jsx("button",{onClick:()=>c(Math.max(1,r-1)),disabled:r===1,className:"px-6 py-3 border-4 font-black uppercase transition-all duration-200 transform hover:scale-105 active:scale-95 disabled:opacity-30 disabled:transform-none",style:{fontFamily:"monospace",backgroundColor:r===1?"#333":"#1a1a2e",borderColor:r===1?"#555":"#00ffff",color:r===1?"#555":"#00ffff",boxShadow:r===1?"none":"0 0 10px rgba(0,255,255,0.3)",textShadow:r===1?"none":"0 0 5px #00ffff"},children:"<< PREV"}),s.jsx("button",{onClick:()=>c(Math.min(d,r+1)),disabled:r===d,className:"px-6 py-3 border-4 font-black uppercase transition-all duration-200 transform hover:scale-105 active:scale-95 disabled:opacity-30 disabled:transform-none",style:{fontFamily:"monospace",backgroundColor:r===d?"#333":"#1a1a2e",borderColor:r===d?"#555":"#00ffff",color:r===d?"#555":"#00ffff",boxShadow:r===d?"none":"0 0 10px rgba(0,255,255,0.3)",textShadow:r===d?"none":"0 0 5px #00ffff"},children:"NEXT >>"})]})]}),s.jsx("p",{className:"text-green-400 font-bold text-sm text-center mt-6",style:{fontFamily:"monospace",textShadow:"0 0 10px #00ff00"},children:">>> FIGHT YOUR WAY TO THE TOP <<<"})]})]})}function by({gameData:e,websocket:t,onCountdownComplete:l,gameMode:a,currentUserId:n}){const[i,r]=b.useState(3),[c,o]=b.useState(!1),u=()=>{switch(a){case"singleplayer":return" VS BOT";case"multiplayer":return" LOCAL PVP";case"online":return" ONLINE MATCH";default:return" PONG"}};return b.useEffect(()=>{if(a!=="online"||!(e!=null&&e.id)){o(!0);return}const p=localStorage.getItem("token");if(!p){console.error(" No token for WebSocket connection");return}const d=window.location.protocol==="https:"?"wss":"ws",h=window.location.hostname,g=window.location.port,j=`${d}://${h}:${g}/ws/${p}`;console.log(" Connecting to game server:",j);const y=new WebSocket(j),N=[];return y.onmessage=m=>{console.log(" Buffered message during countdown:",m.data),N.push(m)},y.__bufferedMessages=N,y.onopen=()=>{console.log(" WebSocket connected to game server"),y.send(JSON.stringify({type:"START_GAME",game_id:e.id,player1_id:e.player1_id,player2_id:e.player2_id})),console.log(" Sent START_GAME:",{game_id:e.id,player1_id:e.player1_id,player2_id:e.player2_id}),t.current=y,o(!0)},y.onerror=m=>{console.error(" WebSocket error:",m)},y.onclose=()=>{console.log(" WebSocket closed")},()=>{}},[a,e,n,t]),b.useEffect(()=>{if(!c)return;if(i<=0){const d=setTimeout(()=>{l()},500);return()=>clearTimeout(d)}const p=setTimeout(()=>{r(i-1)},1e3);return()=>clearTimeout(p)},[i,l,c]),s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-black p-4",style:{backgroundImage:"linear-gradient(45deg, #1a1a2e 25%, transparent 25%, transparent 75%, #1a1a2e 75%, #1a1a2e), linear-gradient(45deg, #1a1a2e 25%, transparent 25%, transparent 75%, #1a1a2e 75%, #1a1a2e)",backgroundSize:"40px 40px",backgroundPosition:"0 0, 20px 20px"},children:s.jsxs("div",{className:"relative z-10 text-center",children:[s.jsx("p",{className:"text-cyan-400 text-2xl font-bold mb-8 uppercase",style:{fontFamily:"monospace",textShadow:"0 0 10px #00ffff"},children:u()}),!c&&a==="online"?s.jsx("div",{className:"text-yellow-300 text-3xl font-bold animate-pulse",style:{fontFamily:"monospace",textShadow:"0 0 10px #ffff00"},children:"CONNECTING TO SERVER..."}):s.jsx("div",{className:"text-9xl font-black mb-8",style:{color:i===1?"#ff0000":i===0?"#00ffff":"#00ff00",textShadow:i===1?"0 0 30px #ff0000, 0 0 60px #ff0000":"0 0 30px #00ff00, 0 0 60px #00ff00",fontFamily:"monospace",animation:i===0?"none":"pulse 1s infinite"},children:i>0?i:"GO!"}),s.jsx("style",{children:`
          @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
          }
        `})]})})}function vy({gameMode:e,winnerLabel:t,scorePlayer1:l,scorePlayer2:a,player1Label:n,player2Label:i,onBackToMenu:r}){const c=()=>{switch(e){case"singleplayer":return" VS BOT";case"multiplayer":return" LOCAL PVP";case"online":return" ONLINE MATCH";default:return" PONG"}},o=t.includes("LOST"),u=o?"#ff4444":"#ffd700",p=o?"0 0 30px #ff4444, 0 0 60px #ff0000":"0 0 30px #ffd700, 0 0 60px #ffa500",d=o?"":"";return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-black p-4",style:{backgroundImage:"linear-gradient(45deg, #1a1a2e 25%, transparent 25%, transparent 75%, #1a1a2e 75%, #1a1a2e), linear-gradient(45deg, #1a1a2e 25%, transparent 25%, transparent 75%, #1a1a2e 75%, #1a1a2e)",backgroundSize:"40px 40px",backgroundPosition:"0 0, 20px 20px"},children:s.jsxs("div",{className:"relative z-10 text-center",children:[s.jsx("p",{className:"text-cyan-400 text-xl font-bold mb-4 uppercase",style:{fontFamily:"monospace",textShadow:"0 0 10px #00ffff"},children:c()}),s.jsxs("div",{className:"text-6xl font-black mb-6",style:{color:u,textShadow:p,fontFamily:"monospace"},children:[d," ",t," ",d]}),s.jsxs("div",{className:"flex items-center justify-center gap-8 mb-10",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold mb-2",style:{color:"#5885a2",textShadow:"0 0 10px #5885a2",fontFamily:"monospace"},children:n}),s.jsx("p",{className:"text-7xl font-black",style:{color:l>a?"#00ff00":"#ff4444",textShadow:l>a?"0 0 20px #00ff00, 0 0 40px #00ff00":"0 0 20px #ff4444",fontFamily:"monospace"},children:l})]}),s.jsx("div",{className:"text-4xl font-bold",style:{color:"#666",fontFamily:"monospace"},children:""}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold mb-2",style:{color:"#b8383b",textShadow:"0 0 10px #b8383b",fontFamily:"monospace"},children:i}),s.jsx("p",{className:"text-7xl font-black",style:{color:a>l?"#00ff00":"#ff4444",textShadow:a>l?"0 0 20px #00ff00, 0 0 40px #00ff00":"0 0 20px #ff4444",fontFamily:"monospace"},children:a})]})]}),s.jsx("button",{onClick:r,className:"px-8 py-3 text-xl font-bold rounded-lg transition-all duration-300 hover:scale-105",style:{background:"linear-gradient(135deg, #6366f1, #8b5cf6)",color:"white",fontFamily:"monospace",boxShadow:"0 0 20px rgba(99, 102, 241, 0.5)",border:"2px solid #818cf8"},children:" BACK TO MENU"})]})})}function ir(e){const t=e.style.display,l=.75;e.setAttribute("style",`height:${e.offsetWidth*l}px`),e.setAttribute("style",`display:${t}`),e.style.height=String(e.offsetWidth*l)+"px"}function jy({screen:e,gameMode:t,lobbyId:l,error:a,websocket:n,setScreen:i,setGameMode:r,handleRandomPlayer:c,handleHostReq:o,joinLobbyReq:u,resetPlayerStatus:p,gameData:d,tournamentId:h,selectedBracketSize:g,currentUser:j,isTournamentMatch:y,gameResult:N,handleBackToMenu:m,setTournamentId:f,setGameData:x,setError:v,handleTournamentPlayMatch:E,handleTournamentFinished:_,onTournamentJoined:w,onTournamentCreated:O,onTournamentStarted:M,onTournamentLeft:R,onCreateTournament:V,onBackFromCreate:W,onBackFromJoin:Te}){b.useEffect(()=>{const K=document.getElementById("game-ui");if(K!==null)return ir(K),window.addEventListener("resize",()=>{ir(K)}),()=>{removeEventListener("resize",()=>{ir(K)})}},[]);const ke=async K=>{(await $("/api/auth/validate")).ok&&K()};switch(e){case"main":return s.jsx(iy,{onModeSelect:K=>{K==="singleplayer"?i("local"):K==="multiplayer"?ke(()=>i("online")):K==="tournament"&&ke(()=>i("tournament"))}});case"local":return s.jsx(ry,{onSinglePlayer:()=>{r("singleplayer"),i("countdown")},onMultiPlayer:()=>{r("multiplayer"),i("countdown")},onBack:()=>{r("none"),i("main")}});case"online":return s.jsx(cy,{onPlayRandom:c,onHostLobby:()=>{o()},onJoinLobby:()=>i("join-lobby"),onTournament:()=>i("tournament"),onBack:()=>i("main")});case"host-lobby":return s.jsx(oy,{lobbyId:l,onGameCreated:K=>{x(K),r("online"),i("ready-room")},onBack:()=>{i("online"),p()}});case"join-lobby":return s.jsx(uy,{onJoin:K=>u(K),onBack:()=>i("online")});case"ready-room":return s.jsx(dy,{gameData:d,websocket:n,gameMode:t,lobbyId:l,currentUser:j,onBothReady:()=>i("countdown"),onBack:()=>{i("online"),p()}});case"tournament":return s.jsx(py,{tournamentId:h,onTournamentJoined:w,onCreateNew:V,onBack:Te});case"create-tournament":return s.jsx(xy,{onTournamentCreated:O,onBack:W});case"tournament-lobby":return s.jsx(gy,{tournamentId:h,maxParticipants:g,websocket:n,onStartTournament:M,onLeaveTournament:R});case"tournament-bracket":return s.jsx(yy,{tournamentId:h,onPlayMatch:E,onTournamentFinished:_,currentUserId:j==null?void 0:j.id});case"countdown":return s.jsx(by,{gameData:d,websocket:n,onCountdownComplete:()=>i("game"),gameMode:t,currentUserId:j==null?void 0:j.id});case"searching":return s.jsx(fy,{onCancel:()=>{r("none"),i("online"),p()},onGameFound:K=>{x(K),r("online"),i("ready-room")}});case"game":return s.jsx(sy,{mode:t,websocket:n});case"timeout":return s.jsx(hy,{onExit:()=>{r("none"),i("main"),p()},onRetry:async()=>{await p(),c()}});case"error":return s.jsx("div",{className:"flex items-center justify-center min-h-screen bg-red-900",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-white text-2xl mb-4",children:a}),s.jsx("button",{onClick:()=>{r("none"),i("main"),p()},className:"bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-4 rounded",children:"Return to Main Menu"})]})});case"websocket-connecting":return s.jsx("div",{className:"flex items-center justify-center min-h-screen bg-black",children:s.jsx("p",{className:"text-cyan-400 text-2xl font-arcade animate-pulse",children:"CONNECTING TO SERVER..."})});case"websocket-closed":return s.jsx("div",{className:"flex items-center justify-center min-h-screen bg-black",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-red-400 text-2xl font-arcade mb-4",children:"CONNECTION LOST"}),s.jsx("button",{onClick:()=>window.location.reload(),className:"bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-4 rounded",children:"Reconnect"})]})});case"game-results":return N?s.jsx(vy,{gameMode:N.gameMode,winnerLabel:N.winnerLabel,scorePlayer1:N.scorePlayer1,scorePlayer2:N.scorePlayer2,player1Label:N.player1Label,player2Label:N.player2Label,onBackToMenu:m}):s.jsx("div",{className:"flex items-center justify-center min-h-screen bg-black",children:s.jsx("p",{className:"text-white text-xl",children:"No results available"})})}}function Ny(){const[e,t]=b.useState("none"),[l,a]=b.useState("main"),[n,i]=b.useState(""),[r,c]=b.useState(null),[o,u]=b.useState(null),p=b.useRef(null),[d,h]=b.useState(null),[g,j]=b.useState(4),[y,N]=b.useState(null),m=b.useRef(null),f=b.useRef(!1),[x,v]=b.useState(null),E=b.useRef("none");b.useEffect(()=>{E.current=e},[e]),b.useEffect(()=>{m.current=y},[y]),b.useEffect(()=>{(async()=>{try{const k=await(await $("/api/users/profile/me")).json(),D=k.profile||k.data||k;N(D)}catch(z){console.error("Failed to fetch user:",z)}})()},[]),b.useEffect(()=>{const A=z=>{var D;const k=z.detail;if(p.current){const xe=p.current;xe.onmessage=null,xe.onclose=null,xe.onerror=null,xe.close(),p.current=null}if(f.current){a("tournament-bracket"),t("none"),u(null);return}if(k.winnerLabel)v({gameMode:k.gameMode||E.current,winnerLabel:k.winnerLabel,scorePlayer1:k.scorePlayer1,scorePlayer2:k.scorePlayer2,player1Label:k.player1Label,player2Label:k.player2Label});else if(k.disconnect)v({gameMode:"online",winnerLabel:"YOU WIN!",scorePlayer1:0,scorePlayer2:0,player1Label:"OPPONENT",player2Label:"YOU"});else if(k.error)v({gameMode:"online",winnerLabel:"ERROR",scorePlayer1:0,scorePlayer2:0,player1Label:"-",player2Label:"-"});else if(k.winnerId!==void 0){const xe=(D=m.current)==null?void 0:D.id,vt=Number(k.winnerId)===Number(xe);let st,De,it,Al;Number(k.player1Id)===Number(xe)?(st=k.scorePlayer1??0,De=k.scorePlayer2??0,it="YOU",Al="OPPONENT"):(st=k.scorePlayer2??0,De=k.scorePlayer1??0,it="YOU",Al="OPPONENT"),v({gameMode:"online",winnerLabel:vt?"YOU WIN!":"YOU LOST!",scorePlayer1:De,scorePlayer2:st,player1Label:Al,player2Label:it})}else{t("none"),a("main"),u(null),M();return}a("game-results"),u(null)};return window.addEventListener("game-over",A),()=>{window.removeEventListener("game-over",A)}},[]);function _(){t("online"),a("searching"),$("/api/games/matchmaking/cancel",{method:"PUT"}).catch(()=>{}).finally(()=>{$("/api/games/matchmaking",{method:"POST"}).then(A=>{if(!A.ok)throw new Error("Failed matchmaking");return A.json()}).then(A=>{A.data?(u(A.data),a("ready-room")):a("searching")}).catch(()=>{a("main"),t("none")})})}function w(){t("online"),a("searching"),$("/api/games/matchmaking/cancel",{method:"PUT"}).catch(()=>{}).finally(()=>{$("/api/games/host",{method:"POST"}).then(A=>{if(A.ok)return A.json();throw new Error("Failed hosting")}).then(A=>{i(A.data.lobby_id),a("host-lobby")}).catch(()=>{a("main"),t("none")})})}function O(A){t("online"),a("searching"),$("/api/games/joinlobby",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({lobby_id:A})}).then(z=>{if(z.ok)return z.json();throw new Error("Failed to join lobby")}).then(z=>{u(z.data),a("ready-room")}).catch(()=>{a("main"),t("none")})}function M(){$("/api/games/matchmaking/cancel",{method:"PUT"}).then(A=>{if(!A.ok)throw new Error("Failed to cancel matchmaking")}).catch(()=>{})}const R=b.useCallback(()=>{v(null),t("none"),a("main"),u(null),M()},[]),V=b.useCallback((A,z)=>{h(A),j(z),a("tournament-lobby")},[]),W=b.useCallback((A,z)=>{h(A),j(z),a("tournament-lobby")},[]),Te=b.useCallback(()=>{a("tournament-bracket")},[]),ke=b.useCallback(()=>{h(null),f.current=!1,a("main"),t("none")},[]),K=b.useCallback(async A=>{f.current=!0;try{const z=await $(`/api/games/${A}`);if(!z.ok)throw new Error("Failed to fetch game data");const k=await z.json();u(k.data),t("online"),a("ready-room")}catch(z){f.current=!1,c(String(z))}},[]),T=b.useCallback(()=>{p.current&&(p.current.onmessage=null,p.current.onclose=null,p.current.close(),p.current=null),h(null),f.current=!1,t("none"),u(null),a("main")},[]);return s.jsx(s.Fragment,{children:s.jsx(jy,{lobbyId:n,gameMode:e,screen:l,error:r,websocket:p,gameData:o,tournamentId:d,selectedBracketSize:g,currentUser:y,isTournamentMatch:f.current,gameResult:x,handleBackToMenu:R,setScreen:a,setGameMode:t,setTournamentId:h,setGameData:u,setError:c,handleRandomPlayer:_,handleHostReq:w,joinLobbyReq:O,resetPlayerStatus:M,handleTournamentPlayMatch:K,handleTournamentFinished:T,onTournamentJoined:W,onTournamentCreated:V,onTournamentStarted:Te,onTournamentLeft:ke,onCreateTournament:()=>a("create-tournament"),onBackFromCreate:()=>a("tournament"),onBackFromJoin:()=>{a("main"),t("none")}})})}const Sy=()=>{const e=[{id:1,username:"Player1",wins:15,losses:3,rank:1},{id:2,username:"Player2",wins:12,losses:5,rank:2},{id:3,username:"Player3",wins:10,losses:7,rank:3},{id:4,username:"Player4",wins:8,losses:9,rank:4},{id:5,username:"Player5",wins:6,losses:11,rank:5}];return s.jsxs("div",{className:"p-6",children:[s.jsx("h1",{className:"text-4xl font-bold text-center mb-8 text-white",children:"Leaderboard"}),s.jsx("div",{className:"max-w-4xl mx-auto",children:s.jsxs("div",{className:"bg-white/50 backdrop-blur-sm rounded-lg shadow-md overflow-hidden border border-white/20",children:[s.jsx("div",{className:"bg-white/30 backdrop-blur-sm px-6 py-4 border-b border-white/20",children:s.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Top Players"})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-white/20 backdrop-blur-sm",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Rank"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Player"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Wins"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Losses"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Win Rate"})]})}),s.jsx("tbody",{className:"divide-y divide-white/20",children:e.map(t=>s.jsxs("tr",{className:"hover:bg-white/20 backdrop-blur-sm",children:[s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["#",t.rank]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:t.username}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-green-600",children:t.wins}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-red-600",children:t.losses}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[(t.wins/(t.wins+t.losses)*100).toFixed(1),"%"]})]},t.id))})]})})]})})]})},wy=({user:e})=>{const[t,l]=b.useState(null),[a,n]=b.useState(!0);b.useEffect(()=>{e&&!e.is_guest&&i()},[e]);const i=async()=>{n(!0);const o=await ic();console.log("Profile response:",o),o&&l(o),n(!1)};if(e!=null&&e.is_guest)return s.jsx(gm,{to:"/",replace:!0});if(a&&!t)return s.jsxs("div",{className:"p-6 text-center",children:[s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"bg-gray-200 h-8 w-48 mx-auto mb-4 rounded"}),s.jsx("div",{className:"bg-gray-200 h-20 w-20 mx-auto mb-4 rounded-full"}),s.jsx("div",{className:"bg-gray-200 h-4 w-32 mx-auto mb-2 rounded"})]}),s.jsx("p",{className:"text-gray-500 mt-4",children:"Loading profile..."})]});const r=t||e;if(!r)return s.jsx("div",{className:"p-6 text-center text-gray-500",children:"No user data available"});const c=uo(r.avatar_url);return s.jsxs("div",{className:"p-6",children:[s.jsx("div",{className:"bg-white rounded-lg shadow border border-gray-200 p-6 mb-6",children:s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-24 h-24 bg-blue-500 rounded-full flex items-center justify-center overflow-hidden",children:c?s.jsx("img",{src:c,alt:"Avatar",className:"w-full h-full object-cover"}):s.jsx("span",{className:"text-white text-3xl font-bold",children:r.username.charAt(0).toUpperCase()})})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:r.display_name||r.username}),r.nickname&&s.jsxs("p",{className:"text-gray-600 text-lg mt-1",children:["@",r.nickname]}),s.jsxs("p",{className:"text-gray-500 mt-1",children:["Username: ",r.username]}),r.email&&s.jsx("p",{className:"text-gray-500 mt-1",children:r.email})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow border border-gray-200",children:[s.jsx("h3",{className:"text-xl font-semibold mb-4 text-gray-900",children:"Game Statistics"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded",children:[s.jsx("span",{className:"text-gray-700 font-medium",children:"Wins"}),s.jsx("span",{className:"text-green-600 font-bold text-xl",children:r.wins||0})]}),s.jsxs("div",{className:"flex justify-between items-center p-3 bg-red-50 rounded",children:[s.jsx("span",{className:"text-gray-700 font-medium",children:"Losses"}),s.jsx("span",{className:"text-red-600 font-bold text-xl",children:r.losses||0})]}),s.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded",children:[s.jsx("span",{className:"text-gray-700 font-medium",children:"Total Games"}),s.jsx("span",{className:"text-blue-600 font-bold text-xl",children:r.total_games||0})]}),s.jsxs("div",{className:"flex justify-between items-center p-3 bg-purple-50 rounded",children:[s.jsx("span",{className:"text-gray-700 font-medium",children:"Win Rate"}),s.jsx("span",{className:"text-purple-600 font-bold text-xl",children:r.winRate||"0%"})]})]}),(r.total_games||0)===0&&s.jsx("p",{className:"text-center text-gray-500 mt-4 text-sm",children:"No games played yet"})]}),s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow border border-gray-200",children:[s.jsx("h3",{className:"text-xl font-semibold mb-4 text-gray-900",children:"Account Information"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"p-3 bg-gray-50 rounded",children:[s.jsx("div",{className:"text-sm text-gray-600",children:"User ID"}),s.jsx("div",{className:"font-mono text-gray-900",children:r.id})]}),s.jsxs("div",{className:"p-3 bg-gray-50 rounded",children:[s.jsx("div",{className:"text-sm text-gray-600",children:"Username"}),s.jsx("div",{className:"font-medium text-gray-900",children:r.username})]}),r.email&&s.jsxs("div",{className:"p-3 bg-gray-50 rounded",children:[s.jsx("div",{className:"text-sm text-gray-600",children:"Email"}),s.jsx("div",{className:"font-medium text-gray-900",children:r.email})]}),r.nickname&&s.jsxs("div",{className:"p-3 bg-gray-50 rounded",children:[s.jsx("div",{className:"text-sm text-gray-600",children:"Nickname"}),s.jsxs("div",{className:"font-medium text-gray-900",children:["@",r.nickname]})]}),r.display_name&&s.jsxs("div",{className:"p-3 bg-gray-50 rounded",children:[s.jsx("div",{className:"text-sm text-gray-600",children:"Display Name"}),s.jsx("div",{className:"font-medium text-gray-900",children:r.display_name})]})]})]})]})]})};function Ey({onSuccess:e}){const[t,l]=b.useState(null),[a,n]=b.useState(!1),[i,r]=b.useState(""),[c,o]=b.useState(""),[u,p]=b.useState(""),d=async()=>{n(!0),r("");try{const g=localStorage.getItem("token");if(!g){r("You must be logged in to setup 2FA!"),n(!1);return}const j=await fetch("/api/auth/2fa/setup",{method:"POST",headers:{Authorization:`Bearer ${g}`}}),y=await j.json();if(j.ok&&y.success){l(y.qrCode),o(y.message);//! add this in later, delete current message
}else r(y.error||"Failed to setup 2FA")}catch{r("An error occurred while setting up 2FA")}n(!1)},h=async()=>{if(u.length!==6){r("Please enter a 6-digit code");return}n(!0),r("");try{const g=localStorage.getItem("token"),j=await fetch("/api/auth/2fa/enable",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${g}`},body:JSON.stringify({code:u})}),y=await j.json();j.ok&&y.success?(o(" 2FA successfully enabled!"),l(null),p(""),e&&e()):r(y.error||"Invalid code. Please try again.")}catch(g){r("Failed to verify code"),console.error("2FA verification error:",g)}finally{n(!1)}};return s.jsxs("div",{className:"space-y-4",children:[t?s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[s.jsx("p",{className:"text-sm text-gray-700 mb-3",children:c}),s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("img",{src:t,alt:"2FA QR Code",className:"border-4 border-white shadow-lg rounded"})}),s.jsxs("div",{className:"space-y-3 mt-4",children:[s.jsx("p",{className:"text-sm text-gray-700 font-semibold",children:"Enter the code from your authenticator app:"}),s.jsx("input",{type:"text",value:u,onChange:g=>p(g.target.value.replace(/\D/g,"").slice(0,6)),placeholder:"000000",maxLength:6,inputMode:"numeric",className:"w-full px-4 py-2 text-center text-xl tracking-widest border rounded-md focus:ring-2 focus:ring-blue-500"}),s.jsx("button",{onClick:h,disabled:a||u.length!==6,className:"w-full bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600 disabled:bg-gray-400 transition-colors",children:a?"Verifying...":"Verify & Enable 2FA"})]})]})}):s.jsx("button",{onClick:d,disabled:a,className:"w-full bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 disabled:bg-gray-400 transition-colors",children:a?"Generating QR Code...":"Generate QR Code"}),i&&s.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:s.jsx("p",{className:"text-red-700 text-sm",children:i})})]})}const Ty=({user:e,onUserUpdate:t})=>{const[l,a]=b.useState("profile"),[n,i]=b.useState(!1),[r,c]=b.useState(null),[o,u]=b.useState(!1),[p,d]=b.useState(!1),[h,g]=b.useState(""),[j,y]=b.useState(!1),[N,m]=b.useState(!1),[f,x]=b.useState(!1),[v,E]=b.useState(""),[_,w]=b.useState(""),[O,M]=b.useState(""),[R,V]=b.useState({display_name:"",nickname:"",email:""}),[W,Te]=b.useState({current_password:"",new_password:"",confirm_password:""}),[ke,K]=b.useState(null),[T,A]=b.useState(null),[z,k]=b.useState(null);b.useEffect(()=>{e&&V({display_name:e.display_name||"",nickname:e.nickname||"",email:e.email||""})},[e]);const D=(U,X)=>{c({type:U,text:X}),setTimeout(()=>c(null),5e3)},xe=async U=>{U.preventDefault(),i(!0);try{const X={};z==="display_name"?X.display_name=R.display_name:z==="nickname"?X.nickname=R.nickname:z==="email"&&(X.email=R.email);const B=await $("/api/users/profile/me",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(X)}),yi=await B.json();B.ok?(D("success","Profile updated successfully"),k(null),t&&t({...e,...X})):D("error",yi.error||"Failed to update profile")}catch{D("error","Network error. Please try again.")}finally{i(!1)}},vt=async U=>{if(U.preventDefault(),W.new_password!==W.confirm_password){D("error","New passwords do not match");return}if(W.new_password.length<8){D("error","Password must be at least 8 characters long");return}i(!0);try{const X=await $("/api/users/change-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({current_password:W.current_password,new_password:W.new_password})}),B=await X.json();X.ok?(D("success","Password changed successfully"),Te({current_password:"",new_password:"",confirm_password:""})):D("error",B.error||"Failed to change password")}catch{D("error","Network error. Please try again.")}finally{i(!1)}},st=async()=>{if(ke){i(!0);try{const U=new FormData;U.append("file",ke);const X=await $("/api/users/profile/avatar",{method:"POST",body:U}),B=await X.json();X.ok?(D("success","Avatar uploaded successfully"),K(null),A(null),t&&t({...e,avatar_url:B.avatar_url})):D("error",B.error||"Failed to upload avatar")}catch{D("error","Network error. Please try again.")}finally{i(!1)}}},De=U=>{var B;const X=(B=U.target.files)==null?void 0:B[0];if(X){if(X.type!=="image/jpg"){D("error","Only JPG files are allowed"),U.target.value="";return}if(X.size>5*1024*1024){D("error","File size must be less than 5MB"),U.target.value="";return}K(X),A(URL.createObjectURL(X))}},it=async U=>{if(U.preventDefault(),h.length!==6){D("error","Please enter a valid 6-digit code");return}i(!0);try{const X=await $("/api/auth/2fa/disable",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:h})}),B=await X.json();X.ok?(D("success","2FA disabled successfully"),d(!1),g(""),t&&t({...e,two_factor_enabled:!1})):D("error",B.error||"Failed to disable 2FA")}catch{D("error","Network error. Please try again.")}finally{i(!1)}},Al=async()=>{console.log(" handleAnonymizeProfile called"),i(!0);try{console.log(" Sending request to /api/users/anonymize");const U=await $("/api/users/anonymize",{method:"POST"});console.log(" Response status:",U.status);const X=await U.json();console.log(" Response data:",X),U.ok?(D("success","Profile anonymized successfully. Logging out..."),t&&t({...e,is_anonymous:!0})):D("error",X.error||"Failed to anonymize profile")}catch(U){console.error(" Error:",U),D("error","Network error. Please try again.")}finally{i(!1),y(!1)}},C=async U=>{if(U.preventDefault(),!v){D("error","Please enter your password to confirm deletion");return}i(!0);try{const X=await $("/api/users/me",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:v})});if(X.ok)w(""),M("Account deleted. Going back to the login page..."),setTimeout(()=>{localStorage.removeItem("token"),window.location.href="/"},2e3);else{const B=await X.json();w(B.error||"Failed to delete account")}}catch{w("Network error. Please try again.")}finally{i(!1)}};if(!e)return s.jsx("div",{className:"p-6 text-center",children:s.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6 max-w-md mx-auto",children:[s.jsx("h2",{className:"text-xl font-semibold text-yellow-800 mb-2",children:"Authentication Required"}),s.jsx("p",{className:"text-yellow-700 mb-4",children:"Please log in to access settings."}),s.jsx("button",{onClick:()=>window.location.reload(),className:"bg-yellow-600 text-white px-4 py-2 rounded hover:bg-yellow-700",children:"Go to Login"})]})});if(e.is_guest)return s.jsx(gm,{to:"/",replace:!0});const Y=uo(e.avatar_url);return s.jsxs("div",{className:"p-6",children:[r&&s.jsx("div",{className:`mb-6 p-4 rounded-lg ${r.type==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:r.text}),f&&s.jsx(sc,{isModal:!0,lightMode:!0,onClose:()=>x(!1)}),N&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-xl max-w-md w-full",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full mx-auto mb-4 flex items-center justify-center",children:s.jsx("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})}),s.jsx("p",{className:"text-2xl font-bold text-red-600 mb-2",children:"!FINAL WARNING!"}),s.jsx("h2",{className:"text-2xl font-bold text-red-600 mb-2",children:"Delete Account"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"This action is permanent and cannot be undone"})]}),s.jsxs("div",{className:"bg-red-50 rounded-lg p-4 mb-6",children:[s.jsx("h3",{className:"font-semibold text-red-900 mb-3",children:"This will permanently:"}),s.jsxs("ul",{className:"space-y-2 text-sm text-red-800",children:[s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("svg",{className:"w-5 h-5 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),s.jsx("span",{children:"Delete your account and all data"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("svg",{className:"w-5 h-5 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),s.jsx("span",{children:"Remove all game history"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("svg",{className:"w-5 h-5 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),s.jsx("span",{children:"Clear all profile information"})]})]})]}),s.jsxs("form",{onSubmit:C,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"If you are still absolutely sure, enter your password to confirm"}),s.jsx("input",{type:"password",value:v,onChange:U=>{E(U.target.value),w("")},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Your password",required:!0,disabled:!!O}),_&&s.jsx("p",{className:"mt-2 text-sm text-red-600",role:"alert",children:_}),O&&s.jsx("p",{className:"mt-2 text-sm text-green-600",role:"status",children:O})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{type:"submit",disabled:n||!v||!!O,className:"flex-1 bg-red-500 text-white py-3 px-4 rounded-lg font-medium hover:bg-red-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:n?"Deleting...":"Delete Account"}),s.jsx("button",{type:"button",onClick:()=>{m(!1),E(""),w(""),M("")},disabled:n,className:"flex-1 bg-gray-200 text-gray-800 py-3 px-4 rounded-lg font-medium hover:bg-gray-300 transition-colors disabled:opacity-50",children:"Cancel"})]})]})]})}),j&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-xl max-w-md w-full",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full mx-auto mb-4 flex items-center justify-center",children:s.jsx("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),s.jsx("h2",{className:"text-2xl font-bold text-red-600 mb-2",children:"Anonymize Profile"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"This action is permanent and cannot be undone"})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"This will:"}),s.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("svg",{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),s.jsx("span",{children:"Hide your personal information"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("svg",{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),s.jsx("span",{children:"Permanently restrict chat access"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("svg",{className:"w-5 h-5 text-green-500 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),s.jsx("span",{children:"Keep your game statistics"})]})]})]}),s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 mb-6",children:s.jsx("p",{className:"text-red-800 text-sm font-semibold text-center",children:" This cannot be reversed!"})}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:Al,disabled:n,className:"flex-1 bg-red-500 text-white py-3 px-4 rounded-lg font-medium hover:bg-red-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:n?"Processing...":"Yes, Anonymize"}),s.jsx("button",{onClick:()=>y(!1),disabled:n,className:"flex-1 bg-gray-200 text-gray-800 py-3 px-4 rounded-lg font-medium hover:bg-gray-300 transition-colors",children:"Cancel"})]})]})}),o&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl max-w-md w-full",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h2",{className:"text-xl font-bold",children:"Enable Two-Factor Authentication"}),s.jsx("button",{onClick:()=>u(!1),className:"text-gray-500 hover:text-gray-700 text-2xl leading-none",children:""})]}),s.jsx(Ey,{onSuccess:()=>{u(!1),D("success","2FA enabled successfully!"),t&&e&&t({...e,two_factor_enabled:!0})}})]})}),p&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl max-w-md w-full",children:[s.jsx("h2",{className:"text-xl font-bold mb-4",children:"Disable Two-Factor Authentication"}),s.jsxs("form",{onSubmit:it,children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Enter your 6-digit code"}),s.jsx("input",{type:"text",value:h,onChange:U=>g(U.target.value.replace(/\D/g,"").slice(0,6)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"000000",maxLength:6})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{type:"submit",disabled:n||h.length!==6,className:"flex-1 bg-red-500 text-white py-2 px-4 rounded hover:bg-red-600 disabled:opacity-50",children:n?"Disabling...":"Disable 2FA"}),s.jsx("button",{type:"button",onClick:()=>{d(!1),g("")},className:"flex-1 bg-gray-500 text-white py-2 px-4 rounded hover:bg-gray-600",children:"Cancel"})]})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[s.jsx("div",{className:"lg:col-span-1",children:s.jsxs("nav",{className:"bg-white rounded-lg shadow border border-gray-200 overflow-hidden",children:[s.jsx("button",{onClick:()=>a("profile"),className:`w-full px-4 py-3 text-left transition-colors border-l-4 ${l==="profile"?"bg-blue-50 border-blue-500 text-blue-700":"border-transparent text-gray-700 hover:bg-gray-50"}`,children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:1.5,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"})}),s.jsx("span",{className:"font-medium",children:"Profile"})]})}),s.jsx("button",{onClick:()=>a("security"),className:`w-full px-4 py-3 text-left transition-colors border-l-4 ${l==="security"?"bg-blue-50 border-blue-500 text-blue-700":"border-transparent text-gray-700 hover:bg-gray-50"}`,children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:1.5,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"})}),s.jsx("span",{className:"font-medium",children:"Security"})]})}),s.jsx("button",{onClick:()=>a("privacy"),className:`w-full px-4 py-3 text-left transition-colors border-l-4 ${l==="privacy"?"bg-blue-50 border-blue-500 text-blue-700":"border-transparent text-gray-700 hover:bg-gray-50"}`,children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:1.5,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z"})}),s.jsx("span",{className:"font-medium",children:"Privacy & Data"})]})})]})}),s.jsxs("div",{className:"lg:col-span-3",children:[l==="profile"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow border border-gray-200",children:[s.jsx("div",{className:"p-4 border-b border-gray-200",children:s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Avatar"})}),s.jsx("div",{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsx("div",{className:"w-20 h-20 bg-blue-500 rounded-full flex items-center justify-center overflow-hidden flex-shrink-0",children:T?s.jsx("img",{src:T,alt:"Preview",className:"w-full h-full object-cover"}):Y?s.jsx("img",{src:Y,alt:"Avatar",className:"w-full h-full object-cover"}):s.jsx("span",{className:"text-white text-2xl font-bold",children:e.username.charAt(0).toUpperCase()})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("input",{type:"file",accept:".jpg,image/jpg",onChange:De,className:"hidden",id:"avatar-upload"}),s.jsx("label",{htmlFor:"avatar-upload",className:"inline-block bg-gray-100 hover:bg-gray-200 text-gray-800 px-4 py-2 rounded cursor-pointer transition-colors",children:"Choose File"}),ke&&s.jsx("button",{onClick:st,disabled:n,className:"ml-2 bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded disabled:opacity-50",children:n?"Uploading...":"Upload"}),s.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"JPG Max 5MB."})]})]})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow border border-gray-200",children:[s.jsx("div",{className:"p-4 border-b border-gray-200",children:s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Profile Information"})}),s.jsxs("div",{className:"p-4 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Display Name"}),z==="display_name"?s.jsxs("form",{onSubmit:xe,className:"flex gap-2",children:[s.jsx("input",{type:"text",value:R.display_name,onChange:U=>V({...R,display_name:U.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"}),s.jsx("button",{type:"submit",disabled:n,className:"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 disabled:opacity-50",children:"Save"}),s.jsx("button",{type:"button",onClick:()=>k(null),className:"bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600",children:"Cancel"})]}):s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-900",children:e.display_name||"Not set"}),s.jsx("button",{onClick:()=>k("display_name"),className:"text-blue-500 hover:text-blue-600 text-sm",children:"Edit"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nickname"}),z==="nickname"?s.jsxs("form",{onSubmit:xe,className:"flex gap-2",children:[s.jsx("input",{type:"text",value:R.nickname,onChange:U=>V({...R,nickname:U.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"}),s.jsx("button",{type:"submit",disabled:n,className:"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 disabled:opacity-50",children:"Save"}),s.jsx("button",{type:"button",onClick:()=>k(null),className:"bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600",children:"Cancel"})]}):s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-900",children:e.nickname||"Not set"}),s.jsx("button",{onClick:()=>k("nickname"),className:"text-blue-500 hover:text-blue-600 text-sm",children:"Edit"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),z==="email"?s.jsxs("form",{onSubmit:xe,className:"flex gap-2",children:[s.jsx("input",{type:"email",value:R.email,onChange:U=>V({...R,email:U.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"}),s.jsx("button",{type:"submit",disabled:n,className:"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 disabled:opacity-50",children:"Save"}),s.jsx("button",{type:"button",onClick:()=>k(null),className:"bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600",children:"Cancel"})]}):s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-900",children:e.email||"Not set"}),s.jsx("button",{onClick:()=>k("email"),className:"text-blue-500 hover:text-blue-600 text-sm",children:"Edit"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Username"}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-900",children:e.username}),s.jsx("span",{className:"text-xs text-gray-500",children:"Cannot be changed"})]})]})]})]})]}),l==="security"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow border border-gray-200",children:[s.jsx("div",{className:"p-4 border-b border-gray-200",children:s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Change Password"})}),s.jsx("div",{className:"p-4",children:s.jsxs("form",{onSubmit:vt,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Current Password"}),s.jsx("input",{type:"password",value:W.current_password,onChange:U=>Te({...W,current_password:U.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"New Password"}),s.jsx("input",{type:"password",value:W.new_password,onChange:U=>Te({...W,new_password:U.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0,minLength:8})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm New Password"}),s.jsx("input",{type:"password",value:W.confirm_password,onChange:U=>Te({...W,confirm_password:U.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0,minLength:8})]}),s.jsx("button",{type:"submit",disabled:n,className:"w-full bg-blue-500 text-white py-2 px-4 rounded-lg hover:bg-blue-600 disabled:opacity-50",children:n?"Changing Password...":"Change Password"})]})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow border border-gray-200",children:[s.jsxs("div",{className:"p-4 border-b border-gray-200",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Two-Factor Authentication"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Add an extra layer of security to your account"})]}),s.jsx("div",{className:"p-4",children:e.two_factor_enabled?s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center",children:s.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:"2FA Enabled"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Your account is protected"})]})]}),s.jsx("button",{onClick:()=>d(!0),className:"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg transition-colors",children:"Disable"})]}):s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-gray-100 rounded-full flex items-center justify-center",children:s.jsx("svg",{className:"w-6 h-6 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:1.5,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:"2FA Disabled"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Enable for better security"})]})]}),s.jsx("button",{onClick:()=>u(!0),className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg transition-colors",children:"Enable"})]})})]})]}),l==="privacy"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow border border-gray-200",children:[s.jsx("div",{className:"p-4 border-b border-gray-200",children:s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Privacy policy Ft_transcendence"})}),s.jsx("div",{className:"p-6",children:s.jsxs("p",{className:"text-sm text-gray-700 leading-relaxed",children:["If you want to read the privacy policy,"," ",s.jsx("button",{type:"button",onClick:()=>x(!0),className:"text-sm text-blue-600 hover:text-blue-500 font-medium underline focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-1 rounded",children:"click here"}),"."]})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow border border-gray-200",children:[s.jsx("div",{className:"p-4 border-b border-gray-200",children:s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Anonymous Mode"})}),s.jsx("div",{className:"p-6",children:e.is_anonymous?s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex gap-3",children:[s.jsx("svg",{className:"w-6 h-6 text-green-600 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-green-900 font-semibold mb-2",children:" Anonymous Mode Enabled"}),s.jsx("p",{className:"text-sm text-green-800 leading-relaxed",children:"Your profile is now in anonymous mode. Your personal information has been hidden and chat access is permanently restricted."})]})]})}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Current Status:"}),s.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-green-500 font-bold",children:""}),s.jsx("span",{children:"Personal information is hidden"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-green-500 font-bold",children:""}),s.jsx("span",{children:"Chat access is permanently restricted"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-blue-500 font-bold",children:""}),s.jsx("span",{children:"Game statistics are preserved"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-blue-500 font-bold",children:""}),s.jsx("span",{children:"You can still play games"})]})]})]}),s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:s.jsx("p",{className:"text-red-800 text-sm text-center font-semibold",children:" This action cannot be reversed"})})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6",children:s.jsxs("div",{className:"flex gap-3",children:[s.jsx("svg",{className:"w-6 h-6 text-yellow-600 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-yellow-900 font-semibold mb-2",children:"Warning: Permanent Action"}),s.jsxs("p",{className:"text-sm text-yellow-800 leading-relaxed",children:["Enabling anonymous mode is ",s.jsx("strong",{children:"permanent and cannot be reversed"}),". Your profile will be hidden, personal information removed, and chat access will be permanently restricted."]})]})]})}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"What happens:"}),s.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-red-500 font-bold",children:""}),s.jsx("span",{children:"Personal information (email, display name) will be removed"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-red-500 font-bold",children:""}),s.jsx("span",{children:"Chat access will be permanently restricted"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-green-500 font-bold",children:""}),s.jsx("span",{children:"Game statistics will be preserved"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-green-500 font-bold",children:""}),s.jsx("span",{children:"You can still play games"})]})]})]}),s.jsxs("button",{onClick:()=>y(!0),className:"w-full bg-red-500 hover:bg-red-600 text-white px-6 py-3 rounded-lg font-medium transition-colors flex items-center justify-center gap-2",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),"Enable Anonymous Mode"]})]})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow border border-gray-200",children:[s.jsx("div",{className:"p-4 border-b border-gray-200",children:s.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:"Delete Account"})}),s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"bg-red-50 rounded-lg p-4",children:[s.jsx("p",{className:"text-sm text-red-800 mb-4",children:"Permanently delete your account and all associated data. This action cannot be undone."}),s.jsxs("button",{onClick:()=>{m(!0),w(""),M("")},className:"w-full bg-red-500 hover:bg-red-600 text-white px-6 py-3 rounded-lg font-medium transition-colors flex items-center justify-center gap-2",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Delete Account"]})]})})]})]})]})]})]})},Om=()=>s.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-9xl font-bold text-gray-300",children:"404"}),s.jsx("h2",{className:"text-4xl font-bold text-gray-700 mb-4",children:"Page Not Found"}),s.jsx("p",{className:"text-gray-600 mb-8",children:"Sorry, the page you're looking for doesn't exist."}),s.jsx("button",{onClick:()=>window.location.href="/",className:"bg-blue-500 text-white px-6 py-3 rounded-lg hover:bg-blue-600 transition-colors",children:"Go Home"})]})});function Ay(){const{username:e}=og();return e?s.jsx(Lg,{username:e}):s.jsx(Om,{})}function Cy({user:e,onLogin:t,onLogout:l}){const a=mm(),n=gi(),i=()=>{const o=n.pathname;return o==="/"?"home":o.startsWith("/user/")?"userProfile":o==="/game"?"game":o==="/leaderboard"?"leaderboard":o==="/profile"?"profile":o==="/settings"?"settings":"home"},r=o=>{a(o==="home"?"/":`/${o}`)},c=o=>{a(`/user/${o}`)};return s.jsx(Ug,{user:e,currentView:i(),setCurrentView:r,onLogin:t,onLogout:l,navigateToUserProfile:c,children:s.jsx(wg,{})})}function Oy(){const[e,t]=b.useState(!1),[l,a]=b.useState(!0),[n,i]=b.useState(null),[r,c]=b.useState(!0);b.useEffect(()=>{o()},[]),b.useEffect(()=>{const d=()=>{document.visibilityState==="visible"&&o()};return document.addEventListener("visibilitychange",d),()=>document.removeEventListener("visibilitychange",d)},[]),b.useEffect(()=>{const d=()=>{i(null),t(!1)};return window.addEventListener("auth:unauthorized",d),()=>window.removeEventListener("auth:unauthorized",d)},[]);const o=async()=>{try{if(!localStorage.getItem("token")){c(!1);return}const h=await $("/api/auth/validate");if(h.ok){const g=await h.json();i(g.user),t(!0);const j=await ic();j&&i(y=>y?{...y,...j}:j)}else localStorage.removeItem("token"),i(null),t(!1)}catch(d){console.error("Session check failed:",d)}c(!1)},u=async(d,h)=>{localStorage.setItem("token",h),i(d),t(!0);const g=await ic();g&&i(j=>j?{...j,...g}:g)},p=async()=>{try{const d=localStorage.getItem("token");d&&await fetch("/api/auth/logout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:d})})}catch(d){console.error("Logout failed:",d)}localStorage.removeItem("token"),i(null),t(!1)};return r?s.jsx("div",{className:"min-h-screen bg-gradient-to-b from-slate-800 via-blue-950 to-slate-950 flex items-center justify-center",children:s.jsx("div",{className:"text-xl text-white",children:"Loading..."})}):e?s.jsx(Og,{children:s.jsx("div",{className:"min-h-screen bg-gradient-to-b from-slate-800 via-blue-950 to-slate-950",children:s.jsx(Tg,{children:s.jsxs(Ut,{path:"/",element:s.jsx(Cy,{user:n,onLogin:u,onLogout:p}),children:[s.jsx(Ut,{index:!0,element:s.jsx(Bg,{user:n})}),s.jsx(Ut,{path:"/game",element:s.jsx(Ny,{})}),s.jsx(Ut,{path:"/leaderboard",element:s.jsx(Sy,{})}),s.jsx(Ut,{path:"/profile",element:s.jsx(wy,{user:n})}),s.jsx(Ut,{path:"/settings",element:s.jsx(Ty,{user:n,onUserUpdate:i})}),s.jsx(Ut,{path:"/user/:username",element:s.jsx(Ay,{})}),s.jsx(Ut,{path:"*",element:s.jsx(Om,{})})]})})})}):s.jsx(Dg,{onLoginSuccess:u,children:l?s.jsx(vm,{onLoginSuccess:u,onSwitchToRegister:()=>a(!1),isInPanel:!0}):s.jsx(jm,{onSwitchToLogin:()=>a(!0),isInPanel:!0})})}_p.createRoot(document.getElementById("root")).render(s.jsx(od.StrictMode,{children:s.jsx(Oy,{})}));
